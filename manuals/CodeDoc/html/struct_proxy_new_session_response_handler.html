<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Picto: ProxyNewSessionResponseHandler Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="struct_proxy_new_session_response_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ProxyNewSessionResponseHandler Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Extends NewSessionResponseHandler to gather Neural data and send it to the <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> until the Session ends or the Proxy application is closed.  
 <a href="struct_proxy_new_session_response_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_proxy_new_session_response_handler_8h_source.html">ProxyNewSessionResponseHandler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ProxyNewSessionResponseHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="struct_proxy_new_session_response_handler.png" usemap="#ProxyNewSessionResponseHandler_map" alt=""/>
  <map id="ProxyNewSessionResponseHandler_map" name="ProxyNewSessionResponseHandler_map">
<area href="struct_picto_1_1_new_session_response_handler.html" title="A response handler for NEWSESSION responses. " alt="Picto::NewSessionResponseHandler" shape="rect" coords="0,0,215,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad9715fdd4616f60213b17f7221a431ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9715fdd4616f60213b17f7221a431ea"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ProxyNewSessionResponseHandler</b> (QSharedPointer&lt; <a class="el" href="class_component_status_manager.html">ComponentStatusManager</a> &gt; statusManager, QSharedPointer&lt; <a class="el" href="class_picto_1_1_command_channel.html">Picto::CommandChannel</a> &gt; dataCommandChannel)</td></tr>
<tr class="separator:ad9715fdd4616f60213b17f7221a431ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_struct_picto_1_1_new_session_response_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_struct_picto_1_1_new_session_response_handler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="struct_picto_1_1_new_session_response_handler.html">Picto::NewSessionResponseHandler</a></td></tr>
<tr class="memitem:a792dae47a379006dc1124e5f59aa05d4 inherit pub_methods_struct_picto_1_1_new_session_response_handler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_picto_1_1_new_session_response_handler.html#a792dae47a379006dc1124e5f59aa05d4">NewSessionResponseHandler</a> (QSharedPointer&lt; <a class="el" href="class_component_status_manager.html">ComponentStatusManager</a> &gt; statusManager, QSharedPointer&lt; <a class="el" href="class_picto_1_1_command_channel.html">CommandChannel</a> &gt; commandChannel)</td></tr>
<tr class="memdesc:a792dae47a379006dc1124e5f59aa05d4 inherit pub_methods_struct_picto_1_1_new_session_response_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="struct_picto_1_1_new_session_response_handler.html" title="A response handler for NEWSESSION responses. ">NewSessionResponseHandler</a>.  <a href="#a792dae47a379006dc1124e5f59aa05d4">More...</a><br/></td></tr>
<tr class="separator:a792dae47a379006dc1124e5f59aa05d4 inherit pub_methods_struct_picto_1_1_new_session_response_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925d9dc8e2d0a9c3e8c7d06930906643 inherit pub_methods_struct_picto_1_1_new_session_response_handler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a925d9dc8e2d0a9c3e8c7d06930906643"></a>
QString&#160;</td><td class="memItemRight" valign="bottom"><b>method</b> ()</td></tr>
<tr class="separator:a925d9dc8e2d0a9c3e8c7d06930906643 inherit pub_methods_struct_picto_1_1_new_session_response_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a122cda53c346211dc8ad503dea11727d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_proxy_new_session_response_handler.html#a122cda53c346211dc8ad503dea11727d">processResponse</a> (QString directive)</td></tr>
<tr class="memdesc:a122cda53c346211dc8ad503dea11727d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extends NewSessionResponseHandler::processCommand() to implement what is essentially the Proxy's main method.  <a href="#a122cda53c346211dc8ad503dea11727d">More...</a><br/></td></tr>
<tr class="separator:a122cda53c346211dc8ad503dea11727d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:adce2abbe5633a0c7b1ea773f8ae472e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adce2abbe5633a0c7b1ea773f8ae472e5"></a>
QSharedPointer<br class="typebreak"/>
&lt; <a class="el" href="class_picto_1_1_command_channel.html">Picto::CommandChannel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>dataCommandChannel_</b></td></tr>
<tr class="separator:adce2abbe5633a0c7b1ea773f8ae472e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_struct_picto_1_1_new_session_response_handler"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_struct_picto_1_1_new_session_response_handler')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="struct_picto_1_1_new_session_response_handler.html">Picto::NewSessionResponseHandler</a></td></tr>
<tr class="memitem:a0a0dbe0a4b8698dab1d3f134100680d4 inherit pro_attribs_struct_picto_1_1_new_session_response_handler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a0dbe0a4b8698dab1d3f134100680d4"></a>
QWeakPointer&lt; <a class="el" href="class_picto_1_1_command_channel.html">CommandChannel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>commandChannel_</b></td></tr>
<tr class="separator:a0a0dbe0a4b8698dab1d3f134100680d4 inherit pro_attribs_struct_picto_1_1_new_session_response_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extends NewSessionResponseHandler to gather Neural data and send it to the <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> until the Session ends or the Proxy application is closed. </p>
<p>This class really only extends the <a class="el" href="struct_proxy_new_session_response_handler.html#a122cda53c346211dc8ad503dea11727d" title="Extends NewSessionResponseHandler::processCommand() to implement what is essentially the Proxy&#39;s main...">processResponse()</a> function. See that functions documentation for more details. </p>
<dl class="section author"><dt>Author</dt><dd>Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2013 </dd></dl>

<p>Definition at line <a class="el" href="_proxy_new_session_response_handler_8h_source.html#l00014">14</a> of file <a class="el" href="_proxy_new_session_response_handler_8h_source.html">ProxyNewSessionResponseHandler.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a122cda53c346211dc8ad503dea11727d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ProxyNewSessionResponseHandler::processResponse </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>directive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extends NewSessionResponseHandler::processCommand() to implement what is essentially the Proxy's main method. </p>
<p>READ THIS! THIS FUNCTION IS IMPORTANT!</p>
<p>When a NEWSESSION command is received, this function tells the StatusManager that it is running (<a class="el" href="class_component_status_manager.html#a6b4219dc5a4105bd24b62d89861ee443" title="Changes the ComponentStatus of the ComponentInterface handled by this ComponentStatusManager to the i...">ComponentStatusManager::setStatus()</a>), then starts looping until the session is ended by the PictoServer or the Proxy application is closed. In the loop, the Neural DAQ plugin is polled for data. New data is gathered into a PUTDATA command and sent to the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>, then we make sure the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> connection is still active, check the CommandChannel for pending responses, process any pending Qt Events and restart the loop. </p>
<dl class="section note"><dt>Note</dt><dd>This whole thing is actually running underneath the CommandChannel::processResponses() function which is in itself a kind of main method. This function also calls CommandChannel::processResponses() to get ENDSESSION directives. This is overly complicated and results from the fact that we are running within the <a class="el" href="class_component_interface.html" title="A base class for high level components that take orders from the Picto server and provide it with ses...">ComponentInterface</a> system which was designed to be able to support the <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> too, even though that system does not use the Qt Event Loop. What really needs to happen is the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> needs to be refactored to run within the Qt Event loop, then <a class="el" href="class_component_interface.html" title="A base class for high level components that take orders from the Picto server and provide it with ses...">ComponentInterface</a> needs to be refactored accordingly, followed by updating this sytem. See CommandChannel::processResponses() for more details. </dd></dl>

<p>Reimplemented from <a class="el" href="struct_picto_1_1_new_session_response_handler.html#a67dfb302f5c8769f09d058aa01348d69">Picto::NewSessionResponseHandler</a>.</p>

<p>Definition at line <a class="el" href="_proxy_new_session_response_handler_8cpp_source.html#l00030">30</a> of file <a class="el" href="_proxy_new_session_response_handler_8cpp_source.html">ProxyNewSessionResponseHandler.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>source/proxyserver/protocol/<a class="el" href="_proxy_new_session_response_handler_8h_source.html">ProxyNewSessionResponseHandler.h</a></li>
<li>source/proxyserver/protocol/<a class="el" href="_proxy_new_session_response_handler_8cpp_source.html">ProxyNewSessionResponseHandler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 26 2014 16:56:54 for Picto by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
