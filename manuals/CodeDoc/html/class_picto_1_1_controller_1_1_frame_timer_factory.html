<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: Picto::Controller::FrameTimerFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Picto</b></li><li class="navelem"><b>Controller</b></li><li class="navelem"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html">FrameTimerFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_picto_1_1_controller_1_1_frame_timer_factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Picto::Controller::FrameTimerFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A Factory object used to create <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html" title="A timer object that returns times in single frame increments. ">FrameResolutionTimer</a> object while maintaing a single <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> object to keep them update with the latest frame times.  
 <a href="class_picto_1_1_controller_1_1_frame_timer_factory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_frame_timer_factory_8h_source.html">FrameTimerFactory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01bf2951e8420e507d62620dad7c8cb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#a01bf2951e8420e507d62620dad7c8cb7">FrameTimerFactory</a> ()</td></tr>
<tr class="memdesc:a01bf2951e8420e507d62620dad7c8cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a>.  <a href="#a01bf2951e8420e507d62620dad7c8cb7">More...</a><br /></td></tr>
<tr class="separator:a01bf2951e8420e507d62620dad7c8cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e28c03f1435682a5d24ed672bfcb6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4e28c03f1435682a5d24ed672bfcb6c"></a>
QSharedPointer&lt; <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html">FrameResolutionTimer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>createTimer</b> ()</td></tr>
<tr class="separator:ae4e28c03f1435682a5d24ed672bfcb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b482038330b609b0cf18be2e415b96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#a48b482038330b609b0cf18be2e415b96">setLastFrameTime</a> (double frameTime)</td></tr>
<tr class="memdesc:a48b482038330b609b0cf18be2e415b96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the rendering engine to mark the time at which the latest frame occured.  <a href="#a48b482038330b609b0cf18be2e415b96">More...</a><br /></td></tr>
<tr class="separator:a48b482038330b609b0cf18be2e415b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94d0e1bc28b824dc4371a705d186d6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#ab94d0e1bc28b824dc4371a705d186d6e">setNextFrameTime</a> (double frameTime)</td></tr>
<tr class="memdesc:ab94d0e1bc28b824dc4371a705d186d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to set the time of the upcoming frame, when this is known in advance (ie. When replaying an experiment)  <a href="#ab94d0e1bc28b824dc4371a705d186d6e">More...</a><br /></td></tr>
<tr class="separator:ab94d0e1bc28b824dc4371a705d186d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513187b8cad30b19cd6957862523cb84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#a513187b8cad30b19cd6957862523cb84">effectiveAbsoluteTime</a> (TimerUnits::TimerUnits units)</td></tr>
<tr class="memdesc:a513187b8cad30b19cd6957862523cb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">effectiveAbsoluteTime is the time at which changes in the current experiment are expected to take place.  <a href="#a513187b8cad30b19cd6957862523cb84">More...</a><br /></td></tr>
<tr class="separator:a513187b8cad30b19cd6957862523cb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2855b0073d525a2b4a7eb4c4ed2db2fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#a2855b0073d525a2b4a7eb4c4ed2db2fd">resetAllTimers</a> ()</td></tr>
<tr class="memdesc:a2855b0073d525a2b4a7eb4c4ed2db2fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all FrameResolutionTimers that were created by this <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a>.  <a href="#a2855b0073d525a2b4a7eb4c4ed2db2fd">More...</a><br /></td></tr>
<tr class="separator:a2855b0073d525a2b4a7eb4c4ed2db2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7d968874245a85c6ac89c27f034a8a06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d968874245a85c6ac89c27f034a8a06"></a>
QVector&lt; QWeakPointer&lt; <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html">FrameResolutionTimer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>timerList_</b></td></tr>
<tr class="separator:a7d968874245a85c6ac89c27f034a8a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A Factory object used to create <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html" title="A timer object that returns times in single frame increments. ">FrameResolutionTimer</a> object while maintaing a single <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> object to keep them update with the latest frame times. </p>
<p>An Experimental Design's <a class="el" href="class_picto_1_1_design_config.html" title="There are many operations and data elements that need to be associated with a design as a whole...">DesignConfig</a> object creates and stores a single <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a> object for its Design. All elements in the design that need a <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html" title="A timer object that returns times in single frame increments. ">FrameResolutionTimer</a> use this single factory to create it, and since The <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a> creates a single <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> and uses it to create all of its FrameResolutionTimers, only the single <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> needs to be updated each time new first phosphor times are detected in order to provide timing data for all FrameResolutionTimers throughout the experiment. </p><dl class="section note"><dt>Note</dt><dd>We could not simply use a static function in <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html" title="A timer object that returns times in single frame increments. ">FrameResolutionTimer</a> to update times because there can be multiple designs running simultaneously within the same application; ie. In the <a class="el" href="class_replay_viewer.html" title="Defines the UI for the ReplayViewer. ">ReplayViewer</a> and <a class="el" href="class_test_viewer.html" title="This allows designers to run the Experiment/Analysis that they are creating in a test environment for...">TestViewer</a>. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_frame_timer_factory_8h_source.html#l00032">32</a> of file <a class="el" href="_frame_timer_factory_8h_source.html">FrameTimerFactory.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a01bf2951e8420e507d62620dad7c8cb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Picto::Controller::FrameTimerFactory::FrameTimerFactory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a>. </p>
<p>A <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> is created in the constructor. This <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> will be used with all <a class="el" href="class_picto_1_1_controller_1_1_frame_resolution_timer.html" title="A timer object that returns times in single frame increments. ">FrameResolutionTimer</a> objects created by this factory. </p>

<p>Definition at line <a class="el" href="_frame_timer_factory_8cpp_source.html#l00011">11</a> of file <a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a513187b8cad30b19cd6957862523cb84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Picto::Controller::FrameTimerFactory::effectiveAbsoluteTime </td>
          <td>(</td>
          <td class="paramtype">TimerUnits::TimerUnits&#160;</td>
          <td class="paramname"><em>units</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>effectiveAbsoluteTime is the time at which changes in the current experiment are expected to take place. </p>
<p>If we change the color of a dot in the experiment, the subject doesn't experience that change until the next frame; therefore, at least conceptually, it would be useful for our frameResolutionTimer objects to know when the next frame will be, though this is only possible in playback when we know what will happen in the future. The <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html#a513187b8cad30b19cd6957862523cb84" title="effectiveAbsoluteTime is the time at which changes in the current experiment are expected to take pla...">effectiveAbsoluteTime()</a> is this "next frame time." It should be accurate on playback, and is estimated by adding 16.666ms to the last frame during a live experiment. In practice, during a live experiment, it shouldn't be important to know when the next frame will be, and in a played back experiment, our <a class="el" href="class_picto_1_1_analysis_frame_data.html" title="An AnalysisDataSource for gathering frame timing data. ">AnalysisFrameData</a> object provides timing of future frames, so the data is available without using this function. We put it in because it seemed to make sense while we were in the design process. It isn't being used in practice, and if you do decide to start using it in practice, make sure to think twice, especially considering that it doesn't return a precise value during live experiments.</p>
<p>The value returned is according to the units that are passed in. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html#a55a588cd7360b14f1be88b4f9214c258" title="Returns the time that the next frame will occur relative to the beginning of the experiment. ">FrameTracker::effectiveAbsoluteTime</a> </dd></dl>

<p>Definition at line <a class="el" href="_frame_timer_factory_8cpp_source.html#l00060">60</a> of file <a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2855b0073d525a2b4a7eb4c4ed2db2fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::Controller::FrameTimerFactory::resetAllTimers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets all FrameResolutionTimers that were created by this <a class="el" href="class_picto_1_1_controller_1_1_frame_timer_factory.html" title="A Factory object used to create FrameResolutionTimer object while maintaing a single FrameTracker obj...">FrameTimerFactory</a>. </p>
<p>This factory keeps track of the pointers to all of the FrameResolutionTimers that it creates, which allows it to reset all of them when this function is called. This is useful in the <a class="el" href="class_replay_viewer.html" title="Defines the UI for the ReplayViewer. ">ReplayViewer</a> where we may playback the same experimental run more than once without recreating the <a class="el" href="class_picto_1_1_experiment.html" title="The Experiment object contains the complete definition of an Experiment for running in the Director...">Experiment</a> from xml. </p>

<p>Definition at line <a class="el" href="_frame_timer_factory_8cpp_source.html#l00071">71</a> of file <a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a48b482038330b609b0cf18be2e415b96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::Controller::FrameTimerFactory::setLastFrameTime </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frameTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by the rendering engine to mark the time at which the latest frame occured. </p>
<p>This sets the last frame time to the <a class="el" href="struct_picto_1_1_controller_1_1_frame_tracker.html" title="Stores frame timing information for use by FrameResolutionTimer objects. The FrameTracker object used...">FrameTracker</a> that is used by all timers created by this factory in calculating elapsedTime </p>

<p>Definition at line <a class="el" href="_frame_timer_factory_8cpp_source.html#l00030">30</a> of file <a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab94d0e1bc28b824dc4371a705d186d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::Controller::FrameTimerFactory::setNextFrameTime </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frameTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to set the time of the upcoming frame, when this is known in advance (ie. When replaying an experiment) </p>
<p>Currently we are not using the effectiveAbsoluteTime in Picto; however, it could come in handy at some point so we have included it here. The 'next frame' is used in the calculation of effectiveAbsoluteFrame </p>

<p>Definition at line <a class="el" href="_frame_timer_factory_8cpp_source.html#l00040">40</a> of file <a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/common/controlelements/<a class="el" href="_frame_timer_factory_8h_source.html">FrameTimerFactory.h</a></li>
<li>source/common/controlelements/<a class="el" href="_frame_timer_factory_8cpp_source.html">FrameTimerFactory.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
