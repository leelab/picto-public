<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Picto: StoredSessionData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_stored_session_data-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">StoredSessionData Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles long term storage of session data in an SQL file.  
 <a href="class_stored_session_data.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_stored_session_data_8h_source.html">StoredSessionData.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for StoredSessionData:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_stored_session_data.png" usemap="#StoredSessionData_map" alt=""/>
  <map id="StoredSessionData_map" name="StoredSessionData_map">
<area href="class_session_data.html" title="The base class or objects that stores session data. " alt="SessionData" shape="rect" coords="0,0,119,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad5633aa27b748431e835a6be90c04238"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5633aa27b748431e835a6be90c04238"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#ad5633aa27b748431e835a6be90c04238">StoredSessionData</a> (QString sessionPath, QString databaseFileName)</td></tr>
<tr class="memdesc:ad5633aa27b748431e835a6be90c04238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object that will put Session data in a Sqlite database in the sessionPath with the databaseFileName name. <br/></td></tr>
<tr class="separator:ad5633aa27b748431e835a6be90c04238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ce0fb4b14e50493e38515927205ac8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71ce0fb4b14e50493e38515927205ac8"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a71ce0fb4b14e50493e38515927205ac8">~StoredSessionData</a> ()</td></tr>
<tr class="memdesc:a71ce0fb4b14e50493e38515927205ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object is deleted. Closes all Sqlite database resources. <br/></td></tr>
<tr class="separator:a71ce0fb4b14e50493e38515927205ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5b3706fb59f7e63e4cf56a47c7de01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a7c5b3706fb59f7e63e4cf56a47c7de01">setSessionId</a> (QUuid sessionId)</td></tr>
<tr class="memdesc:a7c5b3706fb59f7e63e4cf56a47c7de01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the SessionId of the session that will use this <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object.  <a href="#a7c5b3706fb59f7e63e4cf56a47c7de01">More...</a><br/></td></tr>
<tr class="separator:a7c5b3706fb59f7e63e4cf56a47c7de01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e05e7d7c7bcffe7d0ab20baac3ff115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115">setTableInfo</a> (int dataType, QString tableName, QString columnNames, QString columnTypes, QString indexedColumns=&quot;&quot;)</td></tr>
<tr class="memdesc:a4e05e7d7c7bcffe7d0ab20baac3ff115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information about the SQL table that should be used to store data for different data types.  <a href="#a4e05e7d7c7bcffe7d0ab20baac3ff115">More...</a><br/></td></tr>
<tr class="separator:a4e05e7d7c7bcffe7d0ab20baac3ff115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab187a23f5736693963806ea948fb5abf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#ab187a23f5736693963806ea948fb5abf">buildTableIndeces</a> ()</td></tr>
<tr class="memdesc:ab187a23f5736693963806ea948fb5abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds all table indeces that were requested in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a>.  <a href="#ab187a23f5736693963806ea948fb5abf">More...</a><br/></td></tr>
<tr class="separator:ab187a23f5736693963806ea948fb5abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97072a76c46132af05e9f49c6862817c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a97072a76c46132af05e9f49c6862817c">insertData</a> (int dataType, QVariantList data)</td></tr>
<tr class="memdesc:a97072a76c46132af05e9f49c6862817c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts the input data of the input dataType into this object.  <a href="#a97072a76c46132af05e9f49c6862817c">More...</a><br/></td></tr>
<tr class="separator:a97072a76c46132af05e9f49c6862817c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_session_data"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_session_data')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_session_data.html">SessionData</a></td></tr>
<tr class="memitem:a5eb5642f14a897c65c31319580b23d5d inherit pub_methods_class_session_data"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5eb5642f14a897c65c31319580b23d5d"></a>
QList&lt; QVariantList &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a5eb5642f14a897c65c31319580b23d5d">peekData</a> (int dataType)</td></tr>
<tr class="memdesc:a5eb5642f14a897c65c31319580b23d5d inherit pub_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of all data stored in this object of the input dataType. <br/></td></tr>
<tr class="separator:a5eb5642f14a897c65c31319580b23d5d inherit pub_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20863a2b54c30b1043ff4a87a9908ba9 inherit pub_methods_class_session_data"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a20863a2b54c30b1043ff4a87a9908ba9">copyDataTo</a> (<a class="el" href="class_session_data.html">SessionData</a> *receiver, QVariant condition=QVariant())</td></tr>
<tr class="memdesc:a20863a2b54c30b1043ff4a87a9908ba9 inherit pub_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object.  <a href="#a20863a2b54c30b1043ff4a87a9908ba9">More...</a><br/></td></tr>
<tr class="separator:a20863a2b54c30b1043ff4a87a9908ba9 inherit pub_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c17ef02068f6ec8bf717044c21b487 inherit pub_methods_class_session_data"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a15c17ef02068f6ec8bf717044c21b487">moveDataTo</a> (<a class="el" href="class_session_data.html">SessionData</a> *receiver, QVariant condition=QVariant())</td></tr>
<tr class="memdesc:a15c17ef02068f6ec8bf717044c21b487 inherit pub_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another session data object,.  <a href="#a15c17ef02068f6ec8bf717044c21b487">More...</a><br/></td></tr>
<tr class="separator:a15c17ef02068f6ec8bf717044c21b487 inherit pub_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36792a7f432c4d8e640a0da5e1aaebbc inherit pub_methods_class_session_data"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36792a7f432c4d8e640a0da5e1aaebbc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a36792a7f432c4d8e640a0da5e1aaebbc">clearData</a> ()</td></tr>
<tr class="memdesc:a36792a7f432c4d8e640a0da5e1aaebbc inherit pub_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brings this object back into the state it was in when just constructed. <br/></td></tr>
<tr class="separator:a36792a7f432c4d8e640a0da5e1aaebbc inherit pub_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9ff975024ea9a09048a8e7e14129b357"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357">startDataWrite</a> (QString *error=NULL)</td></tr>
<tr class="memdesc:a9ff975024ea9a09048a8e7e14129b357"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">SessionData::startDataWrite()</a> to setup the SqlQuery that will be used and start a SQL transaction.  <a href="#a9ff975024ea9a09048a8e7e14129b357">More...</a><br/></td></tr>
<tr class="separator:a9ff975024ea9a09048a8e7e14129b357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d7f702ecdb5b2c3277f29f552329e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3">writeData</a> (int dataType, QVariantList data)</td></tr>
<tr class="memdesc:aa9d7f702ecdb5b2c3277f29f552329e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the input data to the SQL database by creating an SQL query according to the information entered in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> for the input dataType.  <a href="#aa9d7f702ecdb5b2c3277f29f552329e3">More...</a><br/></td></tr>
<tr class="separator:aa9d7f702ecdb5b2c3277f29f552329e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b226228a31f0721eb58a593f6293aa2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a9b226228a31f0721eb58a593f6293aa2">endDataWrite</a> (QString *error=NULL)</td></tr>
<tr class="memdesc:a9b226228a31f0721eb58a593f6293aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">SessionData::endDataWrite()</a> to commit the SQL transaction that was opened in <a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a> and get rid of the SqlQuery.  <a href="#a9b226228a31f0721eb58a593f6293aa2">More...</a><br/></td></tr>
<tr class="separator:a9b226228a31f0721eb58a593f6293aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621a4d2c9f1b39ac70bc3f2012538465"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a621a4d2c9f1b39ac70bc3f2012538465"></a>
QList&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a621a4d2c9f1b39ac70bc3f2012538465">readDataTypes</a> ()</td></tr>
<tr class="memdesc:a621a4d2c9f1b39ac70bc3f2012538465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_session_data.html#a4b879f10ecfbfcaa12c2dbbc1b15bdff" title="Returns a list of integers representing types of data handled by this object. ">SessionData::readDataTypes()</a> to return all the dataTypes that have had their SQL table information set up in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a>. <br/></td></tr>
<tr class="separator:a621a4d2c9f1b39ac70bc3f2012538465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d352c72945a9a5ec4ef9d29c83a283b"><td class="memItemLeft" align="right" valign="top">QList&lt; QVariantList &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a5d352c72945a9a5ec4ef9d29c83a283b">readData</a> (int dataType, QVariant condition, bool cut=false)</td></tr>
<tr class="separator:a5d352c72945a9a5ec4ef9d29c83a283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c183f3e894ce39113e67c9bbfdeaa5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46c183f3e894ce39113e67c9bbfdeaa5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stored_session_data.html#a46c183f3e894ce39113e67c9bbfdeaa5">eraseEverything</a> ()</td></tr>
<tr class="memdesc:a46c183f3e894ce39113e67c9bbfdeaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements SessionData::eraseEverything() to do nothing and trigger an assertion since this function should never be called on objects of this class. <br/></td></tr>
<tr class="separator:a46c183f3e894ce39113e67c9bbfdeaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_session_data"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_session_data')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_session_data.html">SessionData</a></td></tr>
<tr class="memitem:a7cc8594766473824c591396b187354ad inherit pro_methods_class_session_data"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a7cc8594766473824c591396b187354ad">addData</a> (int dataType, QVariantList data)</td></tr>
<tr class="memdesc:a7cc8594766473824c591396b187354ad inherit pro_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a single data entry to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object of the input type.  <a href="#a7cc8594766473824c591396b187354ad">More...</a><br/></td></tr>
<tr class="separator:a7cc8594766473824c591396b187354ad inherit pro_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da83d35fc78270dbfef9ba9a2b2b4c inherit pro_methods_class_session_data"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a72da83d35fc78270dbfef9ba9a2b2b4c">addData</a> (int dataType, QList&lt; QVariantList &gt; data)</td></tr>
<tr class="memdesc:a72da83d35fc78270dbfef9ba9a2b2b4c inherit pro_methods_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input QList of QVariantList data entries of the input type to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object.  <a href="#a72da83d35fc78270dbfef9ba9a2b2b4c">More...</a><br/></td></tr>
<tr class="separator:a72da83d35fc78270dbfef9ba9a2b2b4c inherit pro_methods_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_session_data"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_session_data')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_session_data.html">SessionData</a></td></tr>
<tr class="memitem:a4f56f91d83e09645d853339fe5067181 inherit pro_attribs_class_session_data"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f56f91d83e09645d853339fe5067181"></a>
QReadWriteLock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a4f56f91d83e09645d853339fe5067181">readWriteLock_</a></td></tr>
<tr class="memdesc:a4f56f91d83e09645d853339fe5067181 inherit pro_attribs_class_session_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Read/Write mutex for handling reads and write from multiple threads. <br/></td></tr>
<tr class="separator:a4f56f91d83e09645d853339fe5067181 inherit pro_attribs_class_session_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles long term storage of session data in an SQL file. </p>
<p>This is meant to be used with <a class="el" href="class_cached_session_data.html" title="Stores session data in RAM for quick access until it is saved to disk. ">CachedSessionData</a> objects. Those objects should periodically move their data to a <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object using <a class="el" href="class_session_data.html#a15c17ef02068f6ec8bf717044c21b487" title="Moves all data in this SessionData object to another session data object,. ">moveDataTo()</a>. The <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object writes the data to an SQL file according to the table structure entered in the <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> function. This object also supports setting up of SQL indeces by using the <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> function to define index columns and calling <a class="el" href="class_stored_session_data.html#ab187a23f5736693963806ea948fb5abf" title="Builds all table indeces that were requested in setTableInfo(). ">buildTableIndeces()</a> to actually create them (typically when a Session is ending). Individual values can be entered into the object by using <a class="el" href="class_stored_session_data.html#a97072a76c46132af05e9f49c6862817c" title="Inserts the input data of the input dataType into this object. ">insertData()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>This object groups batched <a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3" title="Writes the input data to the SQL database by creating an SQL query according to the information enter...">writeData()</a> operations into a single SQL transaction. See <a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a> for more details. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2013 </dd></dl>

<p>Definition at line <a class="el" href="_stored_session_data_8h_source.html#l00026">26</a> of file <a class="el" href="_stored_session_data_8h_source.html">StoredSessionData.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab187a23f5736693963806ea948fb5abf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StoredSessionData::buildTableIndeces </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds all table indeces that were requested in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a>. </p>
<p>This should typically be done only at the end of a session. See <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> documentation for more details. </p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00131">131</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9b226228a31f0721eb58a593f6293aa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StoredSessionData::endDataWrite </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">SessionData::endDataWrite()</a> to commit the SQL transaction that was opened in <a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a> and get rid of the SqlQuery. </p>
<p>Since we put all batched <a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3" title="Writes the input data to the SQL database by creating an SQL query according to the information enter...">writeData()</a> calls into a single transaction, the actual writing of the data to the underlying database doesn't happen until this function is called. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a>, <a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3" title="Writes the input data to the SQL database by creating an SQL query according to the information enter...">writeData()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f">SessionData</a>.</p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00205">205</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a97072a76c46132af05e9f49c6862817c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StoredSessionData::insertData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariantList&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts the input data of the input dataType into this object. </p>
<p>Internally, this just sends the inputs to <a class="el" href="class_session_data.html#a7cc8594766473824c591396b187354ad" title="Adds a single data entry to this SessionData object of the input type. ">addData()</a>. </p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00149">149</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5d352c72945a9a5ec4ef9d29c83a283b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QVariantList &gt; StoredSessionData::readData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cut</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>\ brief Implements <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a>:<a class="el" href="class_stored_session_data.html#a5d352c72945a9a5ec4ef9d29c83a283b">readData()</a> to read out all data from the underlying SQL database for the input dataType.</p>
<p>Each value will be set up by retrieving data from the table for the input dataType in the order that the columns were set up in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> and putting it all together into a QVariantList. Each QVariantList is appended to a QList&lt;QVariantList&gt; and returned.</p>
<dl class="section note"><dt>Note</dt><dd>The condition and cut parameters are not supported by this class. </dd></dl>

<p>Implements <a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c">SessionData</a>.</p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00235">235</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7c5b3706fb59f7e63e4cf56a47c7de01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StoredSessionData::setSessionId </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>sessionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the SessionId of the session that will use this <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object. </p>
<p>The SessionId is used in generating uniquely named database connections when multiple threads access this database. </p>
<dl class="section see"><dt>See Also</dt><dd>getSessionDb() </dd></dl>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00081">81</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4e05e7d7c7bcffe7d0ab20baac3ff115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StoredSessionData::setTableInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>columnNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>columnTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>indexedColumns</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores information about the SQL table that should be used to store data for different data types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataType</td><td>An integer signifying the type of data to which these settings will apply. </td></tr>
    <tr><td class="paramname">tableName</td><td>The name of the table that will be used to store data for this dataType. </td></tr>
    <tr><td class="paramname">columnNames</td><td>A comma separated string including the names of the columns that will be used to store data for this dataType (put spaces on both ends of the string, like " dataId,timestamp,value "). </td></tr>
    <tr><td class="paramname">columnTypes</td><td>A comma separated string including the Sqlite types of the columns that will be used to store data for this dataType (put spaces on both ends of the string, like " INTEGER UNIQUE ON CONFLICT REPLACE,REAL,TEXT "). </td></tr>
    <tr><td class="paramname">indexedColumns</td><td>A comma separated string including the names of the columns that will be indexed for fast lookup by the Sqlite system for this dataType (put spaces on both ends of the string, like " dataId,timestamp ").</td></tr>
  </table>
  </dd>
</dl>
<p>This function actually creates the necessary table in the Sql database if it doesn't already exist. </p>
<dl class="section note"><dt>Note</dt><dd>The indeces are not built when you call this function. Once indeces are built, additions to the SQL table can take significantly longer. For this reason, we only want to add indeces at the end of the session. To do that you must use <a class="el" href="class_stored_session_data.html#ab187a23f5736693963806ea948fb5abf" title="Builds all table indeces that were requested in setTableInfo(). ">buildTableIndeces()</a>. </dd></dl>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00101">101</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9ff975024ea9a09048a8e7e14129b357"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StoredSessionData::startDataWrite </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">SessionData::startDataWrite()</a> to setup the SqlQuery that will be used and start a SQL transaction. </p>
<p>We put all batched <a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3" title="Writes the input data to the SQL database by creating an SQL query according to the information enter...">writeData()</a> calls into a single transaction for significant runtime savings. </p>

<p>Reimplemented from <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97">SessionData</a>.</p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00159">159</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa9d7f702ecdb5b2c3277f29f552329e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StoredSessionData::writeData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariantList&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the input data to the SQL database by creating an SQL query according to the information entered in <a class="el" href="class_stored_session_data.html#a4e05e7d7c7bcffe7d0ab20baac3ff115" title="Stores information about the SQL table that should be used to store data for different data types...">setTableInfo()</a> for the input dataType. </p>
<p><a class="el" href="class_stored_session_data.html#aa9d7f702ecdb5b2c3277f29f552329e3" title="Writes the input data to the SQL database by creating an SQL query according to the information enter...">writeData()</a> calls are always in between <a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a> and <a class="el" href="class_stored_session_data.html#a9b226228a31f0721eb58a593f6293aa2" title="Implements SessionData::endDataWrite() to commit the SQL transaction that was opened in startDataWrit...">endDataWrite()</a> calls. For the purpose of runtime savings, these surrounding functions setup and commit an SQL transaction such that no actual writing of data to the SQL database is occuring during this function. It only occurs when <a class="el" href="class_stored_session_data.html#a9b226228a31f0721eb58a593f6293aa2" title="Implements SessionData::endDataWrite() to commit the SQL transaction that was opened in startDataWrit...">endDataWrite()</a> is called. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357" title="Implements SessionData::startDataWrite() to setup the SqlQuery that will be used and start a SQL tran...">startDataWrite()</a>, <a class="el" href="class_stored_session_data.html#a9b226228a31f0721eb58a593f6293aa2" title="Implements SessionData::endDataWrite() to commit the SQL transaction that was opened in startDataWrit...">endDataWrite()</a> </dd></dl>

<p>Implements <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3">SessionData</a>.</p>

<p>Definition at line <a class="el" href="_stored_session_data_8cpp_source.html#l00185">185</a> of file <a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/server/connections/<a class="el" href="_stored_session_data_8h_source.html">StoredSessionData.h</a></li>
<li>source/server/connections/<a class="el" href="_stored_session_data_8cpp_source.html">StoredSessionData.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 26 2014 17:03:42 for Picto by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
