<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: PropertyFrame Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_property_frame-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PropertyFrame Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Displays a list of widgets for RuntimeEditable Properties to be used for updating Property initValues during an experimental run.  
 <a href="class_property_frame.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_property_frame_8h_source.html">PropertyFrame.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PropertyFrame:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_property_frame.png" usemap="#PropertyFrame_map" alt=""/>
  <map id="PropertyFrame_map" name="PropertyFrame_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ad7ddd1a1b2d9cf25db6670a8c458bcc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_property_frame.html#ad7ddd1a1b2d9cf25db6670a8c458bcc7">parameterMessageReady</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_property.html">Property</a> &gt; changedProp)</td></tr>
<tr class="memdesc:ad7ddd1a1b2d9cf25db6670a8c458bcc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the changedProp Property's initValue has changed.  <a href="#ad7ddd1a1b2d9cf25db6670a8c458bcc7">More...</a><br /></td></tr>
<tr class="separator:ad7ddd1a1b2d9cf25db6670a8c458bcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adb615257989f95de888b3860e1f7dab0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb615257989f95de888b3860e1f7dab0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PropertyFrame</b> (QWidget *parent=0)</td></tr>
<tr class="separator:adb615257989f95de888b3860e1f7dab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e62c3ad930ed1a5e8fca2f813c87d98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e62c3ad930ed1a5e8fca2f813c87d98"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearProperties</b> ()</td></tr>
<tr class="separator:a7e62c3ad930ed1a5e8fca2f813c87d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0587e762fdab49d10d8507fc60fa9ff0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_property_frame.html#a0587e762fdab49d10d8507fc60fa9ff0">setTopLevelDataStore</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_data_store.html">DataStore</a> &gt; dataStore)</td></tr>
<tr class="memdesc:a0587e762fdab49d10d8507fc60fa9ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates widgets for all RuntimeEditable Property object descendants of the input dataStore and lays them out, one after another, grouped according to their parent Design Elements.  <a href="#a0587e762fdab49d10d8507fc60fa9ff0">More...</a><br /></td></tr>
<tr class="separator:a0587e762fdab49d10d8507fc60fa9ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8daea01e3537d392421270edfe6d71f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_property_frame.html#a8daea01e3537d392421270edfe6d71f8">updatePropertiesFromFile</a> (QString filename)</td></tr>
<tr class="memdesc:a8daea01e3537d392421270edfe6d71f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a session at the input filename path and sets all of the final init property values from that session to their corresponding RuntimeEditable Properties that are displayed in this <a class="el" href="class_property_frame.html" title="Displays a list of widgets for RuntimeEditable Properties to be used for updating Property initValues...">PropertyFrame</a>.  <a href="#a8daea01e3537d392421270edfe6d71f8">More...</a><br /></td></tr>
<tr class="separator:a8daea01e3537d392421270edfe6d71f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a323e3f5efe6b8490e4b23d68423a8692"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a323e3f5efe6b8490e4b23d68423a8692"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_property_frame.html#a323e3f5efe6b8490e4b23d68423a8692">propertyEdited</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_property.html">Property</a> &gt; prop, QVariant val)</td></tr>
<tr class="memdesc:a323e3f5efe6b8490e4b23d68423a8692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called whenever a Property is edited whose widget appears in this <a class="el" href="class_property_frame.html" title="Displays a list of widgets for RuntimeEditable Properties to be used for updating Property initValues...">PropertyFrame</a>. Verifies that the new Property value is legal, then emits a <a class="el" href="class_property_frame.html#ad7ddd1a1b2d9cf25db6670a8c458bcc7" title="Indicates that the changedProp Property&#39;s initValue has changed. ">parameterMessageReady()</a> signal if it is. <br /></td></tr>
<tr class="separator:a323e3f5efe6b8490e4b23d68423a8692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a56f753cc2c6ed4b802b617f4f267bf53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56f753cc2c6ed4b802b617f4f267bf53"></a>
QWidget *&#160;</td><td class="memItemRight" valign="bottom"><b>mainWidget_</b></td></tr>
<tr class="separator:a56f753cc2c6ed4b802b617f4f267bf53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509a0d9032b9a5ab1efc5e25cdca93c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a509a0d9032b9a5ab1efc5e25cdca93c3"></a>
QSqlDatabase&#160;</td><td class="memItemRight" valign="bottom"><b>propValsSession_</b></td></tr>
<tr class="separator:a509a0d9032b9a5ab1efc5e25cdca93c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad75fd46b540210ad80d43765fb774bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad75fd46b540210ad80d43765fb774bd"></a>
QHash&lt; QString, QSharedPointer&lt; <a class="el" href="class_picto_1_1_property.html">Property</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>pathMap_</b></td></tr>
<tr class="separator:aad75fd46b540210ad80d43765fb774bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Displays a list of widgets for RuntimeEditable Properties to be used for updating Property initValues during an experimental run. </p>
<p>During the course of an experimental run, we often want to change certain Property values in the experiment to help in training the user or simply perform some kind of test. In Picto, this is accomplished by updating Properties initValues. Since each Property value is reset to its initValue each time it enters scope, changing a Property's initValue assures that its runValue will be updated at a defined point in the control flow. Additionally, we don't want to show every Property initValue to the operator during an experiment, so we use "UIEnabled" checkboxes in the Design to allow the designer to choose which DesignElements display Property Widgets during an experiment. We also don't want to make every Property of every UIEnabled Element show up, so only Properties defined as RuntimeEditable in the code are shown. This widget goes through the Design Elements underneath an Element input into setTopLevelDataStore. It finds all UIEnabled elements, extracts their RuntimeEditable Properties, and displays them in groups (labelled by the UIEnabled Element name) of widgets. When the widget for a particular Property is edited, the Property's initValue is changed, and a <a class="el" href="class_property_frame.html#ad7ddd1a1b2d9cf25db6670a8c458bcc7" title="Indicates that the changedProp Property&#39;s initValue has changed. ">parameterMessageReady()</a> signal is triggered to inform outside objects that this value has been changed. When running a remote experiment, this allows the <a class="el" href="class_remote_viewer.html" title="This allows Operators to view and control a remotely running Experimental Session. ">RemoteViewer</a> to capture the changed initValue and send it over the network to the corresponding Property in the running Experiment.</p>
<p>This class uses the <a class="el" href="class_property_group_widget.html" title="This Widget creates groups of Properties widgets. It groups together widgets for setting/getting valu...">PropertyGroupWidget</a> to handle Property widget creation and layout. It is responsible for finding and organizing the RuntimeEditable Properties and loading them into the <a class="el" href="class_property_group_widget.html" title="This Widget creates groups of Properties widgets. It groups together widgets for setting/getting valu...">PropertyGroupWidget</a>.</p>
<p>`This class also includes an interface for updating Property initValues based on values recorded in a previous session. </p><dl class="section see"><dt>See also</dt><dd>DataStore::setPropertyRuntimeEditable(), Property::setRuntimEditable() </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_property_frame_8h_source.html#l00041">41</a> of file <a class="el" href="_property_frame_8h_source.html">PropertyFrame.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad7ddd1a1b2d9cf25db6670a8c458bcc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PropertyFrame::parameterMessageReady </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="class_picto_1_1_property.html">Property</a> &gt;&#160;</td>
          <td class="paramname"><em>changedProp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates that the changedProp Property's initValue has changed. </p>
<dl class="section note"><dt>Note</dt><dd>This is clearly a bad name. It was named when we used to refer to the Properties in this widget as parameters and when this widget was only used with the <a class="el" href="class_remote_viewer.html" title="This allows Operators to view and control a remotely running Experimental Session. ">RemoteViewer</a> that sends messages over the network. This name should probably be changed. </dd></dl>

</div>
</div>
<a class="anchor" id="a0587e762fdab49d10d8507fc60fa9ff0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PropertyFrame::setTopLevelDataStore </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="class_picto_1_1_data_store.html">DataStore</a> &gt;&#160;</td>
          <td class="paramname"><em>dataStore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates widgets for all RuntimeEditable Property object descendants of the input dataStore and lays them out, one after another, grouped according to their parent Design Elements. </p>
<p>The function goes through the input dataStore and searches for RuntimeEditable Property descendants. When they are found, they are grouped by parent Design Element and added to a <a class="el" href="class_property_group_widget.html" title="This Widget creates groups of Properties widgets. It groups together widgets for setting/getting valu...">PropertyGroupWidget</a>, which handles creating of the appropriate Property Widgets and laying them out in groups titled according to the DesignElement name. </p>

<p>Definition at line <a class="el" href="_property_frame_8cpp_source.html#l00025">25</a> of file <a class="el" href="_property_frame_8cpp_source.html">PropertyFrame.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8daea01e3537d392421270edfe6d71f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PropertyFrame::updatePropertiesFromFile </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a session at the input filename path and sets all of the final init property values from that session to their corresponding RuntimeEditable Properties that are displayed in this <a class="el" href="class_property_frame.html" title="Displays a list of widgets for RuntimeEditable Properties to be used for updating Property initValues...">PropertyFrame</a>. </p>
<p>If any Properties end up having their initValues changed, the <a class="el" href="class_property_frame.html#ad7ddd1a1b2d9cf25db6670a8c458bcc7" title="Indicates that the changedProp Property&#39;s initValue has changed. ">parameterMessageReady()</a> signal is emitted. If any Properties can't be found in the Session file at the input path, a pop-up is displayed listing the Properties that could not be found. </p><dl class="section note"><dt>Note</dt><dd>We created this a long time ago and it didn't see much use. It is probably not working and outdated. In particular it should be working with the Sessions "initproperties" table, but that didn't exist when this function was created. It would be worthwhile to go through this and fix it. </dd></dl>

<p>Definition at line <a class="el" href="_property_frame_8cpp_source.html#l00097">97</a> of file <a class="el" href="_property_frame_8cpp_source.html">PropertyFrame.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/common/Designer/<a class="el" href="_property_frame_8h_source.html">PropertyFrame.h</a></li>
<li>source/common/Designer/<a class="el" href="_property_frame_8cpp_source.html">PropertyFrame.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
