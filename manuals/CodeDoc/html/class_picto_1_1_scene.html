<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: Picto::Scene Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Picto</b></li><li class="navelem"><a class="el" href="class_picto_1_1_scene.html">Scene</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_picto_1_1_scene-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Picto::Scene Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles rendering of OutputElements each frame.  
 <a href="class_picto_1_1_scene.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_scene_8h_source.html">Scene.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Picto::Scene:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_picto_1_1_scene.png" usemap="#Picto::Scene_map" alt=""/>
  <map id="Picto::Scene_map" name="Picto::Scene_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a1558a1f1eec6582e509defd1ff684fb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a1558a1f1eec6582e509defd1ff684fb7">readyForRender</a> (int callerId)</td></tr>
<tr class="memdesc:a1558a1f1eec6582e509defd1ff684fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when rendering is setup and the object wants <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> to be called.  <a href="#a1558a1f1eec6582e509defd1ff684fb7">More...</a><br /></td></tr>
<tr class="separator:a1558a1f1eec6582e509defd1ff684fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf9d9efc4da11b8596628a102b152de9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9">render</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_engine_1_1_picto_engine.html">Engine::PictoEngine</a> &gt; engine, int callerId)</td></tr>
<tr class="memdesc:aaf9d9efc4da11b8596628a102b152de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up rendering and then causes the actual render to happen by triggering the <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> function.  <a href="#aaf9d9efc4da11b8596628a102b152de9">More...</a><br /></td></tr>
<tr class="separator:aaf9d9efc4da11b8596628a102b152de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b54232e27f489aa0c88ca4492882d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34b54232e27f489aa0c88ca4492882d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a34b54232e27f489aa0c88ca4492882d3">setBackgroundColor</a> (QColor color)</td></tr>
<tr class="memdesc:a34b54232e27f489aa0c88ca4492882d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not currently used, but the idea is that this would set the background color rendered by this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a>. <br /></td></tr>
<tr class="separator:a34b54232e27f489aa0c88ca4492882d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a42dfd298e46798bf7fad2df2d3059"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84a42dfd298e46798bf7fad2df2d3059"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a84a42dfd298e46798bf7fad2df2d3059">addVisualElement</a> (QSharedPointer&lt; <a class="el" href="struct_picto_1_1_visual_element.html">VisualElement</a> &gt; element)</td></tr>
<tr class="memdesc:a84a42dfd298e46798bf7fad2df2d3059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input <a class="el" href="struct_picto_1_1_visual_element.html" title="A base class for all elements that represent graphics to be drawn onto the the display&#39;s Scene...">VisualElement</a> to this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> so that it will be displayed next frame if it is marked visible. <br /></td></tr>
<tr class="separator:a84a42dfd298e46798bf7fad2df2d3059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9becf679f216274e36d609681091078b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9becf679f216274e36d609681091078b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a9becf679f216274e36d609681091078b">addDataViewElement</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_data_view_element.html">DataViewElement</a> &gt; element)</td></tr>
<tr class="memdesc:a9becf679f216274e36d609681091078b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input <a class="el" href="class_picto_1_1_data_view_element.html" title="A Base class for all Elements representing data that is output to the Observer while viewing an exper...">DataViewElement</a> to this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> so that it will be updated during rendering. <br /></td></tr>
<tr class="separator:a9becf679f216274e36d609681091078b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4522aca529497fb2901ce69e3748c60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4522aca529497fb2901ce69e3748c60"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#af4522aca529497fb2901ce69e3748c60">addAudioElement</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_audio_element.html">AudioElement</a> &gt; element)</td></tr>
<tr class="memdesc:af4522aca529497fb2901ce69e3748c60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input <a class="el" href="class_picto_1_1_audio_element.html" title="An Audio Stimulus used to play sounds in Picto. ">AudioElement</a> to this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> so that it will be played next frame if it is set to play. <br /></td></tr>
<tr class="separator:af4522aca529497fb2901ce69e3748c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08595cf0763b8969bfef393bb6447f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa08595cf0763b8969bfef393bb6447f0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#aa08595cf0763b8969bfef393bb6447f0">addOutputSignal</a> (QSharedPointer&lt; <a class="el" href="struct_picto_1_1_output_signal.html">OutputSignal</a> &gt; element)</td></tr>
<tr class="memdesc:aa08595cf0763b8969bfef393bb6447f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input <a class="el" href="struct_picto_1_1_output_signal.html" title="A Base class for OutputElements that output voltage signals. ">OutputSignal</a> to this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> so that its voltage effects will be triggered next frame. <br /></td></tr>
<tr class="separator:aa08595cf0763b8969bfef393bb6447f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28074237325a6360e733bb37a1d79203"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28074237325a6360e733bb37a1d79203"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a28074237325a6360e733bb37a1d79203">addInputSignal</a> (QSharedPointer&lt; <a class="el" href="struct_picto_1_1_input_signal.html">InputSignal</a> &gt; element)</td></tr>
<tr class="memdesc:a28074237325a6360e733bb37a1d79203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input <a class="el" href="struct_picto_1_1_output_signal.html" title="A Base class for OutputElements that output voltage signals. ">OutputSignal</a> to this <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> so that its voltage effects will be triggered next frame. <br /></td></tr>
<tr class="separator:a28074237325a6360e733bb37a1d79203"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a26d9a1e0c272cdbaf9d6c61125be1700"><td class="memItemLeft" align="right" valign="top">static QSharedPointer&lt; <a class="el" href="class_picto_1_1_scene.html">Scene</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a26d9a1e0c272cdbaf9d6c61125be1700">createScene</a> ()</td></tr>
<tr class="memdesc:a26d9a1e0c272cdbaf9d6c61125be1700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> object and returns a shared pointer to it.  <a href="#a26d9a1e0c272cdbaf9d6c61125be1700">More...</a><br /></td></tr>
<tr class="separator:a26d9a1e0c272cdbaf9d6c61125be1700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9afebbcf97818d17f3da512ab94df9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a5d9afebbcf97818d17f3da512ab94df9">setZoom</a> (float zoom)</td></tr>
<tr class="memdesc:a5d9afebbcf97818d17f3da512ab94df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current zoom level of this scene.  <a href="#a5d9afebbcf97818d17f3da512ab94df9">More...</a><br /></td></tr>
<tr class="separator:a5d9afebbcf97818d17f3da512ab94df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8009d1b0b96e81c50706fcccbd18b0b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8009d1b0b96e81c50706fcccbd18b0b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#ae8009d1b0b96e81c50706fcccbd18b0b">closeRenderLoops</a> ()</td></tr>
<tr class="memdesc:ae8009d1b0b96e81c50706fcccbd18b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">In case the <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a> function is stuck waiting for <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> to render graphics for some reason, this function causes execution to break out of that loop. <br /></td></tr>
<tr class="separator:ae8009d1b0b96e81c50706fcccbd18b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a3ec0d6a558ec913fc7313181257b3dfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd">doRender</a> (int callerId)</td></tr>
<tr class="memdesc:a3ec0d6a558ec913fc7313181257b3dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a>.  <a href="#a3ec0d6a558ec913fc7313181257b3dfd">More...</a><br /></td></tr>
<tr class="separator:a3ec0d6a558ec913fc7313181257b3dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad10176d75a9cc0da56626f682d083507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#ad10176d75a9cc0da56626f682d083507">Scene</a> ()</td></tr>
<tr class="memdesc:ad10176d75a9cc0da56626f682d083507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> object.  <a href="#ad10176d75a9cc0da56626f682d083507">More...</a><br /></td></tr>
<tr class="separator:ad10176d75a9cc0da56626f682d083507"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a510c0eecb02bade884afd69626cd1de7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a510c0eecb02bade884afd69626cd1de7"></a>
QSharedPointer&lt; QMutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mutex_</b></td></tr>
<tr class="separator:a510c0eecb02bade884afd69626cd1de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c36e691928dea1f47989f97c45b71c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47c36e691928dea1f47989f97c45b71c"></a>
QSharedPointer&lt; <a class="el" href="class_picto_1_1_engine_1_1_picto_engine.html">Engine::PictoEngine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>engine_</b></td></tr>
<tr class="separator:a47c36e691928dea1f47989f97c45b71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79e5864f313a4e1179ed3145c0df79e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad79e5864f313a4e1179ed3145c0df79e"></a>
QColor&#160;</td><td class="memItemRight" valign="bottom"><b>backgroundColor_</b></td></tr>
<tr class="separator:ad79e5864f313a4e1179ed3145c0df79e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e1366db22819f2518d62d9536d3242"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6e1366db22819f2518d62d9536d3242"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_visual_element.html">VisualElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#aa6e1366db22819f2518d62d9536d3242">visualElements_</a></td></tr>
<tr class="memdesc:aa6e1366db22819f2518d62d9536d3242"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of VisualElements that we are updating. <br /></td></tr>
<tr class="separator:aa6e1366db22819f2518d62d9536d3242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142447dd041749e50d125b27e929cccd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a142447dd041749e50d125b27e929cccd"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_visual_element.html">VisualElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a142447dd041749e50d125b27e929cccd">unaddedVisualElements_</a></td></tr>
<tr class="memdesc:a142447dd041749e50d125b27e929cccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of VisualElements that we stream in from the <a class="el" href="class_picto_1_1_task.html" title="A Task contains the top level StateMachine that defines the logic for researching an experimental que...">Task</a>. <br /></td></tr>
<tr class="separator:a142447dd041749e50d125b27e929cccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5b26eff4ebcb306a87e658b57a40ec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b5b26eff4ebcb306a87e658b57a40ec"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="class_picto_1_1_data_view_element.html">DataViewElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a4b5b26eff4ebcb306a87e658b57a40ec">dataViewElements_</a></td></tr>
<tr class="memdesc:a4b5b26eff4ebcb306a87e658b57a40ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of DataViewElements that we are updating. <br /></td></tr>
<tr class="separator:a4b5b26eff4ebcb306a87e658b57a40ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c1d4973cdc827e6682eea4e04e1d11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72c1d4973cdc827e6682eea4e04e1d11"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="class_picto_1_1_data_view_element.html">DataViewElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a72c1d4973cdc827e6682eea4e04e1d11">unaddedDataViewElements_</a></td></tr>
<tr class="memdesc:a72c1d4973cdc827e6682eea4e04e1d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of DataViewElements that we stream in from the <a class="el" href="class_picto_1_1_task.html" title="A Task contains the top level StateMachine that defines the logic for researching an experimental que...">Task</a>. <br /></td></tr>
<tr class="separator:a72c1d4973cdc827e6682eea4e04e1d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38fd1f589a9c7d1bc01e85af36dab18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab38fd1f589a9c7d1bc01e85af36dab18"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="class_picto_1_1_audio_element.html">AudioElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#ab38fd1f589a9c7d1bc01e85af36dab18">audioElements_</a></td></tr>
<tr class="memdesc:ab38fd1f589a9c7d1bc01e85af36dab18"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of AudioElements that we are updating. <br /></td></tr>
<tr class="separator:ab38fd1f589a9c7d1bc01e85af36dab18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc82ad010c1ccb425676714d436094d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc82ad010c1ccb425676714d436094d2"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="class_picto_1_1_audio_element.html">AudioElement</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#adc82ad010c1ccb425676714d436094d2">unaddedAudioElements_</a></td></tr>
<tr class="memdesc:adc82ad010c1ccb425676714d436094d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of AudioElements that we stream in from the <a class="el" href="class_picto_1_1_task.html" title="A Task contains the top level StateMachine that defines the logic for researching an experimental que...">Task</a>. <br /></td></tr>
<tr class="separator:adc82ad010c1ccb425676714d436094d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcf94b314329bc4b6aa2b3ee9eb3276"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedcf94b314329bc4b6aa2b3ee9eb3276"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_output_signal.html">OutputSignal</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#aedcf94b314329bc4b6aa2b3ee9eb3276">outputSignals_</a></td></tr>
<tr class="memdesc:aedcf94b314329bc4b6aa2b3ee9eb3276"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of OutputSignals that we are updating. <br /></td></tr>
<tr class="separator:aedcf94b314329bc4b6aa2b3ee9eb3276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4632387578c788d2613000a7e630c650"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4632387578c788d2613000a7e630c650"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_output_signal.html">OutputSignal</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a4632387578c788d2613000a7e630c650">unaddedOutputSignals_</a></td></tr>
<tr class="memdesc:a4632387578c788d2613000a7e630c650"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of OutputSignals that we stream in from the <a class="el" href="class_picto_1_1_task.html" title="A Task contains the top level StateMachine that defines the logic for researching an experimental que...">Task</a>. <br /></td></tr>
<tr class="separator:a4632387578c788d2613000a7e630c650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b113091afab91a1f92a210bf4e6bf7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b113091afab91a1f92a210bf4e6bf7f"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_input_signal.html">InputSignal</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#a6b113091afab91a1f92a210bf4e6bf7f">inputSignals_</a></td></tr>
<tr class="memdesc:a6b113091afab91a1f92a210bf4e6bf7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of InputSignals that we are updating. <br /></td></tr>
<tr class="separator:a6b113091afab91a1f92a210bf4e6bf7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe013ad3b7c2051de6c37d38f19f95f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabe013ad3b7c2051de6c37d38f19f95f"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="struct_picto_1_1_input_signal.html">InputSignal</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_scene.html#aabe013ad3b7c2051de6c37d38f19f95f">unaddedInputSignals_</a></td></tr>
<tr class="memdesc:aabe013ad3b7c2051de6c37d38f19f95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A QList of InputSignals that we stream in from the <a class="el" href="class_picto_1_1_task.html" title="A Task contains the top level StateMachine that defines the logic for researching an experimental que...">Task</a>. <br /></td></tr>
<tr class="separator:aabe013ad3b7c2051de6c37d38f19f95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8923aa969a44a63d267e6bc769c91d77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8923aa969a44a63d267e6bc769c91d77"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>frame_</b></td></tr>
<tr class="separator:a8923aa969a44a63d267e6bc769c91d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bb607993403d9621914a33142ba043"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20bb607993403d9621914a33142ba043"></a>
QTime&#160;</td><td class="memItemRight" valign="bottom"><b>elapsedTime_</b></td></tr>
<tr class="separator:a20bb607993403d9621914a33142ba043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada907e09c8adff0463ac7efa25d6bf59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada907e09c8adff0463ac7efa25d6bf59"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>firstPhosphorTime_</b></td></tr>
<tr class="separator:ada907e09c8adff0463ac7efa25d6bf59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace63648c3d90482f2aaa0f03dde23c28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace63648c3d90482f2aaa0f03dde23c28"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>readyToRender_</b></td></tr>
<tr class="separator:ace63648c3d90482f2aaa0f03dde23c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab5b9f3951b9a22a61cd1757c7341da54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b9f3951b9a22a61cd1757c7341da54"></a>
static float&#160;</td><td class="memItemRight" valign="bottom"><b>zoom_</b> = 1.0</td></tr>
<tr class="separator:ab5b9f3951b9a22a61cd1757c7341da54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5315ed7828a2f41ac8115b9f653bf667"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5315ed7828a2f41ac8115b9f653bf667"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>closeRenderLoops_</b> = false</td></tr>
<tr class="separator:a5315ed7828a2f41ac8115b9f653bf667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497edda2eff3d800c3716ee49da1a493"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a497edda2eff3d800c3716ee49da1a493"></a>
static QMutex&#160;</td><td class="memItemRight" valign="bottom"><b>staticMutex_</b></td></tr>
<tr class="separator:a497edda2eff3d800c3716ee49da1a493"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles rendering of OutputElements each frame. </p>
<p>A scene is the thing that actually puts images on the screen, plays audio, and sets voltages to output pins. Scenes are used by the two StateMachineElements in which experimental time passes, <a class="el" href="class_picto_1_1_state.html" title="The StateMachineElement that handles rendering of graphical, audio and signal elements and responding...">State</a> and <a class="el" href="class_picto_1_1_pause_point.html" title="A PausePoint is the place where execution is suspended when the operator presses pause during an Expe...">PausePoint</a>. Each of these contains a single <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a>. To use a scene, VisualElements, AudioElements, and OutputSignals are added using their respective add?() functions. When it comes time to render the elements for the test subject, <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a> is called with the PictoEngine and the AssetId of the element calling the function.</p>
<dl class="section note"><dt>Note</dt><dd>There is some complexity associated with this object due to the fact that Qt requires that all rendering activities occur in the main UI thread. Since we want to be able to run Experiments in a separate thread, we needed to set up a system in which we can be sure that the render code gets run in the main UI thread, but everything else can run in a separate thread. We handle this by moving the <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> object into the UI thread, and then calling its private render code using a signal-slot framework. This is all handled internally and needn't concern outside classes. For more detail on this, see <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a> and <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a>. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_scene_8h_source.html#l00038">38</a> of file <a class="el" href="_scene_8h_source.html">Scene.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad10176d75a9cc0da56626f682d083507"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Scene::Scene </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> object. </p>
<p>Among other things, this connects the <a class="el" href="class_picto_1_1_scene.html#a1558a1f1eec6582e509defd1ff684fb7" title="Emitted when rendering is setup and the object wants doRender() to be called. ">readyForRender()</a> signal to the <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> slot so that we can assure that all calls to <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> occur in the main UI thread. See <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a>, <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> for more details. </p>

<p>Definition at line <a class="el" href="_scene_8cpp_source.html#l00152">152</a> of file <a class="el" href="_scene_8cpp_source.html">Scene.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a26d9a1e0c272cdbaf9d6c61125be1700"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="class_picto_1_1_scene.html">Scene</a> &gt; Scene::createScene </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> object and returns a shared pointer to it. </p>
<dl class="section note"><dt>Note</dt><dd>The scene handles rendering to the UI so it's rendering system must run in the UI thread. To make sure this happens, we use the qt signal-&gt;slot system which gaurantees that if we mark this object as running the main thread, any slots that are triggered on the object will wait for the UI thread to run. Since we only call the private <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> function through a signal-&gt;slot connection, we are gauranteed that rendering is in the UI thread. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a>, <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a>, <a class="el" href="class_picto_1_1_scene.html#a1558a1f1eec6582e509defd1ff684fb7" title="Emitted when rendering is setup and the object wants doRender() to be called. ">readyForRender()</a> </dd></dl>

<p>Definition at line <a class="el" href="_scene_8cpp_source.html#l00030">30</a> of file <a class="el" href="_scene_8cpp_source.html">Scene.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3ec0d6a558ec913fc7313181257b3dfd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Scene::doRender </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders the <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a>. </p>
<p>This function sorts Visual Targets according to their layer, presents them to screen, plays any <a class="el" href="class_picto_1_1_audio_element.html" title="An Audio Stimulus used to play sounds in Picto. ">AudioElement</a> objects that are currently audible, and pushes the latest output signals to their respective output ports. callerId is the AssetId of the element that is starting this <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a> it will be used to report the active element during the course of each frame presentation. </p><dl class="section note"><dt>Note</dt><dd>Qt requires that this function be called from the main UI thread since it calls functions that render graphics to screen. This is handled by pushing this object into the UI thread and only calling <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> from a signal-slot connection. See <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a> for more details. </dd></dl>
<p>firstPhosphorTime_ is the time that the first phosphor appeared on the first visual target In the current code iteration, visual targets block until the first phosphor of their scene is drawn to the display. This means that if there are multiple visual targets, things are not going to be synchronized. In keeping with this deficiency, the recorded first phosphor time is simply the time that the first phosphor appeared on the first screen. Down the line we should synchronize multiple displays. </p>

<p>Definition at line <a class="el" href="_scene_8cpp_source.html#l00170">170</a> of file <a class="el" href="_scene_8cpp_source.html">Scene.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1558a1f1eec6582e509defd1ff684fb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::Scene::readyForRender </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when rendering is setup and the object wants <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> to be called. </p>
<p>This signal essentially exists in order to deal with a Qt requirement that all rendering activity occurs only in the main UI thread. See renderI(), <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> for more detail. </p>

</div>
</div>
<a class="anchor" id="aaf9d9efc4da11b8596628a102b152de9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scene::render </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="class_picto_1_1_engine_1_1_picto_engine.html">Engine::PictoEngine</a> &gt;&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callerId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up rendering and then causes the actual render to happen by triggering the <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> function. </p>
<p>The actual rendering code that displays to the screen must run in the main UI thread but we don't want to require everything else to be in that thread. Originally Picto wasn't designed with seperation of the View and Control logic into different threads so we needed to allow rendering code to occur in the UI thread and Control logic to occur in a separate thread without rewriting the whole system. The method that we are using for now is to simply setup the render in this routine, then pause the Control logic thread until the <a class="el" href="class_picto_1_1_scene.html#a3ec0d6a558ec913fc7313181257b3dfd" title="Renders the Scene. ">doRender()</a> which actually performs the render is called in the UI thread. </p><dl class="section note"><dt>Note</dt><dd>When running on the PictoDirector there is only one thread (ie. everything runs in the UI Thread) and so there is no pause.</dd></dl>
<p>callerId is the AssetId of the <a class="el" href="class_picto_1_1_asset.html" title="The base class for all elements of a Picto experiment/analysis design. ">Asset</a> calling <a class="el" href="class_picto_1_1_scene.html#aaf9d9efc4da11b8596628a102b152de9" title="Sets up rendering and then causes the actual render to happen by triggering the doRender() function...">render()</a>. </p>

<p>Definition at line <a class="el" href="_scene_8cpp_source.html#l00052">52</a> of file <a class="el" href="_scene_8cpp_source.html">Scene.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5d9afebbcf97818d17f3da512ab94df9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Scene::setZoom </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zoom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current zoom level of this scene. </p>
<p>The zoom value must be greater than zero and less than 1. Essentially, this value will multiply all of the dimensions of objects in the <a class="el" href="class_picto_1_1_scene.html" title="Handles rendering of OutputElements each frame. ">Scene</a> to create smaller objects for smaller zoom values and simulate a 'Zoom Out' effect. </p>

<p>Definition at line <a class="el" href="_scene_8cpp_source.html#l00131">131</a> of file <a class="el" href="_scene_8cpp_source.html">Scene.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/common/statemachine/<a class="el" href="_scene_8h_source.html">Scene.h</a></li>
<li>source/common/statemachine/<a class="el" href="_scene_8cpp_source.html">Scene.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
