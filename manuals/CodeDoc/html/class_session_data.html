<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: SessionData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_session_data-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SessionData Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The base class or objects that stores session data.  
 <a href="class_session_data.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_session_data_8h_source.html">SessionData.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SessionData:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_session_data.png" usemap="#SessionData_map" alt=""/>
  <map id="SessionData_map" name="SessionData_map">
<area href="class_align_session_data.html" title="Stores Alignment event data for use in the Server&#39;s timestamp alignment system. " alt="AlignSessionData" shape="rect" coords="0,56,126,80"/>
<area href="class_cached_session_data.html" title="Stores session data in RAM for quick access until it is saved to disk. " alt="CachedSessionData" shape="rect" coords="136,56,262,80"/>
<area href="class_current_session_data.html" title="Stores all of the current values for each piece of session data defining the current Experimental sta..." alt="CurrentSessionData" shape="rect" coords="272,56,398,80"/>
<area href="class_serial_session_data.html" title="Interfaces with CurrentSessionData objects to convert their data into strings of Serial XML data..." alt="SerialSessionData" shape="rect" coords="408,56,534,80"/>
<area href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. " alt="StoredSessionData" shape="rect" coords="544,56,670,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5eb5642f14a897c65c31319580b23d5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5eb5642f14a897c65c31319580b23d5d"></a>
QList&lt; QVariantList &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a5eb5642f14a897c65c31319580b23d5d">peekData</a> (int dataType)</td></tr>
<tr class="memdesc:a5eb5642f14a897c65c31319580b23d5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of all data stored in this object of the input dataType. <br /></td></tr>
<tr class="separator:a5eb5642f14a897c65c31319580b23d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20863a2b54c30b1043ff4a87a9908ba9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a20863a2b54c30b1043ff4a87a9908ba9">copyDataTo</a> (<a class="el" href="class_session_data.html">SessionData</a> *receiver, QVariant condition=QVariant())</td></tr>
<tr class="memdesc:a20863a2b54c30b1043ff4a87a9908ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object.  <a href="#a20863a2b54c30b1043ff4a87a9908ba9">More...</a><br /></td></tr>
<tr class="separator:a20863a2b54c30b1043ff4a87a9908ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c17ef02068f6ec8bf717044c21b487"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a15c17ef02068f6ec8bf717044c21b487">moveDataTo</a> (<a class="el" href="class_session_data.html">SessionData</a> *receiver, QVariant condition=QVariant())</td></tr>
<tr class="memdesc:a15c17ef02068f6ec8bf717044c21b487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another session data object,.  <a href="#a15c17ef02068f6ec8bf717044c21b487">More...</a><br /></td></tr>
<tr class="separator:a15c17ef02068f6ec8bf717044c21b487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36792a7f432c4d8e640a0da5e1aaebbc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36792a7f432c4d8e640a0da5e1aaebbc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a36792a7f432c4d8e640a0da5e1aaebbc">clearData</a> ()</td></tr>
<tr class="memdesc:a36792a7f432c4d8e640a0da5e1aaebbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brings this object back into the state it was in when just constructed. <br /></td></tr>
<tr class="separator:a36792a7f432c4d8e640a0da5e1aaebbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7cc8594766473824c591396b187354ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a7cc8594766473824c591396b187354ad">addData</a> (int dataType, QVariantList data)</td></tr>
<tr class="memdesc:a7cc8594766473824c591396b187354ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a single data entry to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object of the input type.  <a href="#a7cc8594766473824c591396b187354ad">More...</a><br /></td></tr>
<tr class="separator:a7cc8594766473824c591396b187354ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da83d35fc78270dbfef9ba9a2b2b4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a72da83d35fc78270dbfef9ba9a2b2b4c">addData</a> (int dataType, QList&lt; QVariantList &gt; data)</td></tr>
<tr class="memdesc:a72da83d35fc78270dbfef9ba9a2b2b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the input QList of QVariantList data entries of the input type to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object.  <a href="#a72da83d35fc78270dbfef9ba9a2b2b4c">More...</a><br /></td></tr>
<tr class="separator:a72da83d35fc78270dbfef9ba9a2b2b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41387e7d78a4261524a201c78d1bb97"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97">startDataWrite</a> (QString *error=NULL)</td></tr>
<tr class="memdesc:ab41387e7d78a4261524a201c78d1bb97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called before the first of a single or batched up calls to <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3" title="Write the data of the input dataType to this object. ">writeData()</a>.  <a href="#ab41387e7d78a4261524a201c78d1bb97">More...</a><br /></td></tr>
<tr class="separator:ab41387e7d78a4261524a201c78d1bb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05a594d8410d638f1a066bfa5a10ba3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad05a594d8410d638f1a066bfa5a10ba3"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3">writeData</a> (int dataType, QVariantList data)=0</td></tr>
<tr class="memdesc:ad05a594d8410d638f1a066bfa5a10ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the data of the input dataType to this object. <br /></td></tr>
<tr class="separator:ad05a594d8410d638f1a066bfa5a10ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9d3e70ed86c81f56f5c063d1a2ff2f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f">endDataWrite</a> (QString *error=NULL)</td></tr>
<tr class="memdesc:aae9d3e70ed86c81f56f5c063d1a2ff2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after a completed batch of <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3" title="Write the data of the input dataType to this object. ">writeData()</a> calls to finalize the data write. Should return false if the data write could not be finalized.  <a href="#aae9d3e70ed86c81f56f5c063d1a2ff2f">More...</a><br /></td></tr>
<tr class="separator:aae9d3e70ed86c81f56f5c063d1a2ff2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b879f10ecfbfcaa12c2dbbc1b15bdff"><td class="memItemLeft" align="right" valign="top">virtual QList&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a4b879f10ecfbfcaa12c2dbbc1b15bdff">readDataTypes</a> ()=0</td></tr>
<tr class="memdesc:a4b879f10ecfbfcaa12c2dbbc1b15bdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of integers representing types of data handled by this object.  <a href="#a4b879f10ecfbfcaa12c2dbbc1b15bdff">More...</a><br /></td></tr>
<tr class="separator:a4b879f10ecfbfcaa12c2dbbc1b15bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f4eb49b8a23eb9c1a1575abc2fad4c"><td class="memItemLeft" align="right" valign="top">virtual QList&lt; QVariantList &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c">readData</a> (int dataType, QVariant condition, bool cut=false)=0</td></tr>
<tr class="memdesc:a81f4eb49b8a23eb9c1a1575abc2fad4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all data of the input dataType into a QVector or VariantList.  <a href="#a81f4eb49b8a23eb9c1a1575abc2fad4c">More...</a><br /></td></tr>
<tr class="separator:a81f4eb49b8a23eb9c1a1575abc2fad4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002c8f0b7437729ba8f04edf2e91bc06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a002c8f0b7437729ba8f04edf2e91bc06"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>eraseEverything</b> ()=0</td></tr>
<tr class="separator:a002c8f0b7437729ba8f04edf2e91bc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4f56f91d83e09645d853339fe5067181"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f56f91d83e09645d853339fe5067181"></a>
QReadWriteLock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a4f56f91d83e09645d853339fe5067181">readWriteLock_</a></td></tr>
<tr class="memdesc:a4f56f91d83e09645d853339fe5067181"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Read/Write mutex for handling reads and write from multiple threads. <br /></td></tr>
<tr class="separator:a4f56f91d83e09645d853339fe5067181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aeee41b6bf89c48e88891500bd0bfc254"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#aeee41b6bf89c48e88891500bd0bfc254">startDataWriteAndLock</a> (QString *error)</td></tr>
<tr class="memdesc:aeee41b6bf89c48e88891500bd0bfc254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks this object for writing and calls <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>.  <a href="#aeee41b6bf89c48e88891500bd0bfc254">More...</a><br /></td></tr>
<tr class="separator:aeee41b6bf89c48e88891500bd0bfc254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d1c762666e6b372eb95325def3c523"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#a68d1c762666e6b372eb95325def3c523">endDataWriteAndUnlock</a> (QString *error)</td></tr>
<tr class="memdesc:a68d1c762666e6b372eb95325def3c523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a> and unlocks this object after writing.  <a href="#a68d1c762666e6b372eb95325def3c523">More...</a><br /></td></tr>
<tr class="separator:a68d1c762666e6b372eb95325def3c523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfa6349376276e2f38598399089c74a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_session_data.html#abdfa6349376276e2f38598399089c74a">copyDataPrivate</a> (<a class="el" href="class_session_data.html">SessionData</a> *receiver, QVariant condition, bool cut)</td></tr>
<tr class="memdesc:abdfa6349376276e2f38598399089c74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all data from this object that meets the input condition and writes it to the input reciever.  <a href="#abdfa6349376276e2f38598399089c74a">More...</a><br /></td></tr>
<tr class="separator:abdfa6349376276e2f38598399089c74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ae15f642c4c4da813b65d94b4a68929dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae15f642c4c4da813b65d94b4a68929dd"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>SessionData</b></td></tr>
<tr class="separator:ae15f642c4c4da813b65d94b4a68929dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class or objects that stores session data. </p>
<p>There is some history to this class. Originally, we used to create two databases on the server, one file system database, and another very similiar database that was stored in RAM. We then periodically wrote the cache database out to the file database. When we found that the original system required a lot of complex and costly data access for workstations to join running sessions, we also added a lookup table with the current values of all Properties and other data. This allowed workstations to join up with running sessions more quickly. At one point though, in the process of upgrading our Qt version, we found that we were suddenly getting lots of errors that were crashing the server. With some research we discovered that cached Sqlite databases were only supposed to be accessed by a single thread, and this was causing the crash since the sockets handling <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> and Proxy data, along with the socket handling Workstation data access all had their own threads and were accessing this same cached database.</p>
<p>This class was created to solve that problem. <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> objects support multi-threaded access, and can easily write data to one another using the <a class="el" href="class_session_data.html#a20863a2b54c30b1043ff4a87a9908ba9" title="Copies all data in this SessionData object to another SessionData object. ">copyDataTo()</a> or <a class="el" href="class_session_data.html#a15c17ef02068f6ec8bf717044c21b487" title="Moves all data in this SessionData object to another session data object,. ">moveDataTo()</a> functions. Essentially, the entire <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> system is built to replace the in memory Sqlite database that doesn't support multithreaded access. By understanding the use case, we can get away without all of the SQL support that we didn't actually need and simply handle what needs to be done here in our server. By creating a <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> class, we have even been able to simplify our SQL file interface by hiding it all inside that class and writing to SQL by simply copying data from a <a class="el" href="class_cached_session_data.html" title="Stores session data in RAM for quick access until it is saved to disk. ">CachedSessionData</a> object to a <a class="el" href="class_stored_session_data.html" title="Handles long term storage of session data in an SQL file. ">StoredSessionData</a> object. </p><dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_session_data_8h_source.html#l00032">32</a> of file <a class="el" href="_session_data_8h_source.html">SessionData.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7cc8594766473824c591396b187354ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SessionData::addData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariantList&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a single data entry to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object of the input type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A VariantList containing the data entry in a way that should be understandable to anyone working with the input dataType.</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, this just calls the <a class="el" href="class_session_data.html#a72da83d35fc78270dbfef9ba9a2b2b4c" title="Adds the input QList of QVariantList data entries of the input type to this SessionData object...">addData(int,QList&lt;QVariantList&gt;)</a> with a list that has only a single QVariantList item. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00056">56</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a72da83d35fc78270dbfef9ba9a2b2b4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SessionData::addData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QList&lt; QVariantList &gt;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the input QList of QVariantList data entries of the input type to this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A QList of VariantList's each of which contains a data entry setup in a way that should be understandable to anyone working with the input dataType.</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, this uses <a class="el" href="class_session_data.html#aeee41b6bf89c48e88891500bd0bfc254" title="Locks this object for writing and calls startDataWrite(). ">startDataWriteAndLock()</a> to lock multithreaded access to this object and call <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>, then it calls <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3" title="Write the data of the input dataType to this object. ">writeData()</a> one by one for all data entries, then calls <a class="el" href="class_session_data.html#a68d1c762666e6b372eb95325def3c523" title="Calls endDataWrite() and unlocks this object after writing. ">endDataWriteAndUnlock()</a> to call <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a> and unlock multithreaded access to this object. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00069">69</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abdfa6349376276e2f38598399089c74a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SessionData::copyDataPrivate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_session_data.html">SessionData</a> *&#160;</td>
          <td class="paramname"><em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads all data from this object that meets the input condition and writes it to the input reciever. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cut</td><td>If true, all data that is read from this object by this function will be deleted from this object (this happens in <a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c" title="Reads all data of the input dataType into a QVector or VariantList. ">readData()</a>).</td></tr>
  </table>
  </dd>
</dl>
<p>This gets all of this object's data types, then passes the condition and cut inputs into <a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c" title="Reads all data of the input dataType into a QVector or VariantList. ">readData()</a> for each data type, and writes that data to the input reciever in a manner similar to that used in <a class="el" href="class_session_data.html#a72da83d35fc78270dbfef9ba9a2b2b4c" title="Adds the input QList of QVariantList data entries of the input type to this SessionData object...">addData(int, QList&lt;QVariantList&gt;)</a>. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00139">139</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a20863a2b54c30b1043ff4a87a9908ba9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SessionData::copyDataTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_session_data.html">SessionData</a> *&#160;</td>
          <td class="paramname"><em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&#160;</td>
          <td class="paramname"><em>condition</em> = <code>QVariant()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receiver</td><td>The <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to which data will be copied. </td></tr>
    <tr><td class="paramname">condition</td><td>Some condition that defines which data gets copied. It's meaning is defined in the <a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c" title="Reads all data of the input dataType into a QVector or VariantList. ">readData()</a> implementation.</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, this forwards calls to <a class="el" href="class_session_data.html#abdfa6349376276e2f38598399089c74a" title="Reads all data from this object that meets the input condition and writes it to the input reciever...">copyDataPrivate()</a> with "false" for the cut condition. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00045">45</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aae9d3e70ed86c81f56f5c063d1a2ff2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionData::endDataWrite </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after a completed batch of <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3" title="Write the data of the input dataType to this object. ">writeData()</a> calls to finalize the data write. Should return false if the data write could not be finalized. </p>
<dl class="section note"><dt>Note</dt><dd>There is a call to <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a> for every call to <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="class_stored_session_data.html#a9b226228a31f0721eb58a593f6293aa2">StoredSessionData</a>.</p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00105">105</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a68d1c762666e6b372eb95325def3c523"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionData::endDataWriteAndUnlock </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a> and unlocks this object after writing. </p>
<p>Returns the result of <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a>. error is set from that function as well. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00124">124</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a15c17ef02068f6ec8bf717044c21b487"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SessionData::moveDataTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_session_data.html">SessionData</a> *&#160;</td>
          <td class="paramname"><em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&#160;</td>
          <td class="paramname"><em>condition</em> = <code>QVariant()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves all data in this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to another session data object,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receiver</td><td>The <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> object to which data will be copied. </td></tr>
    <tr><td class="paramname">condition</td><td>Some condition that defines which data gets copied. It's meaning is defined in the <a class="el" href="class_session_data.html#a81f4eb49b8a23eb9c1a1575abc2fad4c" title="Reads all data of the input dataType into a QVector or VariantList. ">readData()</a> implementation.</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, this forwards calls to <a class="el" href="class_session_data.html#abdfa6349376276e2f38598399089c74a" title="Reads all data from this object that meets the input condition and writes it to the input reciever...">copyDataPrivate()</a> with "true" for the cut condition. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00028">28</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a81f4eb49b8a23eb9c1a1575abc2fad4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual QList&lt;QVariantList&gt; SessionData::readData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVariant&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cut</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads all data of the input dataType into a QVector or VariantList. </p>
<p>The meaning of the condition input is a function of the type of this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> class. </p>

<p>Implemented in <a class="el" href="class_current_session_data.html#a1df3ca686975e2c6049666dc06fd497e">CurrentSessionData</a>, <a class="el" href="class_stored_session_data.html#a5d352c72945a9a5ec4ef9d29c83a283b">StoredSessionData</a>, <a class="el" href="class_align_session_data.html#a88815e5e509175a5a7c1851a9a012c88">AlignSessionData</a>, <a class="el" href="class_cached_session_data.html#a772e4f41e01333a090f3e683e4f4e18f">CachedSessionData</a>, and <a class="el" href="class_serial_session_data.html#ae16eba34feb9bfd97dcdfa22c750dedb">SerialSessionData</a>.</p>

</div>
</div>
<a class="anchor" id="a4b879f10ecfbfcaa12c2dbbc1b15bdff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual QList&lt;int&gt; SessionData::readDataTypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of integers representing types of data handled by this object. </p>
<p>For example, if this <a class="el" href="class_session_data.html" title="The base class or objects that stores session data. ">SessionData</a> handles both Transition traversal and Property value change data, Transition traversal data might be data type 1 and Property value change data might be data type 2 such that this functio would return {1,2}. </p>

<p>Implemented in <a class="el" href="class_current_session_data.html#ae2e23db13e0a70a4afefe6343e54a8a0">CurrentSessionData</a>, <a class="el" href="class_stored_session_data.html#a621a4d2c9f1b39ac70bc3f2012538465">StoredSessionData</a>, <a class="el" href="class_align_session_data.html#a06d69e9ddd59ad7503a1294677f1663c">AlignSessionData</a>, <a class="el" href="class_serial_session_data.html#a7d47ce8b0be3b922f74c703d0d010bd0">SerialSessionData</a>, and <a class="el" href="class_cached_session_data.html#aa63a22afd537fbaccbf68dee67981018">CachedSessionData</a>.</p>

</div>
</div>
<a class="anchor" id="ab41387e7d78a4261524a201c78d1bb97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionData::startDataWrite </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called before the first of a single or batched up calls to <a class="el" href="class_session_data.html#ad05a594d8410d638f1a066bfa5a10ba3" title="Write the data of the input dataType to this object. ">writeData()</a>. </p>
<p>Should return false if resources needed for data write couldn't be initialized. </p><dl class="section note"><dt>Note</dt><dd>There is a call to <a class="el" href="class_session_data.html#aae9d3e70ed86c81f56f5c063d1a2ff2f" title="Called after a completed batch of writeData() calls to finalize the data write. Should return false i...">endDataWrite()</a> for every call to <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="class_stored_session_data.html#a9ff975024ea9a09048a8e7e14129b357">StoredSessionData</a>.</p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00097">97</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeee41b6bf89c48e88891500bd0bfc254"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionData::startDataWriteAndLock </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks this object for writing and calls <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>. </p>
<p>Returns the result of <a class="el" href="class_session_data.html#ab41387e7d78a4261524a201c78d1bb97" title="Called before the first of a single or batched up calls to writeData(). ">startDataWrite()</a>. error is set from that function as well. </p>

<p>Definition at line <a class="el" href="_session_data_8cpp_source.html#l00114">114</a> of file <a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/server/connections/<a class="el" href="_session_data_8h_source.html">SessionData.h</a></li>
<li>source/server/connections/<a class="el" href="_session_data_8cpp_source.html">SessionData.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
