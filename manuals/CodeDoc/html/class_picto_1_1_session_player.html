<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: Picto::SessionPlayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Picto</b></li><li class="navelem"><a class="el" href="class_picto_1_1_session_player.html">SessionPlayer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_picto_1_1_session_player-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Picto::SessionPlayer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Controls the timing and ordering of played back events during Picto Session playback.  
 <a href="class_picto_1_1_session_player.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_session_player_8h_source.html">SessionPlayer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Picto::SessionPlayer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_picto_1_1_session_player.png" usemap="#Picto::SessionPlayer_map" alt=""/>
  <map id="Picto::SessionPlayer_map" name="Picto::SessionPlayer_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:af6e2ed1e376e9d940c8f5554efbf753b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6e2ed1e376e9d940c8f5554efbf753b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#af6e2ed1e376e9d940c8f5554efbf753b">startingRun</a> (QString taskName, QString runName)</td></tr>
<tr class="memdesc:af6e2ed1e376e9d940c8f5554efbf753b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when playback of a Session Run starts or is restarted. taskName is the name of the task that was Run, runName is the name that was saved for this Run during the Experimental Session. <br /></td></tr>
<tr class="separator:af6e2ed1e376e9d940c8f5554efbf753b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7419758edb2920b408443d2683d8d029"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7419758edb2920b408443d2683d8d029"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#a7419758edb2920b408443d2683d8d029">loading</a> (bool startingLoad)</td></tr>
<tr class="memdesc:a7419758edb2920b408443d2683d8d029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when loading of Session data starts or finishes. startingLoad indicates if the event is a load start (true) or a load finish (false). <br /></td></tr>
<tr class="separator:a7419758edb2920b408443d2683d8d029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f89e41b206df6d3e88611f9638a394"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37f89e41b206df6d3e88611f9638a394"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#a37f89e41b206df6d3e88611f9638a394">reachedEnd</a> ()</td></tr>
<tr class="memdesc:a37f89e41b206df6d3e88611f9638a394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when playback of the current Run ends. <br /></td></tr>
<tr class="separator:a37f89e41b206df6d3e88611f9638a394"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77e91caab8b8fdb0272d2dbe1c289c99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#a77e91caab8b8fdb0272d2dbe1c289c99">SessionPlayer</a> (QSharedPointer&lt; <a class="el" href="class_picto_1_1_session_state.html">SessionState</a> &gt; sessState, QSharedPointer&lt; <a class="el" href="class_picto_1_1_file_session_loader.html">FileSessionLoader</a> &gt; sessLoader)</td></tr>
<tr class="memdesc:a77e91caab8b8fdb0272d2dbe1c289c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="class_picto_1_1_session_player.html" title="Controls the timing and ordering of played back events during Picto Session playback. ">SessionPlayer</a>.  <a href="#a77e91caab8b8fdb0272d2dbe1c289c99">More...</a><br /></td></tr>
<tr class="separator:a77e91caab8b8fdb0272d2dbe1c289c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8096bcc250a2bc24c1b4509816f2da6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8096bcc250a2bc24c1b4509816f2da6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#ab8096bcc250a2bc24c1b4509816f2da6">restart</a> ()</td></tr>
<tr class="memdesc:ab8096bcc250a2bc24c1b4509816f2da6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the current run from the beginning. <br /></td></tr>
<tr class="separator:ab8096bcc250a2bc24c1b4509816f2da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac568dc380670485040937b9cc9e85c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#a6ac568dc380670485040937b9cc9e85c">stepToTime</a> (double time)</td></tr>
<tr class="memdesc:a6ac568dc380670485040937b9cc9e85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Steps the Session time up to the input time. <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> signals indicating that Session events occured will be triggered along the way.  <a href="#a6ac568dc380670485040937b9cc9e85c">More...</a><br /></td></tr>
<tr class="separator:a6ac568dc380670485040937b9cc9e85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6051bc0f91563498f813aa749140e4c7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_session_player.html#a6051bc0f91563498f813aa749140e4c7">getTime</a> ()</td></tr>
<tr class="memdesc:a6051bc0f91563498f813aa749140e4c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current playback time.  <a href="#a6051bc0f91563498f813aa749140e4c7">More...</a><br /></td></tr>
<tr class="separator:a6051bc0f91563498f813aa749140e4c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Controls the timing and ordering of played back events during Picto Session playback. </p>
<p>This class works closely with a <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> to playback Session events in a well defined and tightly controlled order. Its public interface is fairly simple, with <a class="el" href="class_picto_1_1_session_player.html#ab8096bcc250a2bc24c1b4509816f2da6" title="Restarts the current run from the beginning. ">restart()</a> being used to restart the current run and <a class="el" href="class_picto_1_1_session_player.html#a6ac568dc380670485040937b9cc9e85c" title="Steps the Session time up to the input time. SessionState signals indicating that Session events occu...">stepToTime()</a> being used to move through it. A great deal of thought has been put into the exact ordering of played back events. In particular the interleaving system for events that occured as part of the <a class="el" href="class_picto_1_1_state_machine.html" title="A container for a State Machine defined by StateMachineElement objects connected by Transitions...">StateMachine</a> (<a class="el" href="class_picto_1_1_property.html" title="Describes the property of a DataStore. ">Property</a> value changes, <a class="el" href="class_picto_1_1_transition.html" title="A transition between two StateMachineElements. ">Transition</a> traversals) and events that occured outside of <a class="el" href="class_picto_1_1_state_machine.html" title="A container for a State Machine defined by StateMachineElement objects connected by Transitions...">StateMachine</a> control (Signal data, Spikes, LFP, <a class="el" href="class_picto_1_1_reward.html" title="A StateMachineElement that initiates reward feedback for the test subject. ">Reward</a>) needed to be clearly defined. For more detail on how this is handled, see step().</p>
<p>It should also be pointed out that the <a class="el" href="class_picto_1_1_session_player.html" title="Controls the timing and ordering of played back events during Picto Session playback. ">SessionPlayer</a> does not support "reverse playback" behavior. When <a class="el" href="class_picto_1_1_session_player.html#a6ac568dc380670485040937b9cc9e85c" title="Steps the Session time up to the input time. SessionState signals indicating that Session events occu...">stepToTime()</a> recieves an input with a time that is lower than the latest time, the Session Run is restarted and fast forwarded to that position. This is due to the need to support the <a class="el" href="class_picto_1_1_analysis.html" title="The top level object that defines Analysis code for extracting useful data from a Picto Session...">Analysis</a> system. For more detail, see <a class="el" href="class_picto_1_1_session_player.html#a6ac568dc380670485040937b9cc9e85c" title="Steps the Session time up to the input time. SessionState signals indicating that Session events occu...">stepToTime()</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2013 </dd></dl>

<p>Definition at line <a class="el" href="_session_player_8h_source.html#l00028">28</a> of file <a class="el" href="_session_player_8h_source.html">SessionPlayer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a77e91caab8b8fdb0272d2dbe1c289c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SessionPlayer::SessionPlayer </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="class_picto_1_1_session_state.html">SessionState</a> &gt;&#160;</td>
          <td class="paramname"><em>sessState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="class_picto_1_1_file_session_loader.html">FileSessionLoader</a> &gt;&#160;</td>
          <td class="paramname"><em>sessLoader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="class_picto_1_1_session_player.html" title="Controls the timing and ordering of played back events during Picto Session playback. ">SessionPlayer</a>. </p>
<p>sessState is the <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> that will be used to playback all of the Session data. sessLoader is the <a class="el" href="class_picto_1_1_file_session_loader.html" title="A Component of the Picto Playback system that loads data from a Session file into a SessionState...">FileSessionLoader</a> that will load the Session file into the <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> object before playback. </p>

<p>Definition at line <a class="el" href="_session_player_8cpp_source.html#l00008">8</a> of file <a class="el" href="_session_player_8cpp_source.html">SessionPlayer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6051bc0f91563498f813aa749140e4c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SessionPlayer::getTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current playback time. </p>
<p>All Session events that occured up to this time have been emitted through <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> signals. </p>

<p>Definition at line <a class="el" href="_session_player_8cpp_source.html#l00127">127</a> of file <a class="el" href="_session_player_8cpp_source.html">SessionPlayer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6ac568dc380670485040937b9cc9e85c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SessionPlayer::stepToTime </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Steps the Session time up to the input time. <a class="el" href="class_picto_1_1_session_state.html" title="This is pretty much a convenience class for grouping together DataState objects for playback and Anal...">SessionState</a> signals indicating that Session events occured will be triggered along the way. </p>
<p>This function calls stepToNextFrame() over and over again until the input time is no longer higher than the time of the next frame. If the current Run has not yet been started, some initialization will occur before starting stepToNextFrame() in the loop.</p>
<p>If the input time is lower than the current time in the Run, the Run will be restarted and then stepToNextFrame() will be called until the input time as usual. This is due to the fact that Analyses depend on a complete pass through the Session Run from the beginning. If we "rewound", we would have to undo <a class="el" href="class_picto_1_1_analysis.html" title="The top level object that defines Analysis code for extracting useful data from a Picto Session...">Analysis</a> script effects while we rewind to the input time and then restart <a class="el" href="class_picto_1_1_analysis.html" title="The top level object that defines Analysis code for extracting useful data from a Picto Session...">Analysis</a> at that point. That is not supported so we need to just clear the entire <a class="el" href="class_picto_1_1_analysis.html" title="The top level object that defines Analysis code for extracting useful data from a Picto Session...">Analysis</a> and start over from scratch. In cases where we end up restarting the run, the outside world will know what happened because the <a class="el" href="class_picto_1_1_session_player.html#af6e2ed1e376e9d940c8f5554efbf753b" title="Emitted when playback of a Session Run starts or is restarted. taskName is the name of the task that ...">startingRun()</a> signal will be emitted, just as it always is when playback of a new run starts.</p>
<p>If we reach the end of the Run before arriving at the input time, the <a class="el" href="class_picto_1_1_session_player.html#a37f89e41b206df6d3e88611f9638a394" title="Emitted when playback of the current Run ends. ">reachedEnd()</a> will be emitted. </p>

<p>Definition at line <a class="el" href="_session_player_8cpp_source.html#l00053">53</a> of file <a class="el" href="_session_player_8cpp_source.html">SessionPlayer.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/common/playback/<a class="el" href="_session_player_8h_source.html">SessionPlayer.h</a></li>
<li>source/common/playback/<a class="el" href="_session_player_8cpp_source.html">SessionPlayer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
