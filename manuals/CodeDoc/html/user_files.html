<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Picto: Understand Picto User Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Picto Developer's Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Understand <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> User Files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> applications make use of a number of files for storing configurations, session data, experimental designs and more. The various files used by <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> appear below.</p>
<h1><a class="anchor" id="design_file"></a>
The .xml Design File</h1>
<p>This file stores an XML serialized version of the Experiment / Analysis code designed in the <a class="el" href="class_state_edit_viewer.html" title="The StateEditViewer is a container for the Designer widget which is a development environment for cre...">StateEditViewer</a>. The file is split into multiple sections:</p>
<ul>
<li>Experiment: This includes the serialized Experiment and its child Task objects.</li>
<li>Analysis: There may be none or many Analyses defined. Each Analysis is defined under its own Analysis tag, and each child of Analysis includes information pointing to the Experimental element to which it is attached.</li>
<li>UIData: These define the appearance of the elements of the Experiment and Analysis trees within the <a class="el" href="class_state_edit_viewer.html" title="The StateEditViewer is a container for the Designer widget which is a development environment for cre...">StateEditViewer</a>. There is one UIData tag for each Analysis tag and the Experiment tag. The UI information is separated from the functional design since it is necessary only for development purposes.</li>
</ul>
<h1><a class="anchor" id="session_file"></a>
The .sqlite Session File</h1>
<p>Session files include all data needed to reproduce an Experimental session. They are stored on the <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> in a "sessions" directory located in the directory above the bin folder. The Session file is written in the sqlite format, such that it can be queried using SQL commands from our C++ code or a third part sqlite reader application like SqliteSpy (<a href="http://www.yunqa.de/delphi/doku.php/products/sqlitespy/index">http://www.yunqa.de/delphi/doku.php/products/sqlitespy/index</a>). It is very useful to install a 3rd party sqlite reader on a <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> development machine for debugging purposes. It should also be noted that while many of the tables in the Session file include timestamps, others are indexed only according to the frame before which they occured. In cases like these, a DataId field, common to most of the tables, can be used to retrieve the order in which these events occured. The DataID is an increasing value that is generated at the time that each data unit is generated on the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> and Proxy. This means that within a particular component (<a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> or Proxy), the DataId can be used to determine ordering, but DataIds for values coming from the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> cannot be compared to those of values comming from the Proxy. The tables in the .sqlite Session file are as follows:</p>
<ul>
<li>alignevents - Includes all aligned alignment events, with their time in the behavioral and neural time streams plus information about their closeness to the current timestream alignment fit line.</li>
<li>behavioralalignevents - Includes all alignment events that have been received from the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a>.</li>
<li>componentinfo - Includes information about the components (<a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a>, Proxy) being used in this Session.</li>
<li>currentstate - Includes the latest values of all Properties in the Experiment. These are stored in case the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> crashes and needs to reconnect quickly to a Session that was in progress. This table is not necessary for Session Analysis since all of its information can be found in other tables.</li>
<li>elementlookup - This is a lookup table that can be used to acces an Experimental element's path based on its AssetId.</li>
<li>frames - Includes every frame presented in the Session and that time at which its first phosphor appeared.</li>
<li>initproperties - Every time the initValue of a Property changes, its new value is recorded here, along with the Property's AssetId and the FrameId of the frame before which the value changed. A Property initValue is the value to which its runValue is set whenever the Property's parent enters scope. During a session, these values are changed by the operator in the <a class="el" href="class_remote_viewer.html" title="This allows Operators to view and control a remotely running Experimental Session. ">RemoteViewer</a>.</li>
<li>lfp - Contains all LFP data in binary blocks (to save disk space/disk write time) indexed by the block timestamp and the channel of the lfp data.</li>
<li>neuralalignevents - Includes all alignment events that have been received from the Proxy.</li>
<li>properties - Every time the runValue of a Property changes, its new value is recorded here, along with the Property's AssetId and the FrameId of the frame before which the value changed.</li>
<li>propertylookup - This is a lookup table that can be used to access a Property name and the AssetId of its parent element based on the Property's AssetId. The parent element can be looked up in the elementlookup table.</li>
<li>rewards - Contains the time, duration and reward channel of every reward provided during the Session, including those provided directly by the Operator from the <a class="el" href="class_remote_viewer.html" title="This allows Operators to view and control a remotely running Experimental Session. ">RemoteViewer</a> reward button or the reward buttons on the Pictobox.</li>
<li>runs - Contains information about every time a Task was run, including the first and last frame ids, the name and notes saved by the Operator, and whether the Operator marked the Run as saved.</li>
<li>sessioninfo - Includes various simple pieces of information about the Session as a whole in a simple key/value lookup table. Some information stored here is the time when the Session started, the XML code defining the Design used in the Session, which Signal channels were used in the Session and their characteristics, which <a class="el" href="class_remote_viewer.html" title="This allows Operators to view and control a remotely running Experimental Session. ">RemoteViewer</a> instances where authorized to control the Session, etc.</li>
<li>signal_position - For each input signal, a table is created called "signal_?" where ? is the name of the signal. Stored data includes the frame after which the data was read, the offsettime from the frame presentation time at which the first sample was read, a binary string of sample readings, and the period of sample readings in milliseconds.</li>
<li>spikes - This table includes one row for every neural spike detected during the experiment along with its timestamp, channel, unit and waveform.</li>
<li>transitionlookup - This is a lookup table that is used to lookup a Transition element's parent AssetId and its source, source result, and destination names. The parent element can be looked up in the elementlookup table.</li>
<li>transitions - This table includes the AssetId of every Transition that was traversed during a Session along with the FrameId of the Frame after which the Transition was traversed. </li>
</ul>
<h1><a class="anchor" id="config_file"></a>
The .config Files</h1>
<p>These files are stored in the config directory (at the level above the bin directory) are used to store non-vital configuration data about the various <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> Applications. The <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a>, Proxy and Workstation store their id numbers in these files. The <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> stores information about open sessions in these files in case it needs to return to an open session after a server crash, or end a session that hasn't shown activity in a long time. If things are acting screwy and you want to really REALLY reset the <a class="el" href="namespace_picto.html" title="A compositing surface for Direct3D Mobile (used on PictoBox) ">Picto</a> system, just delete all of these .config files and they will be rebuilt from scratch. It should be noted however, that for various reasons, in some cases configuraitons are stored in the registry using a QSettings object. This information includes things like the default reward durations on the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> and the current system number of the various applications. It shouldn't be necessary to delete these things even in a serious reset, but again, if you did, it wouldn't be hugely significant. </p>
<h1><a class="anchor" id="temp_files"></a>
Temporary Files</h1>
<p>Various temporary files are stored in various directories under the directory containing the bin folder. These store things like AnalysisOutput files before they are saved to a user defined disk path, automatic Design file backups in case of a Workstation crash, temporary audio files extracted from an Experimental design on the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a>, etc. These files are automatically created and deleted by picto and shouldn't concern anyone. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 26 2014 16:56:50 for Picto by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
