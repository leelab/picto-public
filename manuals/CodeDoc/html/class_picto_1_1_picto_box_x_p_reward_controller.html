<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: Picto::PictoBoxXPRewardController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Picto</b></li><li class="navelem"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html">PictoBoxXPRewardController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_picto_1_1_picto_box_x_p_reward_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Picto::PictoBoxXPRewardController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A reward controller for the PictoBox.  
 <a href="class_picto_1_1_picto_box_x_p_reward_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_picto_box_x_p_reward_controller_8h_source.html">PictoBoxXPRewardController.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Picto::PictoBoxXPRewardController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_picto_1_1_picto_box_x_p_reward_controller.png" usemap="#Picto::PictoBoxXPRewardController_map" alt=""/>
  <map id="Picto::PictoBoxXPRewardController_map" name="Picto::PictoBoxXPRewardController_map">
<area href="class_picto_1_1_reward_controller.html" title="This is the base class for classes that provide rewards to the subject of a Picto experiment..." alt="Picto::RewardController" shape="rect" coords="0,56,211,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2f7e7619d810f7e365beaedb1b01029"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#ab2f7e7619d810f7e365beaedb1b01029">PictoBoxXPRewardController</a> ()</td></tr>
<tr class="memdesc:ab2f7e7619d810f7e365beaedb1b01029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html" title="A reward controller for the PictoBox. ">PictoBoxXPRewardController</a> object.  <a href="#ab2f7e7619d810f7e365beaedb1b01029">More...</a><br /></td></tr>
<tr class="separator:ab2f7e7619d810f7e365beaedb1b01029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_picto_1_1_reward_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_picto_1_1_reward_controller')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_picto_1_1_reward_controller.html">Picto::RewardController</a></td></tr>
<tr class="memitem:a304c608453d6457840c8ef68d4772345 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a304c608453d6457840c8ef68d4772345"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RewardController</b> (unsigned int channelCount)</td></tr>
<tr class="separator:a304c608453d6457840c8ef68d4772345 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46b911316ae8383a92fd62d3e6e0a30 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae46b911316ae8383a92fd62d3e6e0a30"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#ae46b911316ae8383a92fd62d3e6e0a30">setRewardVolume</a> (unsigned int channel, float volume)</td></tr>
<tr class="memdesc:ae46b911316ae8383a92fd62d3e6e0a30 inherit pub_methods_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">This doesn't appear to be used or have any effect and should be removed. <br /></td></tr>
<tr class="separator:ae46b911316ae8383a92fd62d3e6e0a30 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea32b937d64aeaf7928ee4b696d697b inherit pub_methods_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ea32b937d64aeaf7928ee4b696d697b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a0ea32b937d64aeaf7928ee4b696d697b">discardOverlapingRewards</a> (bool doIt)</td></tr>
<tr class="memdesc:a0ea32b937d64aeaf7928ee4b696d697b inherit pub_methods_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this to true if rewards that are queued up on a given channel, waiting for the one in progress to finish should just be erased. <br /></td></tr>
<tr class="separator:a0ea32b937d64aeaf7928ee4b696d697b inherit pub_methods_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20eab2fa7e1441b4f54e94332589a3bd inherit pub_methods_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20eab2fa7e1441b4f54e94332589a3bd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getChannelCount</b> ()</td></tr>
<tr class="separator:a20eab2fa7e1441b4f54e94332589a3bd inherit pub_methods_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a56936f22612a215077b3ab494b27c5 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a56936f22612a215077b3ab494b27c5"></a>
QList&lt; QSharedPointer&lt; <a class="el" href="class_picto_1_1_reward_data_unit.html">RewardDataUnit</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a1a56936f22612a215077b3ab494b27c5">getDeliveredRewards</a> ()</td></tr>
<tr class="memdesc:a1a56936f22612a215077b3ab494b27c5 inherit pub_methods_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the latest rewards to have been supplied, clearing it in the process. <br /></td></tr>
<tr class="separator:a1a56936f22612a215077b3ab494b27c5 inherit pub_methods_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8490db56a1df896a33362aeea7c0cafc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a8490db56a1df896a33362aeea7c0cafc">startReward</a> (unsigned int channel, int quantity)</td></tr>
<tr class="memdesc:a8490db56a1df896a33362aeea7c0cafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_picto_1_1_reward_controller.html#a3e09bdba141632e89472bef42dc1e132" title="Starts a reward without blocking during reward supply. ">RewardController::startReward()</a> to output a correctly timed reward signal on the output line.  <a href="#a8490db56a1df896a33362aeea7c0cafc">More...</a><br /></td></tr>
<tr class="separator:a8490db56a1df896a33362aeea7c0cafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f06b94221e0bec202b4e3236e20429b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a3f06b94221e0bec202b4e3236e20429b">rewardWasSupplied</a> (unsigned int channel)</td></tr>
<tr class="memdesc:a3f06b94221e0bec202b4e3236e20429b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_picto_1_1_reward_controller.html#a213ce91b8ef9019786e96e601d9641b9" title="Returns true if the latest reward is no longer being supplied on the input channel. ">RewardController::rewardWasSupplied()</a> to return true when the latest reward to have been started using <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a8490db56a1df896a33362aeea7c0cafc" title="Implements RewardController::startReward() to output a correctly timed reward signal on the output li...">startReward()</a> is complete.  <a href="#a3f06b94221e0bec202b4e3236e20429b">More...</a><br /></td></tr>
<tr class="separator:a3f06b94221e0bec202b4e3236e20429b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc6d881ee582daaf7eae64be6f8af1e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a5dc6d881ee582daaf7eae64be6f8af1e">startFlush</a> (unsigned int channel)</td></tr>
<tr class="memdesc:a5dc6d881ee582daaf7eae64be6f8af1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_picto_1_1_reward_controller.html#aaf880507edaa44288cd5b17bdb71f079" title="Starts a flush on the input channel. ">RewardController::startFlush()</a> to raise the reward line voltage.  <a href="#a5dc6d881ee582daaf7eae64be6f8af1e">More...</a><br /></td></tr>
<tr class="separator:a5dc6d881ee582daaf7eae64be6f8af1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9567626896a597b6cda39acd1b0aaf5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#ae9567626896a597b6cda39acd1b0aaf5">stopFlush</a> (unsigned int channel)</td></tr>
<tr class="memdesc:ae9567626896a597b6cda39acd1b0aaf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements <a class="el" href="class_picto_1_1_reward_controller.html#a5a14b4f103def1711b485cc05f4c53bb" title="Stops a flush on the input channel. ">RewardController::stopFlush()</a> to lower the reward line voltage.  <a href="#ae9567626896a597b6cda39acd1b0aaf5">More...</a><br /></td></tr>
<tr class="separator:ae9567626896a597b6cda39acd1b0aaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5ac4b77fd65f60794a9a814fbbc41944"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ac4b77fd65f60794a9a814fbbc41944"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasDevice_</b></td></tr>
<tr class="separator:a5ac4b77fd65f60794a9a814fbbc41944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257ff198c6639671bb9b38d41433fc95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a257ff198c6639671bb9b38d41433fc95"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>outputData</b> [2]</td></tr>
<tr class="separator:a257ff198c6639671bb9b38d41433fc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97c5e60d236125b1c6147dd253a006b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad97c5e60d236125b1c6147dd253a006b"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>daqTaskHandle_</b> [5]</td></tr>
<tr class="separator:ad97c5e60d236125b1c6147dd253a006b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328e17e440e35e23e2ddcfea246cdcdd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a328e17e440e35e23e2ddcfea246cdcdd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rewardLines_</b> [5]</td></tr>
<tr class="separator:a328e17e440e35e23e2ddcfea246cdcdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e4fdde516dca2567d6ea7c581c136c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e4fdde516dca2567d6ea7c581c136c3"></a>
<a class="el" href="class_picto_1_1_stopwatch.html">Stopwatch</a>&#160;</td><td class="memItemRight" valign="bottom"><b>stopwatch_</b> [5]</td></tr>
<tr class="separator:a7e4fdde516dca2567d6ea7c581c136c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af399614432dc438e867fb7a467408ec1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af399614432dc438e867fb7a467408ec1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>latestOnTime_</b> [5]</td></tr>
<tr class="separator:af399614432dc438e867fb7a467408ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_slots_class_picto_1_1_reward_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_slots_class_picto_1_1_reward_controller')"><img src="closed.png" alt="-"/>&#160;Public Slots inherited from <a class="el" href="class_picto_1_1_reward_controller.html">Picto::RewardController</a></td></tr>
<tr class="memitem:a287522c7b84e646e85f5aa85dc49bb74 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a287522c7b84e646e85f5aa85dc49bb74">addReward</a> (unsigned int channel, int quantity, int minRewardPeriod)</td></tr>
<tr class="memdesc:a287522c7b84e646e85f5aa85dc49bb74 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a reward to the list of startable rewards for the input channel and with the input quantity and minRewardPeriod (both in milliseconds).  <a href="#a287522c7b84e646e85f5aa85dc49bb74">More...</a><br /></td></tr>
<tr class="separator:a287522c7b84e646e85f5aa85dc49bb74 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f9b5b07f824d9078b30cb116ff3323 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#ae9f9b5b07f824d9078b30cb116ff3323">triggerRewards</a> (bool appendToList)</td></tr>
<tr class="memdesc:ae9f9b5b07f824d9078b30cb116ff3323 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the next reward from <a class="el" href="class_picto_1_1_reward_controller.html#a287522c7b84e646e85f5aa85dc49bb74" title="Appends a reward to the list of startable rewards for the input channel and with the input quantity a...">addReward()</a> if the previous one on its channel is done.  <a href="#ae9f9b5b07f824d9078b30cb116ff3323">More...</a><br /></td></tr>
<tr class="separator:ae9f9b5b07f824d9078b30cb116ff3323 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbcbd4e26643a6a789ebde84711ea336 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbcbd4e26643a6a789ebde84711ea336"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#adbcbd4e26643a6a789ebde84711ea336">rewardInProgress</a> (unsigned int channel)</td></tr>
<tr class="memdesc:adbcbd4e26643a6a789ebde84711ea336 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there is a reward in progress on the input channel. <br /></td></tr>
<tr class="separator:adbcbd4e26643a6a789ebde84711ea336 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf881b86a594bb618c2901e210d457e5 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf881b86a594bb618c2901e210d457e5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#abf881b86a594bb618c2901e210d457e5">hasPendingRewards</a> ()</td></tr>
<tr class="memdesc:abf881b86a594bb618c2901e210d457e5 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if there are rewards waiting to be supplied on any channel. <br /></td></tr>
<tr class="separator:abf881b86a594bb618c2901e210d457e5 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4380a9f16f4490377ae618096b61ffd1 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4380a9f16f4490377ae618096b61ffd1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a4380a9f16f4490377ae618096b61ffd1">hasPendingRewards</a> (unsigned int channel)</td></tr>
<tr class="memdesc:a4380a9f16f4490377ae618096b61ffd1 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if there are rewards waiting to be supplied on the input channel. <br /></td></tr>
<tr class="separator:a4380a9f16f4490377ae618096b61ffd1 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c6d50f2c4d7b924691090e7f8d4781 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82c6d50f2c4d7b924691090e7f8d4781"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a82c6d50f2c4d7b924691090e7f8d4781">flush</a> (unsigned int channel, int seconds)</td></tr>
<tr class="memdesc:a82c6d50f2c4d7b924691090e7f8d4781 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes on the input channel for the input number of seconds. <br /></td></tr>
<tr class="separator:a82c6d50f2c4d7b924691090e7f8d4781 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54c91a54e1997254bdff6ecedab69bc inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae54c91a54e1997254bdff6ecedab69bc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#ae54c91a54e1997254bdff6ecedab69bc">isFlushing</a> (unsigned int channel)</td></tr>
<tr class="memdesc:ae54c91a54e1997254bdff6ecedab69bc inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there is a flush in progress on the input channel. <br /></td></tr>
<tr class="separator:ae54c91a54e1997254bdff6ecedab69bc inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2d6ef0210c0699afb60bbcc3422f80 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a2d6ef0210c0699afb60bbcc3422f80"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_picto_1_1_reward_controller.html#a5a2d6ef0210c0699afb60bbcc3422f80">abortFlush</a> (unsigned int channel)</td></tr>
<tr class="memdesc:a5a2d6ef0210c0699afb60bbcc3422f80 inherit pub_slots_class_picto_1_1_reward_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops any active flush on the input channel. <br /></td></tr>
<tr class="separator:a5a2d6ef0210c0699afb60bbcc3422f80 inherit pub_slots_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header signals_class_picto_1_1_reward_controller"><td colspan="2" onclick="javascript:toggleInherit('signals_class_picto_1_1_reward_controller')"><img src="closed.png" alt="-"/>&#160;Signals inherited from <a class="el" href="class_picto_1_1_reward_controller.html">Picto::RewardController</a></td></tr>
<tr class="memitem:afeec003e05cc99f7f07b01700090bc23 inherit signals_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afeec003e05cc99f7f07b01700090bc23"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>rewarded</b> (int quantity)</td></tr>
<tr class="separator:afeec003e05cc99f7f07b01700090bc23 inherit signals_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_picto_1_1_reward_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_picto_1_1_reward_controller')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_picto_1_1_reward_controller.html">Picto::RewardController</a></td></tr>
<tr class="memitem:a51ce15bed088bb162c6d87f79bd64a59 inherit pro_attribs_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51ce15bed088bb162c6d87f79bd64a59"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>channelCount_</b></td></tr>
<tr class="separator:a51ce15bed088bb162c6d87f79bd64a59 inherit pro_attribs_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f932bbc885d692776095ce1f907593 inherit pro_attribs_class_picto_1_1_reward_controller"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6f932bbc885d692776095ce1f907593"></a>
QList&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rewardVolumes_</b></td></tr>
<tr class="separator:ad6f932bbc885d692776095ce1f907593 inherit pro_attribs_class_picto_1_1_reward_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A reward controller for the PictoBox. </p>
<p>PictoBox uses a National Instruments PCIe-6321 data acquisition board to deliver rewards (the same board is used for the 8 analog inputs, 8 digital outputs and event code outputs). As long as PictoBox is running Windows XP-&gt;Windows 7(8?), we can use the traditional NIDAQ MX drivers.</p>
<p>Pictobox5/System10 uses an older NIDAQ version E with reward delivered via analog output while the other Pictoboxes use the series M NIDAQ with reward delivered via digital output. The intention of the design is for the four free digital output pins tied to the corresponding clocks to control the four reward channels. Currently only one reward channel is connected. Dev/ctr0 outputs through PFI 12 on the card. The other pulse-capable pins are PFI 13, 14, and 15, all currently free.</p>
<p>The digital output PFI 9 is the enable line for the relay board. The High-enable logic is to prevent free rewards from being dispensed when Picto boots up.</p>
<dl class="section note"><dt>Note</dt><dd>The Crouzet PB-4 Digital I/O board uses active low logic to activate the reward relays. </dd></dl>
<dl class="section author"><dt>Authors</dt><dd>Vered Zafrany, Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8h_source.html#l00029">29</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8h_source.html">PictoBoxXPRewardController.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab2f7e7619d810f7e365beaedb1b01029"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Picto::PictoBoxXPRewardController::PictoBoxXPRewardController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html" title="A reward controller for the PictoBox. ">PictoBoxXPRewardController</a> object. </p>
<p>Creates a "RewardTask" and "RewardEnableTask" to set both the reward line and the reward enable line to high voltages when Picto starts. Since the <a class="el" href="class_picto_1_1_reward.html" title="A StateMachineElement that initiates reward feedback for the test subject. ">Reward</a> relay card uses active low logic, we need to start the reward line high. Incidentally, this is why we cant simply attach the relay card's enable line to 5 volts. Since all output lines start low when the Pictobox turns on, but the 5V line starts high if we connected the relay card's enable line to 5V, the reward solenoid would always be open after the computer restarted until Picto started. </p>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html#l00060">60</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3f06b94221e0bec202b4e3236e20429b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Picto::PictoBoxXPRewardController::rewardWasSupplied </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a213ce91b8ef9019786e96e601d9641b9" title="Returns true if the latest reward is no longer being supplied on the input channel. ">RewardController::rewardWasSupplied()</a> to return true when the latest reward to have been started using <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a8490db56a1df896a33362aeea7c0cafc" title="Implements RewardController::startReward() to output a correctly timed reward signal on the output li...">startReward()</a> is complete. </p>
<p>In the case of the <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html" title="A reward controller for the PictoBox. ">PictoBoxXPRewardController</a>, we piggyback onto this function and actually stop the reward task once the reward has been completely supplied. See <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a8490db56a1df896a33362aeea7c0cafc" title="Implements RewardController::startReward() to output a correctly timed reward signal on the output li...">startReward()</a> for more details. </p>

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a213ce91b8ef9019786e96e601d9641b9">Picto::RewardController</a>.</p>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html#l00221">221</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5dc6d881ee582daaf7eae64be6f8af1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::PictoBoxXPRewardController::startFlush </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#aaf880507edaa44288cd5b17bdb71f079" title="Starts a flush on the input channel. ">RewardController::startFlush()</a> to raise the reward line voltage. </p>
<p>Unlike in <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a8490db56a1df896a33362aeea7c0cafc" title="Implements RewardController::startReward() to output a correctly timed reward signal on the output li...">startReward()</a> flushes are not stopped automatically. The <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#ae9567626896a597b6cda39acd1b0aaf5" title="Implements RewardController::stopFlush() to lower the reward line voltage. ">stopFlush()</a> function is used to lower the reward line. </p>

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#aaf880507edaa44288cd5b17bdb71f079">Picto::RewardController</a>.</p>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html#l00246">246</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8490db56a1df896a33362aeea7c0cafc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::PictoBoxXPRewardController::startReward </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a3e09bdba141632e89472bef42dc1e132" title="Starts a reward without blocking during reward supply. ">RewardController::startReward()</a> to output a correctly timed reward signal on the output line. </p>
<p>As far as timing goes, the NiDaq card only supports periodic timing signals. We have not found a way to define a simple high-low pulse. For this reason, we set up a clock pulse that ticks once for each "quantity" milliseconds. We then attach this clock to a task that sends the output signal high, low, high, low, switching once per clock pulse. The reward signal then goes high for exactly as long as we want and then low. Since the reward system is updated once per frame, we are assured that <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a3f06b94221e0bec202b4e3236e20429b" title="Implements RewardController::rewardWasSupplied() to return true when the latest reward to have been s...">rewardWasSupplied()</a> will be called once per frame. <a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a3f06b94221e0bec202b4e3236e20429b" title="Implements RewardController::rewardWasSupplied() to return true when the latest reward to have been s...">rewardWasSupplied()</a> stops the task once the required reward quantity has been supplied, so the second high pulse never happens.</p>
<dl class="section note"><dt>Note</dt><dd>The downside to this is that we can't provide rewards of under 16ms, in practice, rewards this small are very non-linear and not a good idea anyway. </dd></dl>

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a3e09bdba141632e89472bef42dc1e132">Picto::RewardController</a>.</p>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html#l00170">170</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae9567626896a597b6cda39acd1b0aaf5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Picto::PictoBoxXPRewardController::stopFlush </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a5a14b4f103def1711b485cc05f4c53bb" title="Stops a flush on the input channel. ">RewardController::stopFlush()</a> to lower the reward line voltage. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_picto_1_1_picto_box_x_p_reward_controller.html#a5dc6d881ee582daaf7eae64be6f8af1e" title="Implements RewardController::startFlush() to raise the reward line voltage. ">startFlush()</a> </dd></dl>

<p>Implements <a class="el" href="class_picto_1_1_reward_controller.html#a5a14b4f103def1711b485cc05f4c53bb">Picto::RewardController</a>.</p>

<p>Definition at line <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html#l00299">299</a> of file <a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/director/iodevices/<a class="el" href="_picto_box_x_p_reward_controller_8h_source.html">PictoBoxXPRewardController.h</a></li>
<li>source/director/iodevices/<a class="el" href="_picto_box_x_p_reward_controller_8cpp_source.html">PictoBoxXPRewardController.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
