<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> object managing the actual incoming connections and <a class="el" href="class_server_thread.html" title="A thread used to handle TCP connections. ">ServerThread</a> generation for the PictoServer.  
 <a href="class_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="server_8h_source.html">server.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Server:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_server.png" usemap="#Server_map" alt=""/>
  <map id="Server_map" name="Server_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a48f04a181844fc1610e16bd4b9e5c190"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_server.html#a48f04a181844fc1610e16bd4b9e5c190">Server</a> (quint16 port, QSharedPointer&lt; <a class="el" href="struct_server_protocols.html">ServerProtocols</a> &gt; _protocols, QObject *parent=0)</td></tr>
<tr class="memdesc:a48f04a181844fc1610e16bd4b9e5c190"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> object on the input port that uses the Protocol objects in the input <a class="el" href="struct_server_protocols.html" title="A simple container object used to store all fo the Protocol objects used by the Server. ">ServerProtocols</a> object to handle incoming messages.  <a href="#a48f04a181844fc1610e16bd4b9e5c190">More...</a><br /></td></tr>
<tr class="separator:a48f04a181844fc1610e16bd4b9e5c190"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a4032f7682e6ba46bbe2cbf7e1c85173e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4032f7682e6ba46bbe2cbf7e1c85173e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_server.html#a4032f7682e6ba46bbe2cbf7e1c85173e">processPendingDatagrams</a> ()</td></tr>
<tr class="memdesc:a4032f7682e6ba46bbe2cbf7e1c85173e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when new datagrams come in over the UDP socket. Checks if the datagram is a DISCOVER command. If it is, an ANNOUNCE response is sent with this <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>'s IP Address and Port. <br /></td></tr>
<tr class="separator:a4032f7682e6ba46bbe2cbf7e1c85173e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606fdb024c34424a87ac5169e37d985e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a606fdb024c34424a87ac5169e37d985e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_server.html#a606fdb024c34424a87ac5169e37d985e">endThread</a> ()</td></tr>
<tr class="memdesc:a606fdb024c34424a87ac5169e37d985e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a server thread ends. Marks it to be deleted. <br /></td></tr>
<tr class="separator:a606fdb024c34424a87ac5169e37d985e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3952d37b7bc53a4377f411d9ccaa9d62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3952d37b7bc53a4377f411d9ccaa9d62"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_server.html#a3952d37b7bc53a4377f411d9ccaa9d62">incomingConnection</a> (qintptr socketDescriptor)</td></tr>
<tr class="memdesc:a3952d37b7bc53a4377f411d9ccaa9d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new connection comes in. Creates a <a class="el" href="class_server_thread.html" title="A thread used to handle TCP connections. ">ServerThread</a> to handle the incoming connection. <br /></td></tr>
<tr class="separator:a3952d37b7bc53a4377f411d9ccaa9d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5c4ea34aa4a9e44a2109fc5fbe68e510"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c4ea34aa4a9e44a2109fc5fbe68e510"></a>
QHostAddress&#160;</td><td class="memItemRight" valign="bottom"><b>serverAddress</b></td></tr>
<tr class="separator:a5c4ea34aa4a9e44a2109fc5fbe68e510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55dbcd75e24dc4f7be02729b81c4cf4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae55dbcd75e24dc4f7be02729b81c4cf4"></a>
quint16&#160;</td><td class="memItemRight" valign="bottom"><b>serverPort</b></td></tr>
<tr class="separator:ae55dbcd75e24dc4f7be02729b81c4cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5ff8ccc32bb2c1953159bfba32820e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f5ff8ccc32bb2c1953159bfba32820e"></a>
QUdpSocket *&#160;</td><td class="memItemRight" valign="bottom"><b>udpSocket</b></td></tr>
<tr class="separator:a5f5ff8ccc32bb2c1953159bfba32820e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e1b8de00b5704bb126a2528a82ca8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3e1b8de00b5704bb126a2528a82ca8a"></a>
QSharedPointer&lt; <a class="el" href="struct_server_protocols.html">ServerProtocols</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>protocols</b></td></tr>
<tr class="separator:ac3e1b8de00b5704bb126a2528a82ca8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a4ee143525a52967fd09d3a54e2b81c5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ee143525a52967fd09d3a54e2b81c5d"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>maxConnections</b> = 500</td></tr>
<tr class="separator:a4ee143525a52967fd09d3a54e2b81c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> object managing the actual incoming connections and <a class="el" href="class_server_thread.html" title="A thread used to handle TCP connections. ">ServerThread</a> generation for the PictoServer. </p>
<p>The server handles incoming and outgoing network connections. Luckily for us, QT already has a server class, so we just extended it. It should be noted that there are two types of connections that are being dealt with here. The first is a UDP broadcast. When a UDP broadcast is observed, the server object handles it directly. These are used only for components to DISCOVER the server IP Address and Port. They are handled by responding with an ANNOUNCE UDP message that contains that information. The other kind of connection is a TCP connection. When a TCP connection arrives, a new thread is spun up to handle incoming commands on that thread.</p>
<dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="server_8h_source.html#l00032">32</a> of file <a class="el" href="server_8h_source.html">server.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a48f04a181844fc1610e16bd4b9e5c190"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server </td>
          <td>(</td>
          <td class="paramtype">quint16&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="struct_server_protocols.html">ServerProtocols</a> &gt;&#160;</td>
          <td class="paramname"><em>_protocols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a> object on the input port that uses the Protocol objects in the input <a class="el" href="struct_server_protocols.html" title="A simple container object used to store all fo the Protocol objects used by the Server. ">ServerProtocols</a> object to handle incoming messages. </p>
<p>Among other initializations, a UDP socket is created to listen for Discover messages from Components looking for an active server. </p>

<p>Definition at line <a class="el" href="server_8cpp_source.html#l00019">19</a> of file <a class="el" href="server_8cpp_source.html">server.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/server/network/<a class="el" href="server_8h_source.html">server.h</a></li>
<li>source/server/network/<a class="el" href="server_8cpp_source.html">server.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
