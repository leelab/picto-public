<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: ConnectionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_connection_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ConnectionManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Sessions. The Components used with each Session, active or timed out, are tracked as well.  
 <a href="class_connection_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_connection_manager_8h_source.html">ConnectionManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ConnectionManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_connection_manager.png" usemap="#ConnectionManager_map" alt=""/>
  <map id="ConnectionManager_map" name="ConnectionManager_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab4d8f848dd065a478a6123f8d400c712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#ab4d8f848dd065a478a6123f8d400c712">updateComponent</a> (QUuid uuid, QHostAddress addr, QUuid sessionId, QString name, QString type, ComponentStatus::ComponentStatus status, QString details)</td></tr>
<tr class="memdesc:ab4d8f848dd065a478a6123f8d400c712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the list of connected Components with the input Component information.  <a href="#ab4d8f848dd065a478a6123f8d400c712">More...</a><br /></td></tr>
<tr class="separator:ab4d8f848dd065a478a6123f8d400c712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21f514f743abe71fe4d7aaa0c598ccc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab21f514f743abe71fe4d7aaa0c598ccc"></a>
ComponentStatus::ComponentStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#ab21f514f743abe71fe4d7aaa0c598ccc">getComponentStatus</a> (QUuid uuid)</td></tr>
<tr class="memdesc:ab21f514f743abe71fe4d7aaa0c598ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the component instance with the passed in Unique User ID. <br /></td></tr>
<tr class="separator:ab21f514f743abe71fe4d7aaa0c598ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b04c4bb99b3def7483695123317d34"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12b04c4bb99b3def7483695123317d34"></a>
ComponentStatus::ComponentStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a12b04c4bb99b3def7483695123317d34">getComponentStatus</a> (QString uuidStr)</td></tr>
<tr class="memdesc:a12b04c4bb99b3def7483695123317d34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the component instance with the passed in Unique User ID String. <br /></td></tr>
<tr class="separator:a12b04c4bb99b3def7483695123317d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6009f2afd5adfd7dc30611866bca1171"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6009f2afd5adfd7dc30611866bca1171"></a>
ComponentStatus::ComponentStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a6009f2afd5adfd7dc30611866bca1171">getComponentStatusBySession</a> (QUuid sessionId, QString componentType)</td></tr>
<tr class="memdesc:a6009f2afd5adfd7dc30611866bca1171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the component instance with the passed in componentType that is part of the session with the passed in sessionId. <br /></td></tr>
<tr class="separator:a6009f2afd5adfd7dc30611866bca1171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8622ab351976620118e4effc54522291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a8622ab351976620118e4effc54522291">setComponentStatus</a> (QUuid sessionId, QString componentType, ComponentStatus::ComponentStatus status)</td></tr>
<tr class="memdesc:a8622ab351976620118e4effc54522291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the component status for the component instance of the input type that is running in the session with the input session id.  <a href="#a8622ab351976620118e4effc54522291">More...</a><br /></td></tr>
<tr class="separator:a8622ab351976620118e4effc54522291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d82ba38c7e11e4a23bcd5749713e2f"><td class="memItemLeft" align="right" valign="top">QUuid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a05d82ba38c7e11e4a23bcd5749713e2f">GetComponentsSessionId</a> (QUuid componentId)</td></tr>
<tr class="memdesc:a05d82ba38c7e11e4a23bcd5749713e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sessionID associated with the input ComponentID.  <a href="#a05d82ba38c7e11e4a23bcd5749713e2f">More...</a><br /></td></tr>
<tr class="separator:a05d82ba38c7e11e4a23bcd5749713e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e60a314f4bce6953499ba2375fcd14"><td class="memItemLeft" align="right" valign="top">QUuid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a99e60a314f4bce6953499ba2375fcd14">GetComponentsSessionId</a> (QString componentId)</td></tr>
<tr class="memdesc:a99e60a314f4bce6953499ba2375fcd14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sessionID associated with the input ComponentID string.  <a href="#a99e60a314f4bce6953499ba2375fcd14">More...</a><br /></td></tr>
<tr class="separator:a99e60a314f4bce6953499ba2375fcd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d9b89543c27e9640f3544150a0f31b"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aa5d9b89543c27e9640f3544150a0f31b">getDirectorList</a> ()</td></tr>
<tr class="memdesc:aa5d9b89543c27e9640f3544150a0f31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of director instances as an xml fragment.  <a href="#aa5d9b89543c27e9640f3544150a0f31b">More...</a><br /></td></tr>
<tr class="separator:aa5d9b89543c27e9640f3544150a0f31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3eaf716a61bdfb93caaf68eb46cf14"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aad3eaf716a61bdfb93caaf68eb46cf14">getProxyList</a> ()</td></tr>
<tr class="memdesc:aad3eaf716a61bdfb93caaf68eb46cf14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of proxy instances as an xml fragment.  <a href="#aad3eaf716a61bdfb93caaf68eb46cf14">More...</a><br /></td></tr>
<tr class="separator:aad3eaf716a61bdfb93caaf68eb46cf14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e821de2a8b6578a121ba64e999b7e5"><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aa0e821de2a8b6578a121ba64e999b7e5">createSession</a> (QUuid directorID, QUuid proxyID, QString designName, QByteArray designXml, QByteArray DesignConfig, QUuid initialObserverId, QString password)</td></tr>
<tr class="memdesc:aa0e821de2a8b6578a121ba64e999b7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new session and returns a pointer to the <a class="el" href="class_session_info.html" title="Manages data for a single Session. Stores data needed for Session monitoring in RAM and Session data ...">SessionInfo</a> object.  <a href="#aa0e821de2a8b6578a121ba64e999b7e5">More...</a><br /></td></tr>
<tr class="separator:aa0e821de2a8b6578a121ba64e999b7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86811fb45f5dc933975acecf6bf7788a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86811fb45f5dc933975acecf6bf7788a"></a>
QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a86811fb45f5dc933975acecf6bf7788a">loadSession</a> (QString sessionId, QString filePath)</td></tr>
<tr class="memdesc:a86811fb45f5dc933975acecf6bf7788a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load's a previously timed out Session with the input sessionId from the file at filePath. If the file does not exist, the session is removed from the input <a class="el" href="class_server_config.html" title="ServerConfig handles the configuration of a PictoServer. ">ServerConfig</a> object. <br /></td></tr>
<tr class="separator:a86811fb45f5dc933975acecf6bf7788a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1c3942e20523922e9ef264bce83c77"><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aff1c3942e20523922e9ef264bce83c77">getSessionInfoByComponent</a> (QString componentID)</td></tr>
<tr class="memdesc:aff1c3942e20523922e9ef264bce83c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the session info for the session attached to the component with the input component ID string.  <a href="#aff1c3942e20523922e9ef264bce83c77">More...</a><br /></td></tr>
<tr class="separator:aff1c3942e20523922e9ef264bce83c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3248768ab6c18c6cceed2a024924dd1e"><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a3248768ab6c18c6cceed2a024924dd1e">getSessionInfoByComponent</a> (QUuid componentID)</td></tr>
<tr class="memdesc:a3248768ab6c18c6cceed2a024924dd1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the session info for the session attached to the component with the input component ID.  <a href="#a3248768ab6c18c6cceed2a024924dd1e">More...</a><br /></td></tr>
<tr class="separator:a3248768ab6c18c6cceed2a024924dd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6608548da05a185b1e7a4a3361974766"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6608548da05a185b1e7a4a3361974766"></a>
QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a6608548da05a185b1e7a4a3361974766">getSessionInfo</a> (QUuid uuid)</td></tr>
<tr class="memdesc:a6608548da05a185b1e7a4a3361974766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the session info for the open session with the passed in session id. If no such session is open, returns an empty pointer. <br /></td></tr>
<tr class="separator:a6608548da05a185b1e7a4a3361974766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6e5a39b29a164c12b72dfe33a767e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a6e5a39b29a164c12b72dfe33a767e9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a6a6e5a39b29a164c12b72dfe33a767e9">sessionIsValid</a> (QString sessionId)</td></tr>
<tr class="memdesc:a6a6e5a39b29a164c12b72dfe33a767e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a session with the input sessionId is open or previously timed out on this <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>. <br /></td></tr>
<tr class="separator:a6a6e5a39b29a164c12b72dfe33a767e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70ceceadb24b53fc7bf9c04526dcbf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#ad70ceceadb24b53fc7bf9c04526dcbf5">endSession</a> (QUuid sessionId)</td></tr>
<tr class="memdesc:ad70ceceadb24b53fc7bf9c04526dcbf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends a currently running session.  <a href="#ad70ceceadb24b53fc7bf9c04526dcbf5">More...</a><br /></td></tr>
<tr class="separator:ad70ceceadb24b53fc7bf9c04526dcbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7005e98b0721aa376e3ad37e96bd7f"><td class="memItemLeft" align="right" valign="top">QUuid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aab7005e98b0721aa376e3ad37e96bd7f">pendingSession</a> (QUuid componentID)</td></tr>
<tr class="separator:aab7005e98b0721aa376e3ad37e96bd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa4061f5b6a3cb842f3ecce80d776db0d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_connection_manager.html">ConnectionManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#aa4061f5b6a3cb842f3ecce80d776db0d">Instance</a> ()</td></tr>
<tr class="memdesc:aa4061f5b6a3cb842f3ecce80d776db0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="class_connection_manager.html" title="Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Se...">ConnectionManager</a> instance.  <a href="#aa4061f5b6a3cb842f3ecce80d776db0d">More...</a><br /></td></tr>
<tr class="separator:aa4061f5b6a3cb842f3ecce80d776db0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:ad2dcd7dee419120383c227e27769d0ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#ad2dcd7dee419120383c227e27769d0ac">checkForTimeouts</a> ()</td></tr>
<tr class="memdesc:ad2dcd7dee419120383c227e27769d0ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for timed out connections and flushes cached session data to disk.  <a href="#ad2dcd7dee419120383c227e27769d0ac">More...</a><br /></td></tr>
<tr class="separator:ad2dcd7dee419120383c227e27769d0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a68db2f9138942ef16d50ebd753188410"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a68db2f9138942ef16d50ebd753188410">ConnectionManager</a> ()</td></tr>
<tr class="memdesc:a68db2f9138942ef16d50ebd753188410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private constructor.  <a href="#a68db2f9138942ef16d50ebd753188410">More...</a><br /></td></tr>
<tr class="separator:a68db2f9138942ef16d50ebd753188410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5b01d3fd4cc2909cbee0ce164726e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d5b01d3fd4cc2909cbee0ce164726e0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ConnectionManager</b> (<a class="el" href="class_connection_manager.html">ConnectionManager</a> const &amp;)</td></tr>
<tr class="separator:a1d5b01d3fd4cc2909cbee0ce164726e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e96a5bee50169252a6590909e9be84e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_connection_manager.html">ConnectionManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a7e96a5bee50169252a6590909e9be84e">operator=</a> (<a class="el" href="class_connection_manager.html">ConnectionManager</a> const &amp;)</td></tr>
<tr class="memdesc:a7e96a5bee50169252a6590909e9be84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">empty private copy constructor  <a href="#a7e96a5bee50169252a6590909e9be84e">More...</a><br /></td></tr>
<tr class="separator:a7e96a5bee50169252a6590909e9be84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ced72d69ba7869ccd4cc6cdb7192139"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a4ced72d69ba7869ccd4cc6cdb7192139">checkForDroppedSessionTimeouts</a> ()</td></tr>
<tr class="memdesc:a4ced72d69ba7869ccd4cc6cdb7192139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for sessions that were dropped and timed out a long time ago and removes them from the <a class="el" href="class_server_config.html" title="ServerConfig handles the configuration of a PictoServer. ">ServerConfig</a> object.  <a href="#a4ced72d69ba7869ccd4cc6cdb7192139">More...</a><br /></td></tr>
<tr class="separator:a4ced72d69ba7869ccd4cc6cdb7192139"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a020e94af6ebbacc025ad483f425e80d7"><td class="memItemLeft" align="right" valign="top">QMutex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a020e94af6ebbacc025ad483f425e80d7">mutex_</a></td></tr>
<tr class="separator:a020e94af6ebbacc025ad483f425e80d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747a0b9f030eec9390a4e30efa47058e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a747a0b9f030eec9390a4e30efa47058e"></a>
QMap&lt; QUuid, QSharedPointer&lt; <a class="el" href="class_component_info.html">ComponentInfo</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a747a0b9f030eec9390a4e30efa47058e">components_</a></td></tr>
<tr class="memdesc:a747a0b9f030eec9390a4e30efa47058e"><td class="mdescLeft">&#160;</td><td class="mdescRight">QUuid = component's unique user Id delivered in its messages. <br /></td></tr>
<tr class="separator:a747a0b9f030eec9390a4e30efa47058e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c0aef7bb504889dfa32b595111fc4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18c0aef7bb504889dfa32b595111fc4a"></a>
QMap&lt; QUuid, QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>openSessions_</b></td></tr>
<tr class="separator:a18c0aef7bb504889dfa32b595111fc4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c08218aa6054d303a9b9132a07c3b9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c08218aa6054d303a9b9132a07c3b9b"></a>
QMap&lt; QUuid, QUuid &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#a1c08218aa6054d303a9b9132a07c3b9b">pendingSessions_</a></td></tr>
<tr class="memdesc:a1c08218aa6054d303a9b9132a07c3b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">First QUuid is the directors ID, second is the Session ID. <br /></td></tr>
<tr class="separator:a1c08218aa6054d303a9b9132a07c3b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507f2086a8b21126d65d9de33d3b4aee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a507f2086a8b21126d65d9de33d3b4aee"></a>
QTimer *&#160;</td><td class="memItemRight" valign="bottom"><b>timeoutTimer_</b></td></tr>
<tr class="separator:a507f2086a8b21126d65d9de33d3b4aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ace292afdeb91489451efcf3405c839c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace292afdeb91489451efcf3405c839c9"></a>
static <a class="el" href="class_connection_manager.html">ConnectionManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_connection_manager.html#ace292afdeb91489451efcf3405c839c9">conMan_</a> = 0</td></tr>
<tr class="memdesc:ace292afdeb91489451efcf3405c839c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The single allowed instance of a <a class="el" href="class_connection_manager.html" title="Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Se...">ConnectionManager</a> object. <br /></td></tr>
<tr class="separator:ace292afdeb91489451efcf3405c839c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Sessions. The Components used with each Session, active or timed out, are tracked as well. </p>
<p>The server talks to the Picto <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a>, Proxy and Workstation applications over the network. These applications are related in that they may or may not be involved with the same Session. The Connection Manager keeps track of all of these components and categorize them by their activity, the session to which they are attached and whether it is active. It also provides functions for updating information about specific components.</p>
<p>The <a class="el" href="class_connection_manager.html" title="Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Se...">ConnectionManager</a> is a singleton object that is accessed by multiple threads. The actual object will be held by the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>, but we can grab an instance of it anywhere we need it (such as in the command handlers). </p><dl class="section author"><dt>Author</dt><dd>Trevor Stavropoulos, Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2015 </dd></dl>

<p>Definition at line <a class="el" href="_connection_manager_8h_source.html#l00030">30</a> of file <a class="el" href="_connection_manager_8h_source.html">ConnectionManager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a68db2f9138942ef16d50ebd753188410"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionManager::ConnectionManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private constructor. </p>
<p>Starts a timeout timer that is used to flush cached data to disk and check to see if any components have stopped talking to the server. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00024">24</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4ced72d69ba7869ccd4cc6cdb7192139"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionManager::checkForDroppedSessionTimeouts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks for sessions that were dropped and timed out a long time ago and removes them from the <a class="el" href="class_server_config.html" title="ServerConfig handles the configuration of a PictoServer. ">ServerConfig</a> object. </p>
<p>The maximum time that a dropped session sticks around before being removed is set in DROPPED_SESSION_TIMEOUT_DAYS. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00562">562</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad2dcd7dee419120383c227e27769d0ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionManager::checkForTimeouts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks for timed out connections and flushes cached session data to disk. </p>
<p>The timeout timer calls this function on a fixed interval. Whenever it is called, first check for session timeouts. This is done by calling the clearActivity function which clears the activity bool and returns its value. If there has been no activity since the last time we checked, check if any components are still active in this session (ie. Still providing data). If they are, the session instance should be removed from our list and kept in the opensessions list in case we just lost a connection with one of the components and it is going to try to reconnect. If all components are no longer active, we should end the session.</p>
<p>If there has been activity on the session, we should set all of that sessions components active, since we don't want any of them timing out if there are any that haven't timed out. This is also where we initiate a flush of cached data to disk. The actual <a class="el" href="class_session_info.html#af4106254bbe6282aae6e79e3b92ece2b" title="Dumps the RAM cached data into the file based Session database. ">SessionInfo::flushCache()</a> is performed in a separate thread though so as to not block this function. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00075">75</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa0e821de2a8b6578a121ba64e999b7e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt; ConnectionManager::createSession </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>directorID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>proxyID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>designName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>designXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>DesignConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>initialObserverId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new session and returns a pointer to the <a class="el" href="class_session_info.html" title="Manages data for a single Session. Stores data needed for Session monitoring in RAM and Session data ...">SessionInfo</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directorID</td><td>The Uuid of the <a class="el" href="class_director.html" title="Defines an object that runs a Picto Experiment for a test subject, transmits experimental data to the...">Director</a> to be used in the session. </td></tr>
    <tr><td class="paramname">proxyID</td><td>The Uuid of the Proxy to be used in the session. </td></tr>
    <tr><td class="paramname">designName</td><td>The name of the design that will be used in the Session. </td></tr>
    <tr><td class="paramname">designXml</td><td>The contents of the Design file that will be used in the Session. </td></tr>
    <tr><td class="paramname">DesignConfig</td><td>The serialized DesignConfig object that manages the Design used in this session. This contains information for identifying Assets from the AssetIds and is useful for building Element/Transition/etc lookup tables in the session file. </td></tr>
    <tr><td class="paramname">initialObserverId</td><td>The Uuid of the workstation that is starting this Session. It will be considered an Authorized observer (ie. It is authorized to make state changes to the Session). </td></tr>
    <tr><td class="paramname">password</td><td>The password that gives workstations authorization to change the Session state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>When DEVELOPMENTBUILD is not defined, password may not be empty. </dd></dl>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00494">494</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad70ceceadb24b53fc7bf9c04526dcbf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ConnectionManager::endSession </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>sessionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends a currently running session. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_session_info.html#ae647cb4d792607c866654e8c908014e1" title="Ends the session. ">SessionInfo::endSession()</a> </dd></dl>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00614">614</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a05d82ba38c7e11e4a23bcd5749713e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QUuid ConnectionManager::GetComponentsSessionId </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>componentId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the sessionID associated with the input ComponentID. </p>
<p>Unlike <a class="el" href="class_connection_manager.html#aff1c3942e20523922e9ef264bce83c77" title="Returns the session info for the session attached to the component with the input component ID string...">getSessionInfoByComponent()</a>, this function looks up the sessionID That the component thinks its associated with rather than looking through all sessions to see if any session is associated with the input component. There is a distinction because in the case of sessions that were run before and have timed out, there may be more than one session associated with a given component, but the component itself will only ever report that it is associated with the session that it is running. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00380">380</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a99e60a314f4bce6953499ba2375fcd14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QUuid ConnectionManager::GetComponentsSessionId </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>componentId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the sessionID associated with the input ComponentID string. </p>
<p>Unlike <a class="el" href="class_connection_manager.html#aff1c3942e20523922e9ef264bce83c77" title="Returns the session info for the session attached to the component with the input component ID string...">getSessionInfoByComponent()</a>, this function looks up the sessionID That the component thinks its associated with rather than looking through all sessions to see if any session is associated with the input component. There is a distinction because in the case of sessions that were run before and have timed out, there may be more than one session associated with a given component, but the component itself will only ever report that it is associated with the session that it is running. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00401">401</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa5d9b89543c27e9640f3544150a0f31b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString ConnectionManager::getDirectorList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of director instances as an xml fragment. </p>
<p>The XML fragment will look like this: </p><div class="fragment"><div class="line">&lt;DirectorInstances&gt;</div>
<div class="line">    &lt;<a class="code" href="class_director.html">Director</a>&gt;</div>
<div class="line">        &lt;Address&gt;192.168.3.51&lt;/Address&gt;</div>
<div class="line">        &lt;Id&gt;{550e8400-e29b-41d4-a716-446655440000}&lt;/Id&gt;</div>
<div class="line">        &lt;Name&gt;PictoDirector Room 408&lt;/Name&gt;</div>
<div class="line">        &lt;Status&gt;Idle&lt;/Status&gt;</div>
<div class="line">        &lt;Session-ID&gt;{12345600-e29b-41d4-a716-446655440000}&lt;/Session-ID&gt;</div>
<div class="line">        &lt;Details&gt;&lt;/Details&gt;</div>
<div class="line">    &lt;/<a class="code" href="class_director.html">Director</a>&gt;</div>
<div class="line">    &lt;<a class="code" href="class_director.html">Director</a>&gt;</div>
<div class="line">        &lt;Address&gt;192.168.3.164&lt;/Address&gt;</div>
<div class="line">        &lt;Id&gt;{950e8400-e29b-41d4-a716-446655440000}&lt;/Id&gt;</div>
<div class="line">        &lt;Name&gt;PictoDirector Room 407&lt;/Name&gt;</div>
<div class="line">        &lt;Status&gt;Running&lt;/Status&gt;</div>
<div class="line">        &lt;Session-ID&gt;{65432100-e29b-41d4-a716-446655440000}&lt;/Session-ID&gt;</div>
<div class="line">        &lt;Details&gt;&lt;/Details&gt;</div>
<div class="line">    &lt;/<a class="code" href="class_director.html">Director</a>&gt;</div>
<div class="line">&lt;/DirectorInstances&gt;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00272">272</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aad3eaf716a61bdfb93caaf68eb46cf14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString ConnectionManager::getProxyList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of proxy instances as an xml fragment. </p>
<p>The XML fragment will look like this: </p><div class="fragment"><div class="line">&lt;ProxyInstances&gt;</div>
<div class="line">    &lt;Proxy&gt;</div>
<div class="line">        &lt;Address&gt;192.168.3.51&lt;/Address&gt;</div>
<div class="line">        &lt;Id&gt;{550e8400-e29b-41d4-a716-446655440000}&lt;/Id&gt;</div>
<div class="line">        &lt;Name&gt;Proxy Room 408&lt;/Name&gt;</div>
<div class="line">        &lt;Status&gt;Idle&lt;/Status&gt;</div>
<div class="line">    &lt;/Proxy&gt;</div>
<div class="line">    &lt;Proxy&gt;</div>
<div class="line">        &lt;Address&gt;192.168.3.164&lt;/Address&gt;</div>
<div class="line">         &lt;Id&gt;{5650e8400-e29b-41d4-a716-446655340000}&lt;/Id&gt;</div>
<div class="line">        &lt;Name&gt;Proxy Room 407&lt;/Name&gt;</div>
<div class="line">        &lt;Status&gt;Running&lt;/Status&gt;</div>
<div class="line">    &lt;/Proxy&gt;</div>
<div class="line">&lt;/ProxyInstances&gt;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00213">213</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aff1c3942e20523922e9ef264bce83c77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt; ConnectionManager::getSessionInfoByComponent </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>componentID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the session info for the session attached to the component with the input component ID string. </p>
<p>This looks through all open sessions for the one that includes the component with the input componentID. If an open session is not found, old timed out sessions are checked as well. If more than one timed out session was associated with the component, a randomly selected one will be chosen. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00437">437</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3248768ab6c18c6cceed2a024924dd1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="class_session_info.html">SessionInfo</a> &gt; ConnectionManager::getSessionInfoByComponent </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>componentID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the session info for the session attached to the component with the input component ID. </p>
<p>This looks through all open sessions for the one that includes the component with the input componentID. If an open session is not found, old timed out sessions are checked as well. If more than one timed out session was associated with the component, a randomly selected one will be chosen. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00411">411</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa4061f5b6a3cb842f3ecce80d776db0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_connection_manager.html">ConnectionManager</a> * ConnectionManager::Instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="class_connection_manager.html" title="Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Se...">ConnectionManager</a> instance. </p>
<p>Since this is a singleton, there is only one <a class="el" href="class_connection_manager.html" title="Keeps track of all active Components (Director/Proxy) as well as all active and recently timed out Se...">ConnectionManager</a> instance. This function creates that instance if needed, and then returns it. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00042">42</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7e96a5bee50169252a6590909e9be84e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_connection_manager.html">ConnectionManager</a>&amp; ConnectionManager::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_connection_manager.html">ConnectionManager</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>empty private copy constructor </p>
<p>empty private assignment operator </p>

<p>Definition at line <a class="el" href="_connection_manager_8h_source.html#l00069">69</a> of file <a class="el" href="_connection_manager_8h_source.html">ConnectionManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="aab7005e98b0721aa376e3ad37e96bd7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QUuid ConnectionManager::pendingSession </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>componentID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>/Brief Returns the session UUID if the component with the input componentId needs to join a new session</p>
<p>Since all communication with proxy and director component instances is indirect (we have to wait for an incoming COMPONENTUPDATE command), there is a delay between starting session and telling the component what it's session ID is. This function is used by the COMPONENTUPDATE command handler to figure out if the component instance needs to start a new session. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00467">467</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8622ab351976620118e4effc54522291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionManager::setComponentStatus </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>sessionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>componentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ComponentStatus::ComponentStatus&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the component status for the component instance of the input type that is running in the session with the input session id. </p>
<p>This function also calls setActivity() on the component to indicate that the connection to that component is active. </p>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00355">355</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab4d8f848dd065a478a6123f8d400c712"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionManager::updateComponent </td>
          <td>(</td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QHostAddress&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QUuid&#160;</td>
          <td class="paramname"><em>sessionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ComponentStatus::ComponentStatus&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the list of connected Components with the input Component information. </p>
<p>Everytime the COMPONENTUPDATE command is received by the server, this function gets called. The function checks to see if the component instance referenced is in our list, and if not adds it. If the instance already exists, the function makes any needed changes. This function also calls setActivity() for the component to indicate that communication with that component is active. </p><dl class="section note"><dt>Note</dt><dd>The component's Uuid is being used as a primary key here. </dd></dl>

<p>Definition at line <a class="el" href="_connection_manager_8cpp_source.html#l00143">143</a> of file <a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a020e94af6ebbacc025ad483f425e80d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex* ConnectionManager::mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mutex - We are using a single mutex to protect access to everything (I tried using multiple mutexes earlier and managed to deadlock the server, so even though this is slightly less efficient, it's a lot cleaner.) </p>

<p>Definition at line <a class="el" href="_connection_manager_8h_source.html#l00079">79</a> of file <a class="el" href="_connection_manager_8h_source.html">ConnectionManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/server/connections/<a class="el" href="_connection_manager_8h_source.html">ConnectionManager.h</a></li>
<li>source/server/connections/<a class="el" href="_connection_manager_8cpp_source.html">ConnectionManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
