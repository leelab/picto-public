<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Picto: GetFileCommandHandler Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="pictodoc.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Picto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="struct_get_file_command_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GetFileCommandHandler Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the GETFILE commands sent by all of the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>'s clients.  
 <a href="struct_get_file_command_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_get_file_command_handler_8h_source.html">GetFileCommandHandler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GetFileCommandHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="struct_get_file_command_handler.png" usemap="#GetFileCommandHandler_map" alt=""/>
  <map id="GetFileCommandHandler_map" name="GetFileCommandHandler_map">
<area href="struct_picto_1_1_protocol_command_handler.html" title="A base class from which all command handlers are derived. These command handlers define responses to ..." alt="Picto::ProtocolCommandHandler" shape="rect" coords="0,56,193,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a29c87a6457e5980e31ed6ec1a06ef726"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_get_file_command_handler.html#a29c87a6457e5980e31ed6ec1a06ef726">GetFileCommandHandler</a> ()</td></tr>
<tr class="memdesc:a29c87a6457e5980e31ed6ec1a06ef726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="struct_get_file_command_handler.html" title="Handles the GETFILE commands sent by all of the Server&#39;s clients. ">GetFileCommandHandler</a>.  <a href="#a29c87a6457e5980e31ed6ec1a06ef726">More...</a><br /></td></tr>
<tr class="separator:a29c87a6457e5980e31ed6ec1a06ef726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847ae1af28c6a51c8a4ba8b0a85f4077"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a847ae1af28c6a51c8a4ba8b0a85f4077"></a>
QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_get_file_command_handler.html#a847ae1af28c6a51c8a4ba8b0a85f4077">method</a> ()</td></tr>
<tr class="memdesc:a847ae1af28c6a51c8a4ba8b0a85f4077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the commeand that this ProtocolCommandHandler handles. <br /></td></tr>
<tr class="separator:a847ae1af28c6a51c8a4ba8b0a85f4077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b0e0ab89c22075878ed1fa39ac806d"><td class="memItemLeft" align="right" valign="top">QSharedPointer&lt; <a class="el" href="struct_picto_1_1_protocol_response.html">Picto::ProtocolResponse</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_get_file_command_handler.html#a30b0e0ab89c22075878ed1fa39ac806d">processCommand</a> (QSharedPointer&lt; <a class="el" href="struct_picto_1_1_protocol_command.html">Picto::ProtocolCommand</a> &gt;)</td></tr>
<tr class="memdesc:a30b0e0ab89c22075878ed1fa39ac806d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the input ProtocolCommand to check its syntax, responds with a ProtocolResponse including the compressed file with the index that was sent as the command target in the Response content area.  <a href="#a30b0e0ab89c22075878ed1fa39ac806d">More...</a><br /></td></tr>
<tr class="separator:a30b0e0ab89c22075878ed1fa39ac806d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the GETFILE commands sent by all of the <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>'s clients. </p>
<p>The GETFILE command handler works closely with the <a class="el" href="class_update_downloader.html" title="A singleton class used to check for and automatically update to a newer version of the Picto Applicat...">UpdateDownloader</a> class. This handler stores a list of byte arrays each of which contains a compressed version of one of the files in or underneath the Picto <a class="el" href="class_server.html" title="The Server object managing the actual incoming connections and ServerThread generation for the PictoS...">Server</a>'s run directory. Together, these files constitute a complete Picto installation, so a client can completely update its installation to the version on the server by downloading all of these files, decompressing them, and running the appropriate executable (which is what <a class="el" href="class_update_downloader.html" title="A singleton class used to check for and automatically update to a newer version of the Picto Applicat...">UpdateDownloader</a> does).</p>
<p>GETFILE commands include an index in their target area that can be anywhere from zero to the total number of compressed files available. The compressed file who's index is sent is returned in the ProtocolResponse when a GETFILE command is sent. Other fields are included in the response like "TotalFiles" which tells the client how many files it needs to have a complete updated Picto installation. </p><dl class="section author"><dt>Author</dt><dd>Joey Schnurr, Mark Hammond, Matt Gay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2009-2013 </dd></dl>

<p>Definition at line <a class="el" href="_get_file_command_handler_8h_source.html#l00027">27</a> of file <a class="el" href="_get_file_command_handler_8h_source.html">GetFileCommandHandler.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a29c87a6457e5980e31ed6ec1a06ef726"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GetFileCommandHandler::GetFileCommandHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="struct_get_file_command_handler.html" title="Handles the GETFILE commands sent by all of the Server&#39;s clients. ">GetFileCommandHandler</a>. </p>
<p>When the <a class="el" href="struct_get_file_command_handler.html" title="Handles the GETFILE commands sent by all of the Server&#39;s clients. ">GetFileCommandHandler</a> is constructed, all files in the run directory are compressed and added to a list. When GETFILE commands come in, these files can be downloaded. </p>

<p>Definition at line <a class="el" href="_get_file_command_handler_8cpp_source.html#l00026">26</a> of file <a class="el" href="_get_file_command_handler_8cpp_source.html">GetFileCommandHandler.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a30b0e0ab89c22075878ed1fa39ac806d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSharedPointer&lt; <a class="el" href="struct_picto_1_1_protocol_response.html">Picto::ProtocolResponse</a> &gt; GetFileCommandHandler::processCommand </td>
          <td>(</td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="struct_picto_1_1_protocol_command.html">Picto::ProtocolCommand</a> &gt;&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the input ProtocolCommand to check its syntax, responds with a ProtocolResponse including the compressed file with the index that was sent as the command target in the Response content area. </p>
<p>The filename, its directory, and the total number of files available (totalFiles) are also sent as fields in the response. </p>

<p>Implements <a class="el" href="struct_picto_1_1_protocol_command_handler.html#aeeaa16fe40f10fd55996d74e16e29cad">Picto::ProtocolCommandHandler</a>.</p>

<p>Definition at line <a class="el" href="_get_file_command_handler_8cpp_source.html#l00083">83</a> of file <a class="el" href="_get_file_command_handler_8cpp_source.html">GetFileCommandHandler.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>source/server/protocol/<a class="el" href="_get_file_command_handler_8h_source.html">GetFileCommandHandler.h</a></li>
<li>source/server/protocol/<a class="el" href="_get_file_command_handler_8cpp_source.html">GetFileCommandHandler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
