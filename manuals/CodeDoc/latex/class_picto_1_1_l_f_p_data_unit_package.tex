\hypertarget{class_picto_1_1_l_f_p_data_unit_package}{\section{Picto\-:\-:L\-F\-P\-Data\-Unit\-Package Class Reference}
\label{class_picto_1_1_l_f_p_data_unit_package}\index{Picto\-::\-L\-F\-P\-Data\-Unit\-Package@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}}
}


Stores local field data for transmission over a network.  




{\ttfamily \#include $<$L\-F\-P\-Data\-Unit\-Package.\-h$>$}

Inheritance diagram for Picto\-:\-:L\-F\-P\-Data\-Unit\-Package\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_picto_1_1_l_f_p_data_unit_package}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{class_picto_1_1_l_f_p_data_unit_package_aad789aa516839dbf5f776a99f56a2ffc}{serialize\-As\-Xml} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Writer $>$ xml\-Stream\-Writer)
\begin{DoxyCompactList}\small\item\em Turns the \hyperlink{class_picto_1_1_l_f_p_data_unit_package}{L\-F\-P\-Data\-Unit\-Package} into an X\-M\-L fragment. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_picto_1_1_l_f_p_data_unit_package_afd1d375a397894919fa7d60a60109628}{deserialize\-From\-Xml} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)
\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a516ee42b3d1326b2cedbad677172e0c6}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a516ee42b3d1326b2cedbad677172e0c6}{set\-Channel} (int channel)}\label{class_picto_1_1_l_f_p_data_unit_package_a516ee42b3d1326b2cedbad677172e0c6}

\begin{DoxyCompactList}\small\item\em Sets the lfp channel whose data is stored in this object. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_aa6e11f4c9060c9472dc55f1615be5ed6}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_aa6e11f4c9060c9472dc55f1615be5ed6}{set\-Correlation} (double correlation)}\label{class_picto_1_1_l_f_p_data_unit_package_aa6e11f4c9060c9472dc55f1615be5ed6}

\begin{DoxyCompactList}\small\item\em Sets the least squares correlation coefficient describing the quality of the neural to behavioral alignment estimate. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_af5678131801d5a57a2a39ea62dc14832}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_af5678131801d5a57a2a39ea62dc14832}{set\-Timestamp} (double timestamp)}\label{class_picto_1_1_l_f_p_data_unit_package_af5678131801d5a57a2a39ea62dc14832}

\begin{DoxyCompactList}\small\item\em Sets the time at which the first L\-F\-P sample stored here occured (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a055925a90bbe8b5698db245a5a7892a3}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a055925a90bbe8b5698db245a5a7892a3}{set\-Fitted\-Timestamp} (double timestamp)}\label{class_picto_1_1_l_f_p_data_unit_package_a055925a90bbe8b5698db245a5a7892a3}

\begin{DoxyCompactList}\small\item\em Sets the time at which the first L\-F\-P sample stored here occured as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a0ed2a9a22b25c0750020c42694ea6ff1}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a0ed2a9a22b25c0750020c42694ea6ff1}{set\-Resolution} (double resolution)}\label{class_picto_1_1_l_f_p_data_unit_package_a0ed2a9a22b25c0750020c42694ea6ff1}

\begin{DoxyCompactList}\small\item\em Sets the time per L\-F\-P sample in the neural timestream (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a08ae1396ba9dc8ff7dd0206b6c3d82a6}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a08ae1396ba9dc8ff7dd0206b6c3d82a6}{set\-Fitted\-Resolution} (double fittedresolution)}\label{class_picto_1_1_l_f_p_data_unit_package_a08ae1396ba9dc8ff7dd0206b6c3d82a6}

\begin{DoxyCompactList}\small\item\em Sets the time per L\-F\-P sample as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a6806b7e274bd7107566abeb5e9fc44a4}{append\-Data} (const float $\ast$ad\-Potential\-Readings, int num\-Vals)
\begin{DoxyCompactList}\small\item\em Adds the input list of Local Field Potential readings to this package. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a89fbb9cfeae82635c46204b74a1b1cf1}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a89fbb9cfeae82635c46204b74a1b1cf1}{append\-Data} (float ad\-Potential\-Reading)}\label{class_picto_1_1_l_f_p_data_unit_package_a89fbb9cfeae82635c46204b74a1b1cf1}

\begin{DoxyCompactList}\small\item\em Appends the input value to the list of lfp readings. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a682bf39fd107ae51faaa9584374295b6}{int \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a682bf39fd107ae51faaa9584374295b6}{num\-Samples} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a682bf39fd107ae51faaa9584374295b6}

\begin{DoxyCompactList}\small\item\em Returns the number of L\-F\-P samples stored in this object. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a337bc256a937917ea0bfe4c1f92356b3}{double \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a337bc256a937917ea0bfe4c1f92356b3}{get\-Correlation} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a337bc256a937917ea0bfe4c1f92356b3}

\begin{DoxyCompactList}\small\item\em Returns the least squares correlation coefficient describing the quality of the neural to behavioral alignment estimate. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a6699462f35f5b23f5690db3a1b84f596}{Q\-String \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a6699462f35f5b23f5690db3a1b84f596}{get\-Timestamp} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a6699462f35f5b23f5690db3a1b84f596}

\begin{DoxyCompactList}\small\item\em Returns the time at which the first L\-F\-P sample stored here occured (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a0a011b52d549e94a1c4222f5eba0682d}{Q\-String \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a0a011b52d549e94a1c4222f5eba0682d}{get\-Fitted\-Timestamp} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a0a011b52d549e94a1c4222f5eba0682d}

\begin{DoxyCompactList}\small\item\em Returns the time at which the first L\-F\-P sample stored here occured as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_ab4ee1884672291f7f4cfd76a2925a9e8}{double \hyperlink{class_picto_1_1_l_f_p_data_unit_package_ab4ee1884672291f7f4cfd76a2925a9e8}{get\-Resolution} ()}\label{class_picto_1_1_l_f_p_data_unit_package_ab4ee1884672291f7f4cfd76a2925a9e8}

\begin{DoxyCompactList}\small\item\em Returns the time per L\-F\-P sample in the neural timestream (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a6fa5ad6ff8889c6e51d0dfd458db72da}{double \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a6fa5ad6ff8889c6e51d0dfd458db72da}{get\-Fitted\-Resolution} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a6fa5ad6ff8889c6e51d0dfd458db72da}

\begin{DoxyCompactList}\small\item\em Returns the time per L\-F\-P sample as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_aa0ea684e758811dc76d26101d46262c8}{Q\-String \hyperlink{class_picto_1_1_l_f_p_data_unit_package_aa0ea684e758811dc76d26101d46262c8}{get\-Potentials} ()}\label{class_picto_1_1_l_f_p_data_unit_package_aa0ea684e758811dc76d26101d46262c8}

\begin{DoxyCompactList}\small\item\em Returns the list of Local Field Potentials as a single string with values separated by spaces. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a65b72eec9a8d87fdf401e6955170d17c}{Q\-Byte\-Array \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a65b72eec9a8d87fdf401e6955170d17c}{get\-Potentials\-As\-Byte\-Array} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a65b72eec9a8d87fdf401e6955170d17c}

\begin{DoxyCompactList}\small\item\em Returns the list of L\-F\-P potential readings as a byte array. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a5e91b0d3d6b8cf42c456cb5e88a489a7}{Q\-Linked\-List$<$ Q\-Point\-F $>$ \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a5e91b0d3d6b8cf42c456cb5e88a489a7}{get\-Aligned\-Data\-As\-Linked\-List} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a5e91b0d3d6b8cf42c456cb5e88a489a7}

\begin{DoxyCompactList}\small\item\em Returns the list of L\-F\-P potential readings as a linked list of Q\-Point\-F objects where the 'x\-Pos' is the timestamp (aligned with the behavioral time stream) and 'y\-Pos' is the potential value. This is useful for plotting lfp data. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a4ab7fffb2ec8a5916eb0e59c14b1361b}{void \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a4ab7fffb2ec8a5916eb0e59c14b1361b}{set\-Potentials\-From\-Byte\-Array} (Q\-Byte\-Array potentials)}\label{class_picto_1_1_l_f_p_data_unit_package_a4ab7fffb2ec8a5916eb0e59c14b1361b}

\begin{DoxyCompactList}\small\item\em Sets the list of L\-F\-P potential readings from a byte array (as returned from \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a65b72eec9a8d87fdf401e6955170d17c}{get\-Potentials\-As\-Byte\-Array()}). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a464bcb416a91366cd37a29a4b81f40ff}{int \hyperlink{class_picto_1_1_l_f_p_data_unit_package_a464bcb416a91366cd37a29a4b81f40ff}{get\-Channel} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a464bcb416a91366cd37a29a4b81f40ff}

\begin{DoxyCompactList}\small\item\em Returns the lfp channel whose data is stored in this object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a202f8699cac37f072e8616f67d81db4b}{virtual void {\bfseries post\-Deserialize} ()}\label{class_picto_1_1_l_f_p_data_unit_package_a202f8699cac37f072e8616f67d81db4b}

\item 
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a14b5e30d69198608af2170385b4b6f39}{virtual bool {\bfseries validate\-Object} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)}\label{class_picto_1_1_l_f_p_data_unit_package_a14b5e30d69198608af2170385b4b6f39}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Stores local field data for transmission over a network. 

Each \hyperlink{class_picto_1_1_l_f_p_data_unit_package}{L\-F\-P\-Data\-Unit\-Package} holds a list of L\-F\-P data that was read starting at a stored timestamp with a stored sample period for a particular stored channel. The class also includes functions for setting \char`\"{}aligned\char`\"{} timestamps and sample periods so that the function can include lfp timing that is aligned to the behavioral timestream. The correlation coefficient for the least squares fitting of the timestamp alignment can be stored here as well. \begin{DoxyNote}{Note}
Originally, we wanted to right L\-F\-P data on a row by row basis with one row for each timestamp and columns for each channel, but with the current Sqlite database this simply takes way too long. We ran a benchmark test and found that each character stored in a new row takes an additional $\sim$20us, whereas each character stored in the same row takes an additional $\sim$20ns. Big difference. For this reason, we are storing lfp data in $\sim$500ms chunks indexed by timestamp and channel. 
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 46 of file L\-F\-P\-Data\-Unit\-Package.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_l_f_p_data_unit_package_a6806b7e274bd7107566abeb5e9fc44a4}{\index{Picto\-::\-L\-F\-P\-Data\-Unit\-Package@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}!append\-Data@{append\-Data}}
\index{append\-Data@{append\-Data}!Picto::LFPDataUnitPackage@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}}
\subsubsection[{append\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void L\-F\-P\-Data\-Unit\-Package\-::append\-Data (
\begin{DoxyParamCaption}
\item[{const float $\ast$}]{ad\-Potential\-Readings, }
\item[{int}]{num\-Vals}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_l_f_p_data_unit_package_a6806b7e274bd7107566abeb5e9fc44a4}


Adds the input list of Local Field Potential readings to this package. 


\begin{DoxyParams}{Parameters}
{\em ad\-Potential\-Readings} & An array of potential readings \\
\hline
{\em num\-Vals} & the size of the ad\-Potential\-Readings array \\
\hline
\end{DoxyParams}


Definition at line 152 of file L\-F\-P\-Data\-Unit\-Package.\-cpp.

\hypertarget{class_picto_1_1_l_f_p_data_unit_package_afd1d375a397894919fa7d60a60109628}{\index{Picto\-::\-L\-F\-P\-Data\-Unit\-Package@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}!deserialize\-From\-Xml@{deserialize\-From\-Xml}}
\index{deserialize\-From\-Xml@{deserialize\-From\-Xml}!Picto::LFPDataUnitPackage@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}}
\subsubsection[{deserialize\-From\-Xml}]{\setlength{\rightskip}{0pt plus 5cm}bool L\-F\-P\-Data\-Unit\-Package\-::deserialize\-From\-Xml (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$}]{xml\-Stream\-Reader}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_l_f_p_data_unit_package_afd1d375a397894919fa7d60a60109628}
Converts X\-M\-L into a \hyperlink{class_picto_1_1_l_f_p_data_unit_package}{L\-F\-P\-Data\-Unit\-Package} object. Note that this deletes any existing data. 

Implements \hyperlink{class_picto_1_1_data_unit_a44ba3155a80dee6c504300b877e944d8}{Picto\-::\-Data\-Unit}.



Definition at line 36 of file L\-F\-P\-Data\-Unit\-Package.\-cpp.

\hypertarget{class_picto_1_1_l_f_p_data_unit_package_aad789aa516839dbf5f776a99f56a2ffc}{\index{Picto\-::\-L\-F\-P\-Data\-Unit\-Package@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}!serialize\-As\-Xml@{serialize\-As\-Xml}}
\index{serialize\-As\-Xml@{serialize\-As\-Xml}!Picto::LFPDataUnitPackage@{Picto\-::\-L\-F\-P\-Data\-Unit\-Package}}
\subsubsection[{serialize\-As\-Xml}]{\setlength{\rightskip}{0pt plus 5cm}bool L\-F\-P\-Data\-Unit\-Package\-::serialize\-As\-Xml (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Writer $>$}]{xml\-Stream\-Writer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_l_f_p_data_unit_package_aad789aa516839dbf5f776a99f56a2ffc}


Turns the \hyperlink{class_picto_1_1_l_f_p_data_unit_package}{L\-F\-P\-Data\-Unit\-Package} into an X\-M\-L fragment. 



Implements \hyperlink{class_picto_1_1_data_unit_a72923bddebee1127470ef9e8face7d3a}{Picto\-::\-Data\-Unit}.



Definition at line 21 of file L\-F\-P\-Data\-Unit\-Package.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/storage/L\-F\-P\-Data\-Unit\-Package.\-h\item 
source/common/storage/L\-F\-P\-Data\-Unit\-Package.\-cpp\end{DoxyCompactItemize}
