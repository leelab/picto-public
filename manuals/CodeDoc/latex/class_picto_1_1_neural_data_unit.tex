\hypertarget{class_picto_1_1_neural_data_unit}{\section{Picto\-:\-:Neural\-Data\-Unit Class Reference}
\label{class_picto_1_1_neural_data_unit}\index{Picto\-::\-Neural\-Data\-Unit@{Picto\-::\-Neural\-Data\-Unit}}
}


Stores Neural Spike data for transmission over a network.  




{\ttfamily \#include $<$Neural\-Data\-Unit.\-h$>$}

Inheritance diagram for Picto\-:\-:Neural\-Data\-Unit\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_picto_1_1_neural_data_unit}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{class_picto_1_1_neural_data_unit_af4974ade183a7b579a5f8166d5994301}{serialize\-As\-Xml} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Writer $>$ xml\-Stream\-Writer)
\begin{DoxyCompactList}\small\item\em Turns the serialize\-As\-Xml into an X\-M\-L fragment. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_picto_1_1_neural_data_unit_a20e8df33e76f6f64d71a53b328c8011d}{deserialize\-From\-Xml} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)
\item 
\hypertarget{class_picto_1_1_neural_data_unit_a3476bf9ff1856f578286705093af8122}{void \hyperlink{class_picto_1_1_neural_data_unit_a3476bf9ff1856f578286705093af8122}{set\-Timestamp} (double timestamp)}\label{class_picto_1_1_neural_data_unit_a3476bf9ff1856f578286705093af8122}

\begin{DoxyCompactList}\small\item\em Sets the time at which the spike occured (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_aae74ee04a2953d0aefeaa7ecb59a748a}{void \hyperlink{class_picto_1_1_neural_data_unit_aae74ee04a2953d0aefeaa7ecb59a748a}{set\-Fittedtime} (double fittedtime)}\label{class_picto_1_1_neural_data_unit_aae74ee04a2953d0aefeaa7ecb59a748a}

\begin{DoxyCompactList}\small\item\em Sets the time at which the spike occured as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a3be6b448d73158757befae9577f9fcd9}{void \hyperlink{class_picto_1_1_neural_data_unit_a3be6b448d73158757befae9577f9fcd9}{set\-Correlation} (double correlation)}\label{class_picto_1_1_neural_data_unit_a3be6b448d73158757befae9577f9fcd9}

\begin{DoxyCompactList}\small\item\em Sets the least squares correlation coefficient describing the quality of the neural to behavioral alignment estimate. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_ac351190afb99c4c8720f2560db1c4f13}{void \hyperlink{class_picto_1_1_neural_data_unit_ac351190afb99c4c8720f2560db1c4f13}{set\-Channel} (int channel)}\label{class_picto_1_1_neural_data_unit_ac351190afb99c4c8720f2560db1c4f13}

\begin{DoxyCompactList}\small\item\em Sets the channel on which the spike occured. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a7aed10c7ec7f6c28d49efd24bc243393}{void \hyperlink{class_picto_1_1_neural_data_unit_a7aed10c7ec7f6c28d49efd24bc243393}{set\-Unit} (int unit)}\label{class_picto_1_1_neural_data_unit_a7aed10c7ec7f6c28d49efd24bc243393}

\begin{DoxyCompactList}\small\item\em Sets the unit on which the spike occured. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a5dcf75ab72ce04e9f3e3ea86c6a6bd8a}{void \hyperlink{class_picto_1_1_neural_data_unit_a5dcf75ab72ce04e9f3e3ea86c6a6bd8a}{set\-Resolution} (double sec\-Per\-Samp)}\label{class_picto_1_1_neural_data_unit_a5dcf75ab72ce04e9f3e3ea86c6a6bd8a}

\begin{DoxyCompactList}\small\item\em Sets the time per spike waveform sample. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a50f86f683e539ed7c6513c58c620f2fd}{void \hyperlink{class_picto_1_1_neural_data_unit_a50f86f683e539ed7c6513c58c620f2fd}{set\-Waveform} (Q\-Shared\-Pointer$<$ Q\-Vector$<$ float $>$$>$ waveform)}\label{class_picto_1_1_neural_data_unit_a50f86f683e539ed7c6513c58c620f2fd}

\begin{DoxyCompactList}\small\item\em Sets the stored spike waveform to the input vector of float values. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_abf2bea9a3ec957974d5d73d7ae77006c}{void \hyperlink{class_picto_1_1_neural_data_unit_abf2bea9a3ec957974d5d73d7ae77006c}{set\-Waveform\-From\-String} (Q\-String waveform)}\label{class_picto_1_1_neural_data_unit_abf2bea9a3ec957974d5d73d7ae77006c}

\begin{DoxyCompactList}\small\item\em Sets the stored spike waveform from the input string, which should be formatted as \char`\"{}\-X X X X \char`\"{} where each X is a floating point number. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_aee21f003133a3af967a56a4b960d645f}{double \hyperlink{class_picto_1_1_neural_data_unit_aee21f003133a3af967a56a4b960d645f}{get\-Timestamp} ()}\label{class_picto_1_1_neural_data_unit_aee21f003133a3af967a56a4b960d645f}

\begin{DoxyCompactList}\small\item\em Returns the time at which the spike occured (not yet aligned to behavioral timestream). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_afa5e035fcfa5b0df630e01f570a581b0}{double \hyperlink{class_picto_1_1_neural_data_unit_afa5e035fcfa5b0df630e01f570a581b0}{get\-Fittedtime} ()}\label{class_picto_1_1_neural_data_unit_afa5e035fcfa5b0df630e01f570a581b0}

\begin{DoxyCompactList}\small\item\em Returns the time at which the spike occured as aligned to the behavioral timestream. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a1bda76d767efdab3f2c3c8f88ded6945}{double \hyperlink{class_picto_1_1_neural_data_unit_a1bda76d767efdab3f2c3c8f88ded6945}{get\-Correlation} ()}\label{class_picto_1_1_neural_data_unit_a1bda76d767efdab3f2c3c8f88ded6945}

\begin{DoxyCompactList}\small\item\em Returns the least squares correlation coefficient describing the quality of the neural to behavioral alignment estimate. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a150739bdffadcc6da44c7854173e4a13}{int \hyperlink{class_picto_1_1_neural_data_unit_a150739bdffadcc6da44c7854173e4a13}{get\-Channel} ()}\label{class_picto_1_1_neural_data_unit_a150739bdffadcc6da44c7854173e4a13}

\begin{DoxyCompactList}\small\item\em Returns the channel on which the spike occured. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_adcf50016891616837cefe6698b9563f8}{int \hyperlink{class_picto_1_1_neural_data_unit_adcf50016891616837cefe6698b9563f8}{get\-Unit} ()}\label{class_picto_1_1_neural_data_unit_adcf50016891616837cefe6698b9563f8}

\begin{DoxyCompactList}\small\item\em Returns the unit on which the spike occured. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a720ebfba9377e2adfe4d4dddd46c9ccc}{double \hyperlink{class_picto_1_1_neural_data_unit_a720ebfba9377e2adfe4d4dddd46c9ccc}{get\-Resolution} ()}\label{class_picto_1_1_neural_data_unit_a720ebfba9377e2adfe4d4dddd46c9ccc}

\begin{DoxyCompactList}\small\item\em Returns the time per spike waveform sample. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a53b6c6c148424672962753be0d1809de}{Q\-String \hyperlink{class_picto_1_1_neural_data_unit_a53b6c6c148424672962753be0d1809de}{get\-Waveform\-As\-String} ()}\label{class_picto_1_1_neural_data_unit_a53b6c6c148424672962753be0d1809de}

\begin{DoxyCompactList}\small\item\em Gets the stored spike waveform as a string formatted like \char`\"{}\-X X X X \char`\"{} where each X is a floating point number. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_a07e3b5225fe3c5bf19d31971754de81d}{Q\-Byte\-Array \hyperlink{class_picto_1_1_neural_data_unit_a07e3b5225fe3c5bf19d31971754de81d}{get\-Waveform\-As\-Byte\-Array} ()}\label{class_picto_1_1_neural_data_unit_a07e3b5225fe3c5bf19d31971754de81d}

\begin{DoxyCompactList}\small\item\em Gets the stored spike waveform as a Q\-Byte\-Array. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_neural_data_unit_ae6df02132d7b4886d90638447ef1d898}{void \hyperlink{class_picto_1_1_neural_data_unit_ae6df02132d7b4886d90638447ef1d898}{set\-Waveform\-From\-Byte\-Array} (Q\-Byte\-Array waveform)}\label{class_picto_1_1_neural_data_unit_ae6df02132d7b4886d90638447ef1d898}

\begin{DoxyCompactList}\small\item\em Sets the stored spike waveform from a Q\-Byte\-Array as returned from \hyperlink{class_picto_1_1_neural_data_unit_a07e3b5225fe3c5bf19d31971754de81d}{get\-Waveform\-As\-Byte\-Array()}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_neural_data_unit_a5398f2c4cda8846d15f3dc04aa58ab84}{virtual void {\bfseries post\-Deserialize} ()}\label{class_picto_1_1_neural_data_unit_a5398f2c4cda8846d15f3dc04aa58ab84}

\item 
\hypertarget{class_picto_1_1_neural_data_unit_a613ed332db3a9dfa2311e92476142b3f}{virtual bool {\bfseries validate\-Object} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)}\label{class_picto_1_1_neural_data_unit_a613ed332db3a9dfa2311e92476142b3f}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Stores Neural Spike data for transmission over a network. 

Each \hyperlink{class_picto_1_1_neural_data_unit}{Neural\-Data\-Unit} holds the time, channel, unit and waveform of a neural spike along with the sample period of the waveform data. The class also includes functions for setting the \char`\"{}aligned\char`\"{} spike timestamp and waveform sample periods so that the function can include spike timing that is aligned to the behavioral timestream. The correlation coefficient for the least squares fitting of the timestamp alignment can be stored here as well. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 24 of file Neural\-Data\-Unit.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_neural_data_unit_a20e8df33e76f6f64d71a53b328c8011d}{\index{Picto\-::\-Neural\-Data\-Unit@{Picto\-::\-Neural\-Data\-Unit}!deserialize\-From\-Xml@{deserialize\-From\-Xml}}
\index{deserialize\-From\-Xml@{deserialize\-From\-Xml}!Picto::NeuralDataUnit@{Picto\-::\-Neural\-Data\-Unit}}
\subsubsection[{deserialize\-From\-Xml}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-Neural\-Data\-Unit\-::deserialize\-From\-Xml (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$}]{xml\-Stream\-Reader}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_neural_data_unit_a20e8df33e76f6f64d71a53b328c8011d}
Converts X\-M\-L into a \hyperlink{class_picto_1_1_neural_data_unit}{Neural\-Data\-Unit} object. Note that this deletes any existing data. 

Implements \hyperlink{class_picto_1_1_data_unit_a44ba3155a80dee6c504300b877e944d8}{Picto\-::\-Data\-Unit}.



Definition at line 36 of file Neural\-Data\-Unit.\-cpp.

\hypertarget{class_picto_1_1_neural_data_unit_af4974ade183a7b579a5f8166d5994301}{\index{Picto\-::\-Neural\-Data\-Unit@{Picto\-::\-Neural\-Data\-Unit}!serialize\-As\-Xml@{serialize\-As\-Xml}}
\index{serialize\-As\-Xml@{serialize\-As\-Xml}!Picto::NeuralDataUnit@{Picto\-::\-Neural\-Data\-Unit}}
\subsubsection[{serialize\-As\-Xml}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-Neural\-Data\-Unit\-::serialize\-As\-Xml (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Writer $>$}]{xml\-Stream\-Writer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_neural_data_unit_af4974ade183a7b579a5f8166d5994301}


Turns the serialize\-As\-Xml into an X\-M\-L fragment. 



Implements \hyperlink{class_picto_1_1_data_unit_a72923bddebee1127470ef9e8face7d3a}{Picto\-::\-Data\-Unit}.



Definition at line 20 of file Neural\-Data\-Unit.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/storage/Neural\-Data\-Unit.\-h\item 
source/common/storage/Neural\-Data\-Unit.\-cpp\end{DoxyCompactItemize}
