\hypertarget{class_picto_1_1_state}{\section{Picto\-:\-:State Class Reference}
\label{class_picto_1_1_state}\index{Picto\-::\-State@{Picto\-::\-State}}
}


The \hyperlink{class_picto_1_1_state_machine_element}{State\-Machine\-Element} that handles rendering of graphical, audio and signal elements and responding to test subject feedback.  




{\ttfamily \#include $<$State.\-h$>$}

Inheritance diagram for Picto\-:\-:State\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=6.484210cm]{class_picto_1_1_state}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_picto_1_1_state_a05d3d45aca98c85e3305cf4da2ccd15f}{State} ()
\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{class_picto_1_1_state}{State} object. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a8aba2f6f77d66d14ca3ae5973af7584c}{virtual void \hyperlink{class_picto_1_1_state_a8aba2f6f77d66d14ca3ae5973af7584c}{enable\-Run\-Mode} (bool enable)}\label{class_picto_1_1_state_a8aba2f6f77d66d14ca3ae5973af7584c}

\begin{DoxyCompactList}\small\item\em rebuilds the scene whenever run mode is enable in case something about the scene changed. \end{DoxyCompactList}\item 
Q\-String \hyperlink{class_picto_1_1_state_abd02d3ab244f4ff544e916b577c97213}{run} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_engine_1_1_picto_engine}{Engine\-::\-Picto\-Engine} $>$ engine)
\begin{DoxyCompactList}\small\item\em Runs this \hyperlink{class_picto_1_1_state}{State}'s execution logic within the framework of the input Picto\-Engine. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a853ee2b157c1c7ae8fee0898891d430c}{Q\-String \hyperlink{class_picto_1_1_state_a853ee2b157c1c7ae8fee0898891d430c}{slave\-Run} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_engine_1_1_picto_engine}{Engine\-::\-Picto\-Engine} $>$ engine)}\label{class_picto_1_1_state_a853ee2b157c1c7ae8fee0898891d430c}

\begin{DoxyCompactList}\small\item\em When a \hyperlink{class_picto_1_1_state}{State} is run as a slave, it really doesn't do anything except render frames until the \hyperlink{class_picto_1_1_state}{State} ends, since the \hyperlink{class_picto_1_1_slave_experiment_driver}{Slave\-Experiment\-Driver} handles changing of \hyperlink{class_picto_1_1_property}{Property} values. This function is therefore empty and \hyperlink{class_picto_1_1_state_a6daa792c1055a50bef88729ba46ece64}{slave\-Render\-Frame()} handles frame rendering. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a6daa792c1055a50bef88729ba46ece64}{Q\-String \hyperlink{class_picto_1_1_state_a6daa792c1055a50bef88729ba46ece64}{slave\-Render\-Frame} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_engine_1_1_picto_engine}{Engine\-::\-Picto\-Engine} $>$ engine)}\label{class_picto_1_1_state_a6daa792c1055a50bef88729ba46ece64}

\begin{DoxyCompactList}\small\item\em Handles rendering of the latest frame to the display while this \hyperlink{class_picto_1_1_state}{State} is active and when the \hyperlink{class_picto_1_1_experiment}{Experiment} is running in slave mode. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a10af36489d4cde3c68559c6b10ecbd9e}{void {\bfseries add\-Control\-Element} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_control_element}{Control\-Element} $>$ control\-Element)}\label{class_picto_1_1_state_a10af36489d4cde3c68559c6b10ecbd9e}

\item 
\hypertarget{class_picto_1_1_state_a53e9660a9099bfbc74bf9c52da6f586d}{virtual Q\-String \hyperlink{class_picto_1_1_state_a53e9660a9099bfbc74bf9c52da6f586d}{get\-U\-I\-Template} ()}\label{class_picto_1_1_state_a53e9660a9099bfbc74bf9c52da6f586d}

\begin{DoxyCompactList}\small\item\em Returns the name of a user interface template that should be used to represent this element in a U\-I. \end{DoxyCompactList}\item 
virtual Q\-String \hyperlink{class_picto_1_1_state_a852150ca9027d53252cd0cefb04f3c1d}{friendly\-Type\-Name} ()
\begin{DoxyCompactList}\small\item\em Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a77d58a1cc415d1776d31379556042b51}{Q\-Color \hyperlink{class_picto_1_1_state_a77d58a1cc415d1776d31379556042b51}{get\-Color} ()}\label{class_picto_1_1_state_a77d58a1cc415d1776d31379556042b51}

\begin{DoxyCompactList}\small\item\em Returns the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a7407c4c6836c50a5589cd855018d339e}{void \hyperlink{class_picto_1_1_state_a7407c4c6836c50a5589cd855018d339e}{set\-Color} (Q\-Color color)}\label{class_picto_1_1_state_a7407c4c6836c50a5589cd855018d339e}

\begin{DoxyCompactList}\small\item\em Sets the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_ac9d6f38f9378eec2ce7b6922578f6188}{int \hyperlink{class_picto_1_1_state_ac9d6f38f9378eec2ce7b6922578f6188}{get\-Red} ()}\label{class_picto_1_1_state_ac9d6f38f9378eec2ce7b6922578f6188}

\begin{DoxyCompactList}\small\item\em Returns the red component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a414d1d7cbed43761f7ca6e4d36bd5baa}{int \hyperlink{class_picto_1_1_state_a414d1d7cbed43761f7ca6e4d36bd5baa}{get\-Green} ()}\label{class_picto_1_1_state_a414d1d7cbed43761f7ca6e4d36bd5baa}

\begin{DoxyCompactList}\small\item\em Returns the green component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a63a2d684114c788d710e7f2082286b1a}{int \hyperlink{class_picto_1_1_state_a63a2d684114c788d710e7f2082286b1a}{get\-Blue} ()}\label{class_picto_1_1_state_a63a2d684114c788d710e7f2082286b1a}

\begin{DoxyCompactList}\small\item\em Returns the blue component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a33d0687b01c64dd3a0463e4c96f67ac6}{int \hyperlink{class_picto_1_1_state_a33d0687b01c64dd3a0463e4c96f67ac6}{get\-Alpha} ()}\label{class_picto_1_1_state_a33d0687b01c64dd3a0463e4c96f67ac6}

\begin{DoxyCompactList}\small\item\em Returns the alpha component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_af145767b36558a4e98e94494e2b7ce46}{void \hyperlink{class_picto_1_1_state_af145767b36558a4e98e94494e2b7ce46}{set\-Red} (int r)}\label{class_picto_1_1_state_af145767b36558a4e98e94494e2b7ce46}

\begin{DoxyCompactList}\small\item\em Sets the red component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a64980e13db6c7e9bb8f94215d4a1cd89}{void \hyperlink{class_picto_1_1_state_a64980e13db6c7e9bb8f94215d4a1cd89}{set\-Green} (int g)}\label{class_picto_1_1_state_a64980e13db6c7e9bb8f94215d4a1cd89}

\begin{DoxyCompactList}\small\item\em Sets the green component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a4e54680e9723085e812fc9e77a905b06}{void \hyperlink{class_picto_1_1_state_a4e54680e9723085e812fc9e77a905b06}{set\-Blue} (int b)}\label{class_picto_1_1_state_a4e54680e9723085e812fc9e77a905b06}

\begin{DoxyCompactList}\small\item\em Sets the blue component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a6166c9a92171e2b1739d5fdc2427b858}{void \hyperlink{class_picto_1_1_state_a6166c9a92171e2b1739d5fdc2427b858}{set\-Alpha} (int a)}\label{class_picto_1_1_state_a6166c9a92171e2b1739d5fdc2427b858}

\begin{DoxyCompactList}\small\item\em Sets the alpha component of the background color that will be displayed (not currently used). \end{DoxyCompactList}\item 
virtual void \hyperlink{class_picto_1_1_state_a465f0b44d0bc636a48efdefb2e5ee82f}{upgrade\-Version} (Q\-String deserialized\-Version)
\item 
\hypertarget{class_picto_1_1_state_a7b662aa2303578c599af93e656b4c42a}{virtual void \hyperlink{class_picto_1_1_state_a7b662aa2303578c599af93e656b4c42a}{set\-Design\-Config} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_design_config}{Design\-Config} $>$ design\-Config)}\label{class_picto_1_1_state_a7b662aa2303578c599af93e656b4c42a}

\begin{DoxyCompactList}\small\item\em Extends \hyperlink{class_picto_1_1_asset_ae5606ab47c82a89034689a9423fb4daa}{Machine\-Container\-::set\-Design\-Config()} to connect to signals associated with changing active Analyses so that we can respond when that happens. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_state_a8b31564710a084fd1e738e46239d497d}{static Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_asset}{Asset} $>$ \hyperlink{class_picto_1_1_state_a8b31564710a084fd1e738e46239d497d}{Create} ()}\label{class_picto_1_1_state_a8b31564710a084fd1e738e46239d497d}

\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{class_picto_1_1_state}{State} object and returns a shared \hyperlink{class_picto_1_1_asset}{Asset} pointer to it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{class_picto_1_1_state_a8e789d2395df4d047a278f3c09716468}{post\-Deserialize} ()
\begin{DoxyCompactList}\small\item\em This function is called in \hyperlink{class_picto_1_1_asset_a8bed4da09ecb1c07ce0dab313a9aba67}{from\-Xml()} after successful deserialization and is used to initialize the \hyperlink{class_picto_1_1_asset}{Asset} based on values that were loaded in during deserialization. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a644ad6fdb5af053d31c8284fd81d4158}{virtual bool \hyperlink{class_picto_1_1_state_a644ad6fdb5af053d31c8284fd81d4158}{validate\-Object} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)}\label{class_picto_1_1_state_a644ad6fdb5af053d31c8284fd81d4158}

\begin{DoxyCompactList}\small\item\em Extends \hyperlink{class_picto_1_1_machine_container_a53ea9684c79a21ff959dfaf3a3bc73ae}{Machine\-Container\-::validate\-Object()} to verify that this \hyperlink{class_picto_1_1_state}{State} has at least one \hyperlink{class_picto_1_1_control_element}{Control\-Element}. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a3acc28621f786ceb66d93e8504239c8b}{virtual bool \hyperlink{class_picto_1_1_state_a3acc28621f786ceb66d93e8504239c8b}{can\-Have\-Scripts} ()}\label{class_picto_1_1_state_a3acc28621f786ceb66d93e8504239c8b}

\begin{DoxyCompactList}\small\item\em Returns true if this \hyperlink{class_picto_1_1_scriptable_container}{Scriptable\-Container} can potentially include scripts that would need access to the scripting engine. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_picto_1_1_state_a3f93984faa13013b77ee0fc677e206ea}{has\-Scripts} ()
\begin{DoxyCompactList}\small\item\em Returns true if this \hyperlink{class_picto_1_1_scriptable_container}{Scriptable\-Container} has scripts that need access to the scripting engine. \end{DoxyCompactList}\item 
virtual Q\-Map$<$ Q\-String, Q\-String $>$ \hyperlink{class_picto_1_1_state_a5cfa78b269e1da7a66b26fa13427c5e3}{get\-Scripts} ()
\begin{DoxyCompactList}\small\item\em Returns a lookup table containing the names of Properties containing scripts indexed by the name by which those scripts will be accessible. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_state_a23492e6c360fd720dc6b2ec1147049da}{void \hyperlink{class_picto_1_1_state_a23492e6c360fd720dc6b2ec1147049da}{run\-Analysis\-Frame\-Scripts} ()}\label{class_picto_1_1_state_a23492e6c360fd720dc6b2ec1147049da}

\begin{DoxyCompactList}\small\item\em Runs this \hyperlink{class_picto_1_1_state}{State}'s Analysis\-Frame\-Script if it isn't empty. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_state_a90c7971ba26fd5050e30ed8ff64e0e29}{class {\bfseries Slave\-Experiment\-Driver}}\label{class_picto_1_1_state_a90c7971ba26fd5050e30ed8ff64e0e29}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
The \hyperlink{class_picto_1_1_state_machine_element}{State\-Machine\-Element} that handles rendering of graphical, audio and signal elements and responding to test subject feedback. 

Apart from the \hyperlink{class_picto_1_1_pause_point}{Pause\-Point} in which time passes only if the experiment is Paused, the \hyperlink{class_picto_1_1_state}{State} is the only \hyperlink{class_picto_1_1_state_machine_element}{State\-Machine\-Element} in which experimental time actually passes. Essentially, everything that happens in the \hyperlink{class_picto_1_1_state_machine}{State\-Machine} is happening in order to prepare for the next \hyperlink{class_picto_1_1_state}{State} execution. States render all in scope Output\-Elements every frame. Beyond the usual Entry\-Script and Exit\-Script, States also contain a Frame\-Script that is run just before rendering each frame. States contain \hyperlink{class_picto_1_1_control_element}{Control\-Element} objects that monitor user input and time signals to see when certain events take place. Before the Frame\-Script is called every frame, these Control\-Elements are checked to see if any of these events have taken place. Execution continues in the \hyperlink{class_picto_1_1_state}{State} until one of those \hyperlink{class_picto_1_1_control_element}{Control\-Element} events occurs at which point a corresponding result is triggered and the \hyperlink{class_picto_1_1_state}{State} is finished. It should be 'nearly' possible, but extremely messy, to put all \hyperlink{class_picto_1_1_task}{Task} code into a single \hyperlink{class_picto_1_1_state}{State}. Complicated Script\-Controllers can always be used to define when the \hyperlink{class_picto_1_1_state}{State} ends, and complicated code can always be put into the Frame\-Script. We say it is 'nearly' possible because it wouldn't be possible to do things like provide rewards, but it is important to note that it is 'nearly' true. Of course, it would be incredibly messy to do this and no one ever should, but the fact that it is 'nearly' possible should be an indication of the importance of this class. With this in mind, be extremely careful before changing anything about this class, particularly in the \hyperlink{class_picto_1_1_state_abd02d3ab244f4ff544e916b577c97213}{run()} method. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 36 of file State.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_picto_1_1_state_a05d3d45aca98c85e3305cf4da2ccd15f}{\index{Picto\-::\-State@{Picto\-::\-State}!State@{State}}
\index{State@{State}!Picto::State@{Picto\-::\-State}}
\subsubsection[{State}]{\setlength{\rightskip}{0pt plus 5cm}Picto\-::\-State\-::\-State (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_state_a05d3d45aca98c85e3305cf4da2ccd15f}


Constructs a new \hyperlink{class_picto_1_1_state}{State} object. 

Initializes the \hyperlink{class_picto_1_1_state}{State}'s \hyperlink{class_picto_1_1_scene}{Scene} object, adds a 'Frame\-Script" \hyperlink{class_picto_1_1_property}{Property} and Asset\-Factories for the various Control\-Elements that can be added to the \hyperlink{class_picto_1_1_state}{State}. 

Definition at line 36 of file State.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_state_a852150ca9027d53252cd0cefb04f3c1d}{\index{Picto\-::\-State@{Picto\-::\-State}!friendly\-Type\-Name@{friendly\-Type\-Name}}
\index{friendly\-Type\-Name@{friendly\-Type\-Name}!Picto::State@{Picto\-::\-State}}
\subsubsection[{friendly\-Type\-Name}]{\setlength{\rightskip}{0pt plus 5cm}virtual Q\-String Picto\-::\-State\-::friendly\-Type\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_state_a852150ca9027d53252cd0cefb04f3c1d}


Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. 

This is a string that users will see, so check the spelling... we've had problems with that in the past (ie. \hyperlink{class_picto_1_1_target_controller}{Target\-Controller}, \char`\"{}\-Total Time Excceeded\char`\"{} result). 

Reimplemented from \hyperlink{class_picto_1_1_output_element_container_aeb790e110381366623cda30e484eba89}{Picto\-::\-Output\-Element\-Container}.



Definition at line 57 of file State.\-h.

\hypertarget{class_picto_1_1_state_a5cfa78b269e1da7a66b26fa13427c5e3}{\index{Picto\-::\-State@{Picto\-::\-State}!get\-Scripts@{get\-Scripts}}
\index{get\-Scripts@{get\-Scripts}!Picto::State@{Picto\-::\-State}}
\subsubsection[{get\-Scripts}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Map$<$ Q\-String, Q\-String $>$ Picto\-::\-State\-::get\-Scripts (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_state_a5cfa78b269e1da7a66b26fa13427c5e3}


Returns a lookup table containing the names of Properties containing scripts indexed by the name by which those scripts will be accessible. 

\begin{DoxyNote}{Note}
There is some history here. Originally, these scripts were stored as part of the scripting engine, and so their names had to be unique. Now they are stored in a table of Q\-Script\-Program objects and so there is probably not any real need for their \char`\"{}script names\char`\"{} to be different from the \char`\"{}\-Property names\char`\"{} of the Properties containing the script text. We should probably change this at some point. 
\end{DoxyNote}


Reimplemented from \hyperlink{class_picto_1_1_state_machine_element_a2cea850bd3c3e7cd40a0b4b09984db70}{Picto\-::\-State\-Machine\-Element}.



Definition at line 325 of file State.\-cpp.

\hypertarget{class_picto_1_1_state_a3f93984faa13013b77ee0fc677e206ea}{\index{Picto\-::\-State@{Picto\-::\-State}!has\-Scripts@{has\-Scripts}}
\index{has\-Scripts@{has\-Scripts}!Picto::State@{Picto\-::\-State}}
\subsubsection[{has\-Scripts}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-State\-::has\-Scripts (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_state_a3f93984faa13013b77ee0fc677e206ea}


Returns true if this \hyperlink{class_picto_1_1_scriptable_container}{Scriptable\-Container} has scripts that need access to the scripting engine. 

\begin{DoxyNote}{Note}
If this function returns true, \hyperlink{class_picto_1_1_state_a3acc28621f786ceb66d93e8504239c8b}{can\-Have\-Scripts()} should also return true. 
\end{DoxyNote}


Reimplemented from \hyperlink{class_picto_1_1_state_machine_element_ab93cc37be3b570575b812e13ec4f806a}{Picto\-::\-State\-Machine\-Element}.



Definition at line 318 of file State.\-cpp.

\hypertarget{class_picto_1_1_state_a8e789d2395df4d047a278f3c09716468}{\index{Picto\-::\-State@{Picto\-::\-State}!post\-Deserialize@{post\-Deserialize}}
\index{post\-Deserialize@{post\-Deserialize}!Picto::State@{Picto\-::\-State}}
\subsubsection[{post\-Deserialize}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-State\-::post\-Deserialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_state_a8e789d2395df4d047a278f3c09716468}


This function is called in \hyperlink{class_picto_1_1_asset_a8bed4da09ecb1c07ce0dab313a9aba67}{from\-Xml()} after successful deserialization and is used to initialize the \hyperlink{class_picto_1_1_asset}{Asset} based on values that were loaded in during deserialization. 

In the case of the \hyperlink{class_picto_1_1_asset}{Asset} class, during post\-Deserialize we tell the \hyperlink{class_picto_1_1_design_config}{Design\-Config} that if we have reached the stage of loading where \hyperlink{class_picto_1_1_asset}{Asset} I\-Ds must be unique, it should make sure that our \hyperlink{class_picto_1_1_asset}{Asset} I\-D is different from all others in this design. \begin{DoxySeeAlso}{See Also}
\hyperlink{class_picto_1_1_design_config_ab57e0738b97e4358ab09530cd6815fc0}{Design\-Config\-::fix\-Duplicated\-Asset\-Ids()} 
\end{DoxySeeAlso}


Reimplemented from \hyperlink{class_picto_1_1_machine_container_a36591811c50d2086866100c246d751d0}{Picto\-::\-Machine\-Container}.



Definition at line 291 of file State.\-cpp.

\hypertarget{class_picto_1_1_state_abd02d3ab244f4ff544e916b577c97213}{\index{Picto\-::\-State@{Picto\-::\-State}!run@{run}}
\index{run@{run}!Picto::State@{Picto\-::\-State}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String Picto\-::\-State\-::run (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ {\bf Engine\-::\-Picto\-Engine} $>$}]{engine}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_state_abd02d3ab244f4ff544e916b577c97213}


Runs this \hyperlink{class_picto_1_1_state}{State}'s execution logic within the framework of the input Picto\-Engine. 

This function more or less performs the following run procedure\-:
\begin{DoxyItemize}
\item Run Entry\-Script
\item Go through all Control\-Elements and check to see if any are done. If they are, run the Control\-Result script, transition to their attached result, run its script, run the \hyperlink{class_picto_1_1_state}{State}'s Exit\-Script and return.
\item If Control\-Elements aren't done, run the Frame\-Script, render the \hyperlink{class_picto_1_1_scene}{Scene} and loop back to checking Control\-Elements. When an \hyperlink{class_picto_1_1_analysis}{Analysis} is active during the live experiment (in the \hyperlink{class_test_viewer}{Test\-Viewer}), Analysis\-Scripts are run before and after the Entry and Exit Scripts. The Analysis\-Frame\-Script is run after the \hyperlink{class_picto_1_1_scene}{Scene} is rendered.
\end{DoxyItemize}

The name of the result that ended the \hyperlink{class_picto_1_1_state}{State} execution is returned from the function as a string. 

Implements \hyperlink{class_picto_1_1_state_machine_element_a7a1f1ca8905c111dd043178b9132c770}{Picto\-::\-State\-Machine\-Element}.



Definition at line 85 of file State.\-cpp.

\hypertarget{class_picto_1_1_state_a465f0b44d0bc636a48efdefb2e5ee82f}{\index{Picto\-::\-State@{Picto\-::\-State}!upgrade\-Version@{upgrade\-Version}}
\index{upgrade\-Version@{upgrade\-Version}!Picto::State@{Picto\-::\-State}}
\subsubsection[{upgrade\-Version}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-State\-::upgrade\-Version (
\begin{DoxyParamCaption}
\item[{Q\-String}]{deserialized\-Version}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_picto_1_1_state_a465f0b44d0bc636a48efdefb2e5ee82f}
Before Design syntax version 0.\-0.\-1, all U\-I position data was stored in \hyperlink{class_picto_1_1_u_i_info}{U\-I\-Info} objects that were sub-\/elements of \hyperlink{class_picto_1_1_u_i_enabled}{U\-I\-Enabled} objects. At version 0.\-0.\-1, we moved U\-I data out of the Experimental design into a separate U\-I\-Elements of a \hyperlink{class_picto_1_1_u_i_data}{U\-I\-Data} design. 

Reimplemented from \hyperlink{class_picto_1_1_u_i_enabled_a12c0d0357c85854db9220c72c4941b15}{Picto\-::\-U\-I\-Enabled}.



Definition at line 261 of file State.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/statemachine/State.\-h\item 
source/common/statemachine/State.\-cpp\end{DoxyCompactItemize}
