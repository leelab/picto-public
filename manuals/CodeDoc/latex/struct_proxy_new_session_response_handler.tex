\hypertarget{struct_proxy_new_session_response_handler}{\section{Proxy\-New\-Session\-Response\-Handler Struct Reference}
\label{struct_proxy_new_session_response_handler}\index{Proxy\-New\-Session\-Response\-Handler@{Proxy\-New\-Session\-Response\-Handler}}
}


Extends New\-Session\-Response\-Handler to gather Neural data and send it to the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server} until the Session ends or the Proxy application is closed.  




{\ttfamily \#include $<$Proxy\-New\-Session\-Response\-Handler.\-h$>$}

Inheritance diagram for Proxy\-New\-Session\-Response\-Handler\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{struct_proxy_new_session_response_handler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{struct_proxy_new_session_response_handler_ad9715fdd4616f60213b17f7221a431ea}{{\bfseries Proxy\-New\-Session\-Response\-Handler} (Q\-Shared\-Pointer$<$ \hyperlink{class_component_status_manager}{Component\-Status\-Manager} $>$ status\-Manager, Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_command_channel}{Picto\-::\-Command\-Channel} $>$ data\-Command\-Channel)}\label{struct_proxy_new_session_response_handler_ad9715fdd4616f60213b17f7221a431ea}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{struct_proxy_new_session_response_handler_a122cda53c346211dc8ad503dea11727d}{process\-Response} (Q\-String directive)
\begin{DoxyCompactList}\small\item\em Extends New\-Session\-Response\-Handler\-::process\-Command() to implement what is essentially the Proxy's main method. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{struct_proxy_new_session_response_handler_adce2abbe5633a0c7b1ea773f8ae472e5}{Q\-Shared\-Pointer\\*
$<$ \hyperlink{class_picto_1_1_command_channel}{Picto\-::\-Command\-Channel} $>$ {\bfseries data\-Command\-Channel\-\_\-}}\label{struct_proxy_new_session_response_handler_adce2abbe5633a0c7b1ea773f8ae472e5}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Extends New\-Session\-Response\-Handler to gather Neural data and send it to the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server} until the Session ends or the Proxy application is closed. 

This class really only extends the \hyperlink{struct_proxy_new_session_response_handler_a122cda53c346211dc8ad503dea11727d}{process\-Response()} function. See that functions documentation for more details. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 14 of file Proxy\-New\-Session\-Response\-Handler.\-h.



\subsection{Member Function Documentation}
\hypertarget{struct_proxy_new_session_response_handler_a122cda53c346211dc8ad503dea11727d}{\index{Proxy\-New\-Session\-Response\-Handler@{Proxy\-New\-Session\-Response\-Handler}!process\-Response@{process\-Response}}
\index{process\-Response@{process\-Response}!ProxyNewSessionResponseHandler@{Proxy\-New\-Session\-Response\-Handler}}
\subsubsection[{process\-Response}]{\setlength{\rightskip}{0pt plus 5cm}bool Proxy\-New\-Session\-Response\-Handler\-::process\-Response (
\begin{DoxyParamCaption}
\item[{Q\-String}]{directive}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{struct_proxy_new_session_response_handler_a122cda53c346211dc8ad503dea11727d}


Extends New\-Session\-Response\-Handler\-::process\-Command() to implement what is essentially the Proxy's main method. 

R\-E\-A\-D T\-H\-I\-S! T\-H\-I\-S F\-U\-N\-C\-T\-I\-O\-N I\-S I\-M\-P\-O\-R\-T\-A\-N\-T!

When a N\-E\-W\-S\-E\-S\-S\-I\-O\-N command is received, this function tells the Status\-Manager that it is running (\hyperlink{class_component_status_manager_a6b4219dc5a4105bd24b62d89861ee443}{Component\-Status\-Manager\-::set\-Status()}), then starts looping until the session is ended by the Picto\-Server or the Proxy application is closed. In the loop, the Neural D\-A\-Q plugin is polled for data. New data is gathered into a P\-U\-T\-D\-A\-T\-A command and sent to the \hyperlink{class_server}{Server}, then we make sure the \hyperlink{class_server}{Server} connection is still active, check the Command\-Channel for pending responses, process any pending Qt Events and restart the loop. \begin{DoxyNote}{Note}
This whole thing is actually running underneath the Command\-Channel\-::process\-Responses() function which is in itself a kind of main method. This function also calls Command\-Channel\-::process\-Responses() to get E\-N\-D\-S\-E\-S\-S\-I\-O\-N directives. This is overly complicated and results from the fact that we are running within the \hyperlink{class_component_interface}{Component\-Interface} system which was designed to be able to support the \hyperlink{namespace_picto}{Picto} \hyperlink{class_director}{Director} too, even though that system does not use the Qt Event Loop. What really needs to happen is the \hyperlink{class_director}{Director} needs to be refactored to run within the Qt Event loop, then \hyperlink{class_component_interface}{Component\-Interface} needs to be refactored accordingly, followed by updating this sytem. See Command\-Channel\-::process\-Responses() for more details. 
\end{DoxyNote}


Reimplemented from \hyperlink{struct_picto_1_1_new_session_response_handler_a67dfb302f5c8769f09d058aa01348d69}{Picto\-::\-New\-Session\-Response\-Handler}.



Definition at line 30 of file Proxy\-New\-Session\-Response\-Handler.\-cpp.



The documentation for this struct was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/proxyserver/protocol/Proxy\-New\-Session\-Response\-Handler.\-h\item 
source/proxyserver/protocol/Proxy\-New\-Session\-Response\-Handler.\-cpp\end{DoxyCompactItemize}
