\hypertarget{class_picto_1_1_file_session_loader}{\section{Picto\-:\-:File\-Session\-Loader Class Reference}
\label{class_picto_1_1_file_session_loader}\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}}
}


A Component of the \hyperlink{namespace_picto}{Picto} Playback system that loads data from a Session file into a \hyperlink{class_picto_1_1_session_state}{Session\-State}.  




{\ttfamily \#include $<$File\-Session\-Loader.\-h$>$}

Inheritance diagram for Picto\-:\-:File\-Session\-Loader\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_picto_1_1_file_session_loader}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_picto_1_1_file_session_loader_1_1_run_data}{Run\-Data}
\begin{DoxyCompactList}\small\item\em Stores data about a particular \hyperlink{class_picto_1_1_task}{Task} Run. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_file_session_loader_a7b474201de33f1d5828c998fcdcc94bb}{void {\bfseries percent\-Loaded} (double percent)}\label{class_picto_1_1_file_session_loader_a7b474201de33f1d5828c998fcdcc94bb}

\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_picto_1_1_file_session_loader_a82cacad5592e06a8aa399cf3db6daea7}{File\-Session\-Loader} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_session_state}{Session\-State} $>$ sess\-State=Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_session_state}{Session\-State} $>$())
\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{class_picto_1_1_file_session_loader}{File\-Session\-Loader}. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_a9f28fba3c0be58a4d6397e7d3f6b13ca}{\hyperlink{class_picto_1_1_file_session_loader_a9f28fba3c0be58a4d6397e7d3f6b13ca}{$\sim$\-File\-Session\-Loader} ()}\label{class_picto_1_1_file_session_loader_a9f28fba3c0be58a4d6397e7d3f6b13ca}

\begin{DoxyCompactList}\small\item\em Removes the connection to the current database before this \hyperlink{class_picto_1_1_file_session_loader}{File\-Session\-Loader} is deleted. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_a6a9035fea225651a072550cf6e315b9c}{bool \hyperlink{class_picto_1_1_file_session_loader_a6a9035fea225651a072550cf6e315b9c}{set\-File} (Q\-String path)}\label{class_picto_1_1_file_session_loader_a6a9035fea225651a072550cf6e315b9c}

\begin{DoxyCompactList}\small\item\em Sets the file path to the session file that will be loaded into the \hyperlink{class_picto_1_1_session_state}{Session\-State}. \end{DoxyCompactList}\item 
Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_design_root}{Design\-Root} $>$ \hyperlink{class_picto_1_1_file_session_loader_ab9186678a41bd08b7ec73502537a53b4}{get\-Design\-Root} ()
\begin{DoxyCompactList}\small\item\em Returns the \hyperlink{class_picto_1_1_design_root}{Design\-Root} for the Design loaded in load\-Design\-Definition() when \hyperlink{class_picto_1_1_file_session_loader_a6a9035fea225651a072550cf6e315b9c}{set\-File()} was called. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{Q\-String\-List \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names} ()}\label{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}

\begin{DoxyCompactList}\small\item\em Returns a list of names of runs that were loaded from the session file. \end{DoxyCompactList}\item 
Q\-String\-List \hyperlink{class_picto_1_1_file_session_loader_a52ffa900efd0cece36ec15bf6e77840c}{get\-Run\-Notes} ()
\begin{DoxyCompactList}\small\item\em Returns a list of the notes saved by the operator for runs that were loaded from the session file. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_acf54d9159b81f9e9383a020b0eba2fb2}{Q\-String\-List \hyperlink{class_picto_1_1_file_session_loader_acf54d9159b81f9e9383a020b0eba2fb2}{get\-Saved\-Run\-Names} ()}\label{class_picto_1_1_file_session_loader_acf54d9159b81f9e9383a020b0eba2fb2}

\begin{DoxyCompactList}\small\item\em Returns a list of the names of runs that were saved by the operator during the session. \end{DoxyCompactList}\item 
bool \hyperlink{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}{load\-Run} (int index)
\begin{DoxyCompactList}\small\item\em Loads the run at the input index (with respect to the list returned from \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names()}) into the \hyperlink{class_picto_1_1_session_state}{Session\-State} for playback. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_a4dbbd4950265373486648c21b0d12d0b}{double \hyperlink{class_picto_1_1_file_session_loader_a4dbbd4950265373486648c21b0d12d0b}{run\-Duration} (int index)}\label{class_picto_1_1_file_session_loader_a4dbbd4950265373486648c21b0d12d0b}

\begin{DoxyCompactList}\small\item\em Returns the duration (in seconds) of the run at the input index, where the index is with respect to the list returned from \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names()} \end{DoxyCompactList}\item 
double \hyperlink{class_picto_1_1_file_session_loader_a6c36543d4bde4e441eaf1367e6305574}{curr\-Run\-Duration} ()
\begin{DoxyCompactList}\small\item\em Returns the total duration of the currently loaded run. \end{DoxyCompactList}\item 
Q\-String \hyperlink{class_picto_1_1_file_session_loader_af6aded906c060e90e0543e5861bcdec1}{curr\-Run\-Name} ()
\begin{DoxyCompactList}\small\item\em Returns the name of the currently loaded run. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_file_session_loader_a7f02445db069cb6c8b1fb5110426cbd3}{virtual bool \hyperlink{class_picto_1_1_file_session_loader_a7f02445db069cb6c8b1fb5110426cbd3}{load\-Run\-Data} ()}\label{class_picto_1_1_file_session_loader_a7f02445db069cb6c8b1fb5110426cbd3}

\begin{DoxyCompactList}\small\item\em Loads data about this sessions runs into this classes runs\-\_\- data structure for report in functions like \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names()}, \hyperlink{class_picto_1_1_file_session_loader_a52ffa900efd0cece36ec15bf6e77840c}{get\-Run\-Notes()}, etc. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_file_session_loader_ae445ee8c395c86eaeaf6895968fe88ac}{virtual double \hyperlink{class_picto_1_1_file_session_loader_ae445ee8c395c86eaeaf6895968fe88ac}{load\-Neural\-Data} (double after, double to, double subtract\-Time)}\label{class_picto_1_1_file_session_loader_ae445ee8c395c86eaeaf6895968fe88ac}

\begin{DoxyCompactList}\small\item\em This function is no longer used and should be removed. Its functionality is handled in \hyperlink{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}{load\-Run()}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A Component of the \hyperlink{namespace_picto}{Picto} Playback system that loads data from a Session file into a \hyperlink{class_picto_1_1_session_state}{Session\-State}. 

This class takes care of loading the session file, extracting various meta-\/data like task run information and the types of input signals used in the experiment, and setting all of this data into a \hyperlink{class_picto_1_1_session_state}{Session\-State}.

\begin{DoxyNote}{Note}
The most confusing part of what a \hyperlink{class_picto_1_1_file_session_loader}{File\-Session\-Loader} does is the upgrade of the Design used in the session file. Since the Session might have been recorded when an older version of \hyperlink{namespace_picto}{Picto} was in use, when the Design is loaded into this version of \hyperlink{namespace_picto}{Picto}, some Assets might be upgraded automatically. Whenever this happens though, there is a possibility that Assets that were not upgraded might have their \hyperlink{class_picto_1_1_asset}{Asset} ids changed for various reasons. This class uses a \hyperlink{class_picto_1_1_session_version_interfacer}{Session\-Version\-Interfacer} to automatically fix the changed \hyperlink{class_picto_1_1_asset}{Asset} I\-Ds and extract the \hyperlink{class_picto_1_1_asset}{Asset} I\-Ds of Assets that are now obsolete so that their \hyperlink{class_picto_1_1_property}{Property} values can be ignored. 
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 29 of file File\-Session\-Loader.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_picto_1_1_file_session_loader_a82cacad5592e06a8aa399cf3db6daea7}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!File\-Session\-Loader@{File\-Session\-Loader}}
\index{File\-Session\-Loader@{File\-Session\-Loader}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{File\-Session\-Loader}]{\setlength{\rightskip}{0pt plus 5cm}File\-Session\-Loader\-::\-File\-Session\-Loader (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ {\bf Session\-State} $>$}]{sess\-State = {\ttfamily QSharedPointer$<${\bf Session\-State}$>$()}}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_a82cacad5592e06a8aa399cf3db6daea7}


Constructs a new \hyperlink{class_picto_1_1_file_session_loader}{File\-Session\-Loader}. 

The \hyperlink{class_picto_1_1_file_session_loader}{File\-Session\-Loader} will load file data into the input \hyperlink{class_picto_1_1_session_state}{Session\-State}. 

Definition at line 16 of file File\-Session\-Loader.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_file_session_loader_a6c36543d4bde4e441eaf1367e6305574}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!curr\-Run\-Duration@{curr\-Run\-Duration}}
\index{curr\-Run\-Duration@{curr\-Run\-Duration}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{curr\-Run\-Duration}]{\setlength{\rightskip}{0pt plus 5cm}double File\-Session\-Loader\-::curr\-Run\-Duration (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_a6c36543d4bde4e441eaf1367e6305574}


Returns the total duration of the currently loaded run. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}{load\-Run()} 
\end{DoxySeeAlso}


Definition at line 179 of file File\-Session\-Loader.\-cpp.

\hypertarget{class_picto_1_1_file_session_loader_af6aded906c060e90e0543e5861bcdec1}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!curr\-Run\-Name@{curr\-Run\-Name}}
\index{curr\-Run\-Name@{curr\-Run\-Name}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{curr\-Run\-Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String File\-Session\-Loader\-::curr\-Run\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_af6aded906c060e90e0543e5861bcdec1}


Returns the name of the currently loaded run. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}{load\-Run()} 
\end{DoxySeeAlso}


Definition at line 187 of file File\-Session\-Loader.\-cpp.

\hypertarget{class_picto_1_1_file_session_loader_ab9186678a41bd08b7ec73502537a53b4}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!get\-Design\-Root@{get\-Design\-Root}}
\index{get\-Design\-Root@{get\-Design\-Root}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{get\-Design\-Root}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Shared\-Pointer$<$ {\bf Design\-Root} $>$ File\-Session\-Loader\-::get\-Design\-Root (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_ab9186678a41bd08b7ec73502537a53b4}


Returns the \hyperlink{class_picto_1_1_design_root}{Design\-Root} for the Design loaded in load\-Design\-Definition() when \hyperlink{class_picto_1_1_file_session_loader_a6a9035fea225651a072550cf6e315b9c}{set\-File()} was called. 

If no design was loaded, an empty \hyperlink{class_picto_1_1_design_root}{Design\-Root} shared pointer will be returned. 

Definition at line 87 of file File\-Session\-Loader.\-cpp.

\hypertarget{class_picto_1_1_file_session_loader_a52ffa900efd0cece36ec15bf6e77840c}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!get\-Run\-Notes@{get\-Run\-Notes}}
\index{get\-Run\-Notes@{get\-Run\-Notes}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{get\-Run\-Notes}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String\-List File\-Session\-Loader\-::get\-Run\-Notes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_a52ffa900efd0cece36ec15bf6e77840c}


Returns a list of the notes saved by the operator for runs that were loaded from the session file. 

One entry appears for each name returned from \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names()} and in the same order. 

Definition at line 107 of file File\-Session\-Loader.\-cpp.

\hypertarget{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}{\index{Picto\-::\-File\-Session\-Loader@{Picto\-::\-File\-Session\-Loader}!load\-Run@{load\-Run}}
\index{load\-Run@{load\-Run}!Picto::FileSessionLoader@{Picto\-::\-File\-Session\-Loader}}
\subsubsection[{load\-Run}]{\setlength{\rightskip}{0pt plus 5cm}bool File\-Session\-Loader\-::load\-Run (
\begin{DoxyParamCaption}
\item[{int}]{index}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_file_session_loader_a303ad7f65d6cced38432128826fedd0c}


Loads the run at the input index (with respect to the list returned from \hyperlink{class_picto_1_1_file_session_loader_a594062ade9010399ea05e273387ef9d9}{get\-Run\-Names()}) into the \hyperlink{class_picto_1_1_session_state}{Session\-State} for playback. 

Returns true if the run was successfully loaded, false otherwise. \begin{DoxyNote}{Note}
The first time this is called after a Session file is loaded, \hyperlink{class_picto_1_1_session_state_a54ef9957c7c3f166de6bcc76f61b65f9}{Session\-State\-::set\-Session\-Data()} is called which loads all session data (including every run) into the \hyperlink{class_picto_1_1_session_state}{Session\-State}. This will take a long time and lots of memory. On subsequent calls to this function, that is no longer necessary, so we just change the currently selected run. 
\end{DoxyNote}


Definition at line 138 of file File\-Session\-Loader.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/playback/File\-Session\-Loader.\-h\item 
source/common/playback/File\-Session\-Loader.\-cpp\end{DoxyCompactItemize}
