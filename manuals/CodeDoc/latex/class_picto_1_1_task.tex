\hypertarget{class_picto_1_1_task}{\section{Picto\-:\-:Task Class Reference}
\label{class_picto_1_1_task}\index{Picto\-::\-Task@{Picto\-::\-Task}}
}


A \hyperlink{class_picto_1_1_task}{Task} contains the top level \hyperlink{class_picto_1_1_state_machine}{State\-Machine} that defines the logic for researching an experimental question.  




{\ttfamily \#include $<$Task.\-h$>$}

Inheritance diagram for Picto\-:\-:Task\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7.000000cm]{class_picto_1_1_task}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_picto_1_1_task_aa0da741a30dd188617708d7d65986259}{Task} ()
\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{class_picto_1_1_task}{Task} object. \end{DoxyCompactList}\item 
Q\-String \hyperlink{class_picto_1_1_task_ab5ae1c377b52b5338fb3d82e0ce3bcbe}{run} (Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_engine_1_1_picto_engine}{Engine\-::\-Picto\-Engine} $>$ engine)
\begin{DoxyCompactList}\small\item\em Runs this \hyperlink{class_picto_1_1_task}{Task}'s execution logic within the framework of the input Picto\-Engine. \end{DoxyCompactList}\item 
bool \hyperlink{class_picto_1_1_task_a145629630f680070d2e130f00905c59f}{jump\-To\-State} (Q\-String\-List path, Q\-String state)
\begin{DoxyCompactList}\small\item\em This function appears to no longer be used (ie. The functions that call it are never called themselves). \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_picto_1_1_task_ad82385f0878e842d564207eca4f0a48c}{has\-Editable\-Descendants} ()
\begin{DoxyCompactList}\small\item\em Returns true if this object can or does have child objects that are editable. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_ac93fdf2f524c7a3627b8aef2685d6c9c}{virtual Q\-String \hyperlink{class_picto_1_1_task_ac93fdf2f524c7a3627b8aef2685d6c9c}{get\-U\-I\-Template} ()}\label{class_picto_1_1_task_ac93fdf2f524c7a3627b8aef2685d6c9c}

\begin{DoxyCompactList}\small\item\em Returns the name of a user interface template that should be used to represent this element in a U\-I. \end{DoxyCompactList}\item 
virtual Q\-String \hyperlink{class_picto_1_1_task_a113fbbe20cce93b87fabe1221c0e7c70}{friendly\-Type\-Name} ()
\begin{DoxyCompactList}\small\item\em Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_a316d6295cc620fb10004a2c40ac7dd49}{virtual Q\-String \hyperlink{class_picto_1_1_task_a316d6295cc620fb10004a2c40ac7dd49}{get\-U\-I\-Group} ()}\label{class_picto_1_1_task_a316d6295cc620fb10004a2c40ac7dd49}

\begin{DoxyCompactList}\small\item\em Returns the name of a type of elements with which this element should be grouped in things like Tool\-Box widget. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_a10a6eb3eab48de1aa8f498f405b63b72}{Q\-Uuid \hyperlink{class_picto_1_1_task_a10a6eb3eab48de1aa8f498f405b63b72}{get\-Task\-Id} ()}\label{class_picto_1_1_task_a10a6eb3eab48de1aa8f498f405b63b72}

\begin{DoxyCompactList}\small\item\em Since there is no Task\-Id \hyperlink{class_picto_1_1_property}{Property}, this function doesn't appear to do anything and should be removed. \end{DoxyCompactList}\item 
void \hyperlink{class_picto_1_1_task_aea4b74597bf60f627b5bae545b29ab3f}{set\-Task\-Number} (int num)
\begin{DoxyCompactList}\small\item\em Sets the index of this \hyperlink{class_picto_1_1_task}{Task} within its container. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_a384aa105ec4ce395afced4b136cc9f6a}{Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_state_machine}{State\-Machine} $>$ \hyperlink{class_picto_1_1_task_a384aa105ec4ce395afced4b136cc9f6a}{get\-State\-Machine} ()}\label{class_picto_1_1_task_a384aa105ec4ce395afced4b136cc9f6a}

\begin{DoxyCompactList}\small\item\em Returns a pointer to the top level \hyperlink{class_picto_1_1_state_machine}{State\-Machine} contained in this \hyperlink{class_picto_1_1_task}{Task}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_task_aa874b1d183ce0e21a815710a38af09a5}{static Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_task}{Task} $>$ \hyperlink{class_picto_1_1_task_aa874b1d183ce0e21a815710a38af09a5}{Create} ()}\label{class_picto_1_1_task_aa874b1d183ce0e21a815710a38af09a5}

\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{class_picto_1_1_task}{Task} object and returns a shared \hyperlink{class_picto_1_1_asset}{Asset} pointer to it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual Q\-String \hyperlink{class_picto_1_1_task_a1a4c648ccf8389bc35b3785527e0213b}{default\-Tag\-Name} ()
\begin{DoxyCompactList}\small\item\em Returns the name of this \hyperlink{class_picto_1_1_data_store}{Data\-Store}'s default X\-M\-L tag. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_a4709ec0c131f873b026ef40b49792863}{virtual void \hyperlink{class_picto_1_1_task_a4709ec0c131f873b026ef40b49792863}{post\-Deserialize} ()}\label{class_picto_1_1_task_a4709ec0c131f873b026ef40b49792863}

\begin{DoxyCompactList}\small\item\em Extends \hyperlink{class_picto_1_1_scriptable_container_a0654af2c08f9a6c967a21b57614950ba}{Scriptable\-Container\-::post\-Deserialize()} to set the \hyperlink{class_picto_1_1_u_i_enabled}{U\-I\-Enabled} \hyperlink{class_picto_1_1_property}{Property} invisible since it doesn't do anything in \hyperlink{class_picto_1_1_task}{Task} objects. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_task_a453654d7c802d3c2bd37041643bf0616}{virtual bool \hyperlink{class_picto_1_1_task_a453654d7c802d3c2bd37041643bf0616}{validate\-Object} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)}\label{class_picto_1_1_task_a453654d7c802d3c2bd37041643bf0616}

\begin{DoxyCompactList}\small\item\em Extends \hyperlink{class_picto_1_1_scriptable_ab6e2944c43a3b5d418bf7b251594386d}{Scriptable\-::validate\-Object()} to check the syntax of this object's scripts and add a compilation error if any problems are found. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A \hyperlink{class_picto_1_1_task}{Task} contains the top level \hyperlink{class_picto_1_1_state_machine}{State\-Machine} that defines the logic for researching an experimental question. 

A \hyperlink{class_picto_1_1_task}{Task} can define anything from a Memory\-Saccade exercise, to a system for checking the calibration of a reward supply system. An \hyperlink{class_picto_1_1_experiment}{Experiment} usually contains multiple Tasks with each \hyperlink{class_picto_1_1_task}{Task} containing only one \hyperlink{class_picto_1_1_state_machine}{State\-Machine}. The period from the time a \hyperlink{class_picto_1_1_task}{Task} starts until it finishes is called a \hyperlink{class_picto_1_1_task}{Task} Run, or simply a Run. The \hyperlink{class_picto_1_1_task}{Task} class defines all the setup/take down logic for the \hyperlink{class_picto_1_1_task}{Task} Run and starts the underlying \hyperlink{class_picto_1_1_state_machine}{State\-Machine} that handles its actual experimental control logic.

\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 38 of file Task.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_picto_1_1_task_aa0da741a30dd188617708d7d65986259}{\index{Picto\-::\-Task@{Picto\-::\-Task}!Task@{Task}}
\index{Task@{Task}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{Task}]{\setlength{\rightskip}{0pt plus 5cm}Picto\-::\-Task\-::\-Task (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_task_aa0da741a30dd188617708d7d65986259}


Constructs a new \hyperlink{class_picto_1_1_task}{Task} object. 

Automatically adds a required \hyperlink{class_picto_1_1_state_machine}{State\-Machine} object to the \hyperlink{class_picto_1_1_task}{Task}. 

Definition at line 15 of file Task.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_task_a1a4c648ccf8389bc35b3785527e0213b}{\index{Picto\-::\-Task@{Picto\-::\-Task}!default\-Tag\-Name@{default\-Tag\-Name}}
\index{default\-Tag\-Name@{default\-Tag\-Name}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{default\-Tag\-Name}]{\setlength{\rightskip}{0pt plus 5cm}virtual Q\-String Picto\-::\-Task\-::default\-Tag\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_task_a1a4c648ccf8389bc35b3785527e0213b}


Returns the name of this \hyperlink{class_picto_1_1_data_store}{Data\-Store}'s default X\-M\-L tag. 

\begin{DoxyNote}{Note}
The one who determines a child's tag name is its parent however, since it is its parent that needs to understand which X\-M\-L tags need to be deserialized in which types of \hyperlink{class_picto_1_1_asset}{Asset} object. See the Output\-Element\-Container\-::\-Output\-Element\-Container() constructor for an example of this. 
\end{DoxyNote}


Reimplemented from \hyperlink{class_picto_1_1_scriptable_container_a5721f31da49f2e8df266e0a6c40317fe}{Picto\-::\-Scriptable\-Container}.



Definition at line 62 of file Task.\-h.

\hypertarget{class_picto_1_1_task_a113fbbe20cce93b87fabe1221c0e7c70}{\index{Picto\-::\-Task@{Picto\-::\-Task}!friendly\-Type\-Name@{friendly\-Type\-Name}}
\index{friendly\-Type\-Name@{friendly\-Type\-Name}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{friendly\-Type\-Name}]{\setlength{\rightskip}{0pt plus 5cm}virtual Q\-String Picto\-::\-Task\-::friendly\-Type\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_task_a113fbbe20cce93b87fabe1221c0e7c70}


Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. 

This is a string that users will see, so check the spelling... we've had problems with that in the past (ie. \hyperlink{class_picto_1_1_target_controller}{Target\-Controller}, \char`\"{}\-Total Time Excceeded\char`\"{} result). 

Reimplemented from \hyperlink{class_picto_1_1_scriptable_container_ab3e676a5138ce7f49ab924c98fe3d71e}{Picto\-::\-Scriptable\-Container}.



Definition at line 52 of file Task.\-h.

\hypertarget{class_picto_1_1_task_ad82385f0878e842d564207eca4f0a48c}{\index{Picto\-::\-Task@{Picto\-::\-Task}!has\-Editable\-Descendants@{has\-Editable\-Descendants}}
\index{has\-Editable\-Descendants@{has\-Editable\-Descendants}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{has\-Editable\-Descendants}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool Picto\-::\-Task\-::has\-Editable\-Descendants (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_task_ad82385f0878e842d564207eca4f0a48c}


Returns true if this object can or does have child objects that are editable. 

This is useful, for example, so that the \hyperlink{class_designer}{Designer} knows if this object should be opened up when the user double clicks on it or if there's nothing inside that can be changed so it should not be opened. 

Reimplemented from \hyperlink{class_picto_1_1_u_i_enabled_aa9146adb2bb548fd5763be8d7a6f97d1}{Picto\-::\-U\-I\-Enabled}.



Definition at line 50 of file Task.\-h.

\hypertarget{class_picto_1_1_task_a145629630f680070d2e130f00905c59f}{\index{Picto\-::\-Task@{Picto\-::\-Task}!jump\-To\-State@{jump\-To\-State}}
\index{jump\-To\-State@{jump\-To\-State}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{jump\-To\-State}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-Task\-::jump\-To\-State (
\begin{DoxyParamCaption}
\item[{Q\-String\-List}]{path, }
\item[{Q\-String}]{state}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_task_a145629630f680070d2e130f00905c59f}


This function appears to no longer be used (ie. The functions that call it are never called themselves). 

The function was once used when attaching to a remote \hyperlink{class_picto_1_1_experiment}{Experiment} that was already running in order to jump to the currently running \hyperlink{class_picto_1_1_state}{State}. Since then, we have created the \hyperlink{class_picto_1_1_state_updater}{State\-Updater}, \hyperlink{class_picto_1_1_slave_experiment_driver}{Slave\-Experiment\-Driver} system that allows us to run \char`\"{}\-Slave\char`\"{} Experiments from within the Qt event loop based on information coming from the Master, and not only from within the blocking run\-Task() function.

This function should probably be removed. 

Definition at line 81 of file Task.\-cpp.

\hypertarget{class_picto_1_1_task_ab5ae1c377b52b5338fb3d82e0ce3bcbe}{\index{Picto\-::\-Task@{Picto\-::\-Task}!run@{run}}
\index{run@{run}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String Picto\-::\-Task\-::run (
\begin{DoxyParamCaption}
\item[{Q\-Shared\-Pointer$<$ {\bf Engine\-::\-Picto\-Engine} $>$}]{engine}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_task_ab5ae1c377b52b5338fb3d82e0ce3bcbe}


Runs this \hyperlink{class_picto_1_1_task}{Task}'s execution logic within the framework of the input Picto\-Engine. 

Since the \hyperlink{class_picto_1_1_task}{Task} only ever contains a single \hyperlink{class_picto_1_1_state_machine}{State\-Machine}, this function just takes care of initializing the new \hyperlink{class_picto_1_1_task}{Task} run, running the \hyperlink{class_picto_1_1_state_machine}{State\-Machine}, and sending any final data to the \hyperlink{class_server}{Server} (if necessary). \begin{DoxyNote}{Note}
Currently, this function blocks the Qt Event Loop execution until it finishes except in the case where the Picto\-Engine is running in slave mode, in which case the event loop is processed at various times from within this engine (which is not a very clean way to do things). In the future this function should be rewritten to run a single frame at a time from within an event loop. See \hyperlink{class_picto_1_1_command_channel_aafe619791fb542563544ecf50628238b}{Command\-Channel\-::process\-Responses()} for more details. 
\end{DoxyNote}


Definition at line 39 of file Task.\-cpp.

\hypertarget{class_picto_1_1_task_aea4b74597bf60f627b5bae545b29ab3f}{\index{Picto\-::\-Task@{Picto\-::\-Task}!set\-Task\-Number@{set\-Task\-Number}}
\index{set\-Task\-Number@{set\-Task\-Number}!Picto::Task@{Picto\-::\-Task}}
\subsubsection[{set\-Task\-Number}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Task\-::set\-Task\-Number (
\begin{DoxyParamCaption}
\item[{int}]{num}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_task_aea4b74597bf60f627b5bae545b29ab3f}


Sets the index of this \hyperlink{class_picto_1_1_task}{Task} within its container. 

This is useful since the \hyperlink{class_picto_1_1_task}{Task}'s index is used to define an \char`\"{}initial transition\char`\"{} that is sent to the server during run time to indicate that this \hyperlink{class_picto_1_1_task}{Task} is the one that was run. The idea here was that it is necessary to create a \char`\"{}fake\char`\"{} transition, since execution only really begins at the \hyperlink{class_picto_1_1_task}{Task} level, so it is somewhat illogical to store a \hyperlink{class_picto_1_1_transition}{Transition} in the design above the top level of the \hyperlink{class_picto_1_1_state_machine}{State\-Machine}. This can certainly be reconsidered at some point and changed, so long as reverse design compatibility is maintained somehow. 

Definition at line 104 of file Task.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/task/Task.\-h\item 
source/common/task/Task.\-cpp\end{DoxyCompactItemize}
