\hypertarget{class_server_config}{\section{Server\-Config Class Reference}
\label{class_server_config}\index{Server\-Config@{Server\-Config}}
}


\hyperlink{class_server_config}{Server\-Config} handles the configuration of a Picto\-Server.  




{\ttfamily \#include $<$Server\-Config.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_server_config_af61bcd662c3be06dd4219770350e65e6}{Server\-Config} ()
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{class_server_config}{Server\-Config} object. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_abb3cc44cbd2fca32dd9914bb481ba708}{void \hyperlink{class_server_config_abb3cc44cbd2fca32dd9914bb481ba708}{add\-Session} (Q\-String session\-I\-D, Q\-String filepath, Q\-String director\-I\-D, Q\-String proxy\-I\-D)}\label{class_server_config_abb3cc44cbd2fca32dd9914bb481ba708}

\begin{DoxyCompactList}\small\item\em Inserts a session into the open sessions list. Stored data includes the Session's I\-D, filepath and the I\-Ds of the \hyperlink{class_director}{Director} and Proxy that are used in the Session. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_ab61785553877dc52c09a72df32178963}{void \hyperlink{class_server_config_ab61785553877dc52c09a72df32178963}{remove\-Session} (Q\-String session\-I\-D)}\label{class_server_config_ab61785553877dc52c09a72df32178963}

\begin{DoxyCompactList}\small\item\em Removes the session with the input I\-D from the config database. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_a2b374738ea1e49524707831e9a3e9eb5}{Q\-String \hyperlink{class_server_config_a2b374738ea1e49524707831e9a3e9eb5}{get\-Session\-Path\-By\-I\-D} (Q\-String session\-I\-D)}\label{class_server_config_a2b374738ea1e49524707831e9a3e9eb5}

\begin{DoxyCompactList}\small\item\em Returns the filepath of the database for the session with input I\-D. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_a868a40ae84ee613f8cc464a74216163a}{Q\-String \hyperlink{class_server_config_a868a40ae84ee613f8cc464a74216163a}{get\-Session\-Path\-By\-Component} (Q\-String component\-I\-D)}\label{class_server_config_a868a40ae84ee613f8cc464a74216163a}

\begin{DoxyCompactList}\small\item\em Returns the filepath of the database for the Session associated with the input component. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_a4cbe4938f0593b69debed87c2e744699}{Q\-String \hyperlink{class_server_config_a4cbe4938f0593b69debed87c2e744699}{get\-Session\-I\-D\-By\-Component} (Q\-String component\-I\-D)}\label{class_server_config_a4cbe4938f0593b69debed87c2e744699}

\begin{DoxyCompactList}\small\item\em Returns the session\-I\-D of the Session associated with the input component. \end{DoxyCompactList}\item 
void \hyperlink{class_server_config_a5169a1d3ba39ad1f64998d6d1a9eb3a1}{set\-Activity} (Q\-String session\-I\-D, bool running)
\begin{DoxyCompactList}\small\item\em Sets the lastactivity field for the input session to the current time and changes the running field to the input value. \end{DoxyCompactList}\item 
\hypertarget{class_server_config_a35c54a2cbfd98f53105ee36d4176663e}{Q\-String\-List \hyperlink{class_server_config_a35c54a2cbfd98f53105ee36d4176663e}{get\-Running\-Sessions} ()}\label{class_server_config_a35c54a2cbfd98f53105ee36d4176663e}

\begin{DoxyCompactList}\small\item\em Returns a list of all sessions with \char`\"{}running\char`\"{} field of true (ie. They have not timed out). \end{DoxyCompactList}\item 
Q\-String\-List \hyperlink{class_server_config_a99f5a212ba07712ad3e7f109c4c0325b}{get\-Sessions\-Idled\-Before} (Q\-Date\-Time time)
\begin{DoxyCompactList}\small\item\em Returns a list of all sessions with \char`\"{}running\char`\"{} field of false and lastactivity time before the input time. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{class_server_config}{Server\-Config} handles the configuration of a Picto\-Server. 

The configuration of the server is stored in a config database. This object provides an interface for accessing the database, since we don't want to have access by random code.

Currently, the \hyperlink{class_server}{Server} configuration consists exclusively of information about the currently open and recently timed out sessions, the components attached to them and their associated Sqlite files. Functions are provided to access and change these values. In the future, other \hyperlink{class_server}{Server} configurations may be needed and can be added here.

\begin{DoxyNote}{Note}
A new (and unique) database connection is created everytime a \hyperlink{class_server_config}{Server\-Config} object is constructed. This is done because database connections can only be used from within the thread that created them, so we can't just create a single connection. 
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 26 of file Server\-Config.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_server_config_af61bcd662c3be06dd4219770350e65e6}{\index{Server\-Config@{Server\-Config}!Server\-Config@{Server\-Config}}
\index{Server\-Config@{Server\-Config}!ServerConfig@{Server\-Config}}
\subsubsection[{Server\-Config}]{\setlength{\rightskip}{0pt plus 5cm}Server\-Config\-::\-Server\-Config (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_server_config_af61bcd662c3be06dd4219770350e65e6}


Constructs a \hyperlink{class_server_config}{Server\-Config} object. 

Opens a connection to the .config Sqlite database that stores information about current and timed out Sessions. If the database file doesn't exist, it is created here. 

Definition at line 20 of file Server\-Config.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_server_config_a99f5a212ba07712ad3e7f109c4c0325b}{\index{Server\-Config@{Server\-Config}!get\-Sessions\-Idled\-Before@{get\-Sessions\-Idled\-Before}}
\index{get\-Sessions\-Idled\-Before@{get\-Sessions\-Idled\-Before}!ServerConfig@{Server\-Config}}
\subsubsection[{get\-Sessions\-Idled\-Before}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String\-List Server\-Config\-::get\-Sessions\-Idled\-Before (
\begin{DoxyParamCaption}
\item[{Q\-Date\-Time}]{time}
\end{DoxyParamCaption}
)}}\label{class_server_config_a99f5a212ba07712ad3e7f109c4c0325b}


Returns a list of all sessions with \char`\"{}running\char`\"{} field of false and lastactivity time before the input time. 

This is useful for figuring out if a Session timed out a long time ago or recently. 

Definition at line 196 of file Server\-Config.\-cpp.

\hypertarget{class_server_config_a5169a1d3ba39ad1f64998d6d1a9eb3a1}{\index{Server\-Config@{Server\-Config}!set\-Activity@{set\-Activity}}
\index{set\-Activity@{set\-Activity}!ServerConfig@{Server\-Config}}
\subsubsection[{set\-Activity}]{\setlength{\rightskip}{0pt plus 5cm}void Server\-Config\-::set\-Activity (
\begin{DoxyParamCaption}
\item[{Q\-String}]{session\-I\-D, }
\item[{bool}]{running}
\end{DoxyParamCaption}
)}}\label{class_server_config_a5169a1d3ba39ad1f64998d6d1a9eb3a1}


Sets the lastactivity field for the input session to the current time and changes the running field to the input value. 

lastactivity is the approximate time at which the last communication came in regarding this session. It is set as the current time. running indicates if the Session is currently open (ie. Not timedout) on the \hyperlink{class_server}{Server}. 

Definition at line 161 of file Server\-Config.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/server/connections/Server\-Config.\-h\item 
source/server/connections/Server\-Config.\-cpp\end{DoxyCompactItemize}
