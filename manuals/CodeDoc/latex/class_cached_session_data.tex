\hypertarget{class_cached_session_data}{\section{Cached\-Session\-Data Class Reference}
\label{class_cached_session_data}\index{Cached\-Session\-Data@{Cached\-Session\-Data}}
}


Stores session data in R\-A\-M for quick access until it is saved to disk.  




{\ttfamily \#include $<$Cached\-Session\-Data.\-h$>$}

Inheritance diagram for Cached\-Session\-Data\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_cached_session_data}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_cached_session_data_af55cc646029afe6a6ac0893a3bc8d5fc}{insert\-Data} (int data\-Type, int data\-Id, Q\-Variant\-List data)
\begin{DoxyCompactList}\small\item\em Adds a data entry of the input data\-Type with the input data\-Id to this object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_cached_session_data_a117bf457f1ec414ecb238ae9c60d35d4}{write\-Data} (int data\-Type, Q\-Variant\-List data)
\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data\-::write\-Data()} to write the input data entry to this objects data structure for values of the input data\-Type. \end{DoxyCompactList}\item 
Q\-List$<$ int $>$ \hyperlink{class_cached_session_data_aa63a22afd537fbaccbf68dee67981018}{read\-Data\-Types} ()
\begin{DoxyCompactList}\small\item\em Returns a list of integers representing types of data handled by this object. \end{DoxyCompactList}\item 
virtual Q\-List$<$ Q\-Variant\-List $>$ \hyperlink{class_cached_session_data_a772e4f41e01333a090f3e683e4f4e18f}{read\-Data} (int data\-Type, Q\-Variant condition, bool cut=false)
\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data\-::read\-Data()} to return all data of the input Data\-Type and delete it from this object if necessary. \end{DoxyCompactList}\item 
\hypertarget{class_cached_session_data_a6b9dc44ecbcacd2dce36bdb5ed0b10df}{virtual void {\bfseries erase\-Everything} ()}\label{class_cached_session_data_a6b9dc44ecbcacd2dce36bdb5ed0b10df}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_cached_session_data_aa3acc675e891edcf9dc79b2b5cb7d7b5}{Q\-Map$<$ int, Q\-Map$<$ int, \\*
Q\-Variant\-List $>$ $>$ {\bfseries data\-Map\-\_\-}}\label{class_cached_session_data_aa3acc675e891edcf9dc79b2b5cb7d7b5}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Stores session data in R\-A\-M for quick access until it is saved to disk. 

Data is stored in a lookup table of lookup tables, where the outer table is indexed by data\-Type, and the inner table is indexed by the Data\-Id of each particular event. By using this double lookup table we keep each data type separate and make sure that each individual data value is only ever written once even if it enters the \hyperlink{class_cached_session_data_a117bf457f1ec414ecb238ae9c60d35d4}{write\-Data()} function more than once. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 18 of file Cached\-Session\-Data.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_cached_session_data_af55cc646029afe6a6ac0893a3bc8d5fc}{\index{Cached\-Session\-Data@{Cached\-Session\-Data}!insert\-Data@{insert\-Data}}
\index{insert\-Data@{insert\-Data}!CachedSessionData@{Cached\-Session\-Data}}
\subsubsection[{insert\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void Cached\-Session\-Data\-::insert\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{int}]{data\-Id, }
\item[{Q\-Variant\-List}]{data}
\end{DoxyParamCaption}
)}}\label{class_cached_session_data_af55cc646029afe6a6ac0893a3bc8d5fc}


Adds a data entry of the input data\-Type with the input data\-Id to this object. 

Internally, this just adds data\-Id to the front of the data value and calls \hyperlink{class_session_data_a7cc8594766473824c591396b187354ad}{add\-Data()} 

Definition at line 17 of file Cached\-Session\-Data.\-cpp.

\hypertarget{class_cached_session_data_a772e4f41e01333a090f3e683e4f4e18f}{\index{Cached\-Session\-Data@{Cached\-Session\-Data}!read\-Data@{read\-Data}}
\index{read\-Data@{read\-Data}!CachedSessionData@{Cached\-Session\-Data}}
\subsubsection[{read\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ Q\-Variant\-List $>$ Cached\-Session\-Data\-::read\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{Q\-Variant}]{condition, }
\item[{bool}]{cut = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_cached_session_data_a772e4f41e01333a090f3e683e4f4e18f}


Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data\-::read\-Data()} to return all data of the input Data\-Type and delete it from this object if necessary. 

The condition parameter is not used. 

Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data}.



Definition at line 50 of file Cached\-Session\-Data.\-cpp.

\hypertarget{class_cached_session_data_aa63a22afd537fbaccbf68dee67981018}{\index{Cached\-Session\-Data@{Cached\-Session\-Data}!read\-Data\-Types@{read\-Data\-Types}}
\index{read\-Data\-Types@{read\-Data\-Types}!CachedSessionData@{Cached\-Session\-Data}}
\subsubsection[{read\-Data\-Types}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ int $>$ Cached\-Session\-Data\-::read\-Data\-Types (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_cached_session_data_aa63a22afd537fbaccbf68dee67981018}


Returns a list of integers representing types of data handled by this object. 

For example, if this \hyperlink{class_session_data}{Session\-Data} handles both Transition traversal and Property value change data, Transition traversal data might be data type 1 and Property value change data might be data type 2 such that this functio would return \{1,2\}. 

Implements \hyperlink{class_session_data_a4b879f10ecfbfcaa12c2dbbc1b15bdff}{Session\-Data}.



Definition at line 41 of file Cached\-Session\-Data.\-cpp.

\hypertarget{class_cached_session_data_a117bf457f1ec414ecb238ae9c60d35d4}{\index{Cached\-Session\-Data@{Cached\-Session\-Data}!write\-Data@{write\-Data}}
\index{write\-Data@{write\-Data}!CachedSessionData@{Cached\-Session\-Data}}
\subsubsection[{write\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void Cached\-Session\-Data\-::write\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{Q\-Variant\-List}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_cached_session_data_a117bf457f1ec414ecb238ae9c60d35d4}


Implements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data\-::write\-Data()} to write the input data entry to this objects data structure for values of the input data\-Type. 

Since no one ever copies or moves data to \hyperlink{class_cached_session_data}{Cached\-Session\-Data} objects, we know that the value was written through \hyperlink{class_cached_session_data_af55cc646029afe6a6ac0893a3bc8d5fc}{insert\-Data()} and the first index in data will be the Data\-Id. We use this to make sure that we never overwrite a value that was already written due to things like the \hyperlink{class_director}{Director} resending data after a connection problem. 

Implements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data}.



Definition at line 31 of file Cached\-Session\-Data.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/server/connections/Cached\-Session\-Data.\-h\item 
source/server/connections/Cached\-Session\-Data.\-cpp\end{DoxyCompactItemize}
