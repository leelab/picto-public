\hypertarget{class_virtual_device_plugin}{\section{Virtual\-Device\-Plugin Class Reference}
\label{class_virtual_device_plugin}\index{Virtual\-Device\-Plugin@{Virtual\-Device\-Plugin}}
}


A plugin allowing the proxy server to interface with a Virtual\-Device.  




{\ttfamily \#include $<$virtualdeviceplugin.\-h$>$}

Inheritance diagram for Virtual\-Device\-Plugin\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_virtual_device_plugin}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_virtual_device_plugin_a1b4b61ed19aff589260827203ee7ba83}{\hyperlink{class_virtual_device_plugin_a1b4b61ed19aff589260827203ee7ba83}{Virtual\-Device\-Plugin} ()}\label{class_virtual_device_plugin_a1b4b61ed19aff589260827203ee7ba83}

\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{class_virtual_device_plugin}{Virtual\-Device\-Plugin} object. \end{DoxyCompactList}\item 
\hypertarget{class_virtual_device_plugin_af2f2429707d982e219789a9ded6049e1}{Q\-String \hyperlink{class_virtual_device_plugin_af2f2429707d982e219789a9ded6049e1}{device} () const }\label{class_virtual_device_plugin_af2f2429707d982e219789a9ded6049e1}

\begin{DoxyCompactList}\small\item\em The name of the device handled by this interface. \end{DoxyCompactList}\item 
\hypertarget{class_virtual_device_plugin_a7d6176c8c4b58857c33dbc309a99478d}{\hyperlink{class_neural_data_acq_interface_a18d2ffb89521e40cba91a159e47fd449}{Neural\-Data\-Acq\-Interface\-::device\-Status} \hyperlink{class_virtual_device_plugin_a7d6176c8c4b58857c33dbc309a99478d}{start\-Device} ()}\label{class_virtual_device_plugin_a7d6176c8c4b58857c33dbc309a99478d}

\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_neural_data_acq_interface_afaece5bd061753aa9a4b1e05c0d1e61d}{Neural\-Data\-Acq\-Interface\-::start\-Device()} to start each \hyperlink{class_virtual_event_source}{Virtual\-Event\-Source} object in the list of those objects. \end{DoxyCompactList}\item 
\hypertarget{class_virtual_device_plugin_abf30e433d584a282918d7ac03fd32f5a}{\hyperlink{class_neural_data_acq_interface_a18d2ffb89521e40cba91a159e47fd449}{Neural\-Data\-Acq\-Interface\-::device\-Status} \hyperlink{class_virtual_device_plugin_abf30e433d584a282918d7ac03fd32f5a}{stop\-Device} ()}\label{class_virtual_device_plugin_abf30e433d584a282918d7ac03fd32f5a}

\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_neural_data_acq_interface_afaece5bd061753aa9a4b1e05c0d1e61d}{Neural\-Data\-Acq\-Interface\-::start\-Device()} to stop each \hyperlink{class_virtual_event_source}{Virtual\-Event\-Source} object in the list of those objects. \end{DoxyCompactList}\item 
\hypertarget{class_virtual_device_plugin_a8e80cfda526214a3d183c5c24ba9548b}{\hyperlink{class_neural_data_acq_interface_a18d2ffb89521e40cba91a159e47fd449}{Neural\-Data\-Acq\-Interface\-::device\-Status} \hyperlink{class_virtual_device_plugin_a8e80cfda526214a3d183c5c24ba9548b}{get\-Device\-Status} ()}\label{class_virtual_device_plugin_a8e80cfda526214a3d183c5c24ba9548b}

\begin{DoxyCompactList}\small\item\em Returns the current device\-Status of this \hyperlink{class_neural_data_acq_interface}{Neural\-Data\-Acq\-Interface}. \end{DoxyCompactList}\item 
\hypertarget{class_virtual_device_plugin_ad05755e36d3d4b9afd4d90936d76a56c}{float \hyperlink{class_virtual_device_plugin_ad05755e36d3d4b9afd4d90936d76a56c}{sampling\-Rate} ()}\label{class_virtual_device_plugin_ad05755e36d3d4b9afd4d90936d76a56c}

\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_neural_data_acq_interface_ab5de05e0b1bd90ac37d0fd7e317e85e3}{Neural\-Data\-Acq\-Interface\-::sampling\-Rate()} to return the minimum sample rate of all \hyperlink{class_virtual_event_source}{Virtual\-Event\-Source} objects. \end{DoxyCompactList}\item 
Q\-List$<$ Q\-Shared\-Pointer\\*
$<$ \hyperlink{class_picto_1_1_data_unit}{Picto\-::\-Data\-Unit} $>$ $>$ \hyperlink{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}{dump\-Data} ()
\begin{DoxyCompactList}\small\item\em Returns a list of Data\-Units read from the Neural data device since the last call to this function. \end{DoxyCompactList}\item 
bool \hyperlink{class_virtual_device_plugin_af7891e45e88097d17e3de1cb71cbbf0c}{acq\-Data\-After\-Now} ()
\begin{DoxyCompactList}\small\item\em Causes the interface to throw out all data collected before now. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A plugin allowing the proxy server to interface with a Virtual\-Device. 

This plugin runs a virtual device and returns its alignment events, spikes and L\-F\-P readings through the standard proxy plugin interface. It is purely for debugging purposes at this point and it can only be extended to run a different type of virtual device from within the C++ code itself. The plugin relies on three types of \hyperlink{class_virtual_event_source}{Virtual\-Event\-Source} objects, \hyperlink{class_simple_spike_source}{Simple\-Spike\-Source}, \hyperlink{class_simple_mark_source}{Simple\-Mark\-Source}, and \hyperlink{class_simple_l_f_p_source}{Simple\-L\-F\-P\-Source}. Every time dump\-Data is called, the plugin calls get\-Next\-Event() on each data source over and over until get\-Next\-Event() returns a null event. The \hyperlink{class_virtual_event_source}{Virtual\-Event\-Source} objects always return data when get\-Next\-Event() is called until all of their virtual data up to the current time has been used up. This way, \hyperlink{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}{dump\-Data()} can be sure that it has all available virtual data when get\-Next\-Event() returns an empty pointer for all Virtual\-Event\-Sources. After all data from Virtual\-Event\-Sources is loaded, the data is added to the message that is sent to the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server} by the Proxy application that calls \hyperlink{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}{dump\-Data()}. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 32 of file virtualdeviceplugin.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_virtual_device_plugin_af7891e45e88097d17e3de1cb71cbbf0c}{\index{Virtual\-Device\-Plugin@{Virtual\-Device\-Plugin}!acq\-Data\-After\-Now@{acq\-Data\-After\-Now}}
\index{acq\-Data\-After\-Now@{acq\-Data\-After\-Now}!VirtualDevicePlugin@{Virtual\-Device\-Plugin}}
\subsubsection[{acq\-Data\-After\-Now}]{\setlength{\rightskip}{0pt plus 5cm}bool Virtual\-Device\-Plugin\-::acq\-Data\-After\-Now (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_virtual_device_plugin_af7891e45e88097d17e3de1cb71cbbf0c}


Causes the interface to throw out all data collected before now. 

No data gathered before this point should be returned by \hyperlink{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}{dump\-Data()}. This function returns true if the data before this point was successfully thrown out, false otherwise. 

Implements \hyperlink{class_neural_data_acq_interface_ae2a18728d2a56fe1a65a66e10a33282f}{Neural\-Data\-Acq\-Interface}.



Definition at line 189 of file virtualdeviceplugin.\-cpp.

\hypertarget{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}{\index{Virtual\-Device\-Plugin@{Virtual\-Device\-Plugin}!dump\-Data@{dump\-Data}}
\index{dump\-Data@{dump\-Data}!VirtualDevicePlugin@{Virtual\-Device\-Plugin}}
\subsubsection[{dump\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ Q\-Shared\-Pointer$<$ {\bf Picto\-::\-Data\-Unit} $>$ $>$ Virtual\-Device\-Plugin\-::dump\-Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_virtual_device_plugin_af350fb193b7948691aa36b32d1e9a4ef}


Returns a list of Data\-Units read from the Neural data device since the last call to this function. 

The returned list includes Neural\-Data\-Unit, Alignment\-Data\-Unit, and L\-F\-P\-Data\-Unit\-Package objects. The Neural\-Data\-Unit and Alignment\-Data\-Unit objects represent individual spikes and alignment events, but the L\-F\-P\-Data\-Unit\-Package represents a list of L\-F\-P readings for a particular channel. To keep the load on the server low but balance that with fresh data on the workstation, the typical L\-F\-P\-Data\-Unit\-Package should include about a half second's worth of data. 

Implements \hyperlink{class_neural_data_acq_interface_a5726ef21daaedd9947640b146e554c97}{Neural\-Data\-Acq\-Interface}.



Definition at line 167 of file virtualdeviceplugin.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/proxyplugins/virtualdeviceplugin/virtualdeviceplugin.\-h\item 
source/proxyplugins/virtualdeviceplugin/virtualdeviceplugin.\-cpp\end{DoxyCompactItemize}
