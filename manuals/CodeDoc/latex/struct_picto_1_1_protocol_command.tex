\hypertarget{struct_picto_1_1_protocol_command}{\section{Picto\-:\-:Protocol\-Command Struct Reference}
\label{struct_picto_1_1_protocol_command}\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}}
}


Represents a command in either the P\-I\-C\-T\-O or H\-T\-T\-P protocols.  




{\ttfamily \#include $<$Protocol\-Command.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{struct_picto_1_1_protocol_command_adbd18862073b5ed072eade60773968cc}{\hyperlink{struct_picto_1_1_protocol_command_adbd18862073b5ed072eade60773968cc}{Protocol\-Command} (Q\-String command\-Text)}\label{struct_picto_1_1_protocol_command_adbd18862073b5ed072eade60773968cc}

\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{struct_picto_1_1_protocol}{Protocol} command with the input command\-Text and parses it into this object to initialize all of its data values (using the \hyperlink{struct_picto_1_1_protocol_command_ad86a5f2aec553f620cebd5072c8a29d3}{parse()} function). \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_a0487b798662b4139c888332884bf2490}{void \hyperlink{struct_picto_1_1_protocol_command_a0487b798662b4139c888332884bf2490}{set\-Method} (Q\-String \-\_\-method)}\label{struct_picto_1_1_protocol_command_a0487b798662b4139c888332884bf2490}

\begin{DoxyCompactList}\small\item\em Sets the method for this command. The method is the overall action that the \hyperlink{struct_picto_1_1_protocol}{Protocol} will perform (ie. P\-U\-T or G\-E\-T in http). \end{DoxyCompactList}\item 
Q\-String \hyperlink{struct_picto_1_1_protocol_command_a0c277e402e007a6b6aa0dcbbe2ccce17}{get\-Method} ()
\begin{DoxyCompactList}\small\item\em Returns the method for this command. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_af1835a8f822695ab9936158c689f559c}{void \hyperlink{struct_picto_1_1_protocol_command_af1835a8f822695ab9936158c689f559c}{set\-Target} (Q\-String \-\_\-target)}\label{struct_picto_1_1_protocol_command_af1835a8f822695ab9936158c689f559c}

\begin{DoxyCompactList}\small\item\em Sets the target for this command. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_a31121c5431c5d34acfdd1ea795b020dd}{Q\-String \hyperlink{struct_picto_1_1_protocol_command_a31121c5431c5d34acfdd1ea795b020dd}{get\-Target} ()}\label{struct_picto_1_1_protocol_command_a31121c5431c5d34acfdd1ea795b020dd}

\begin{DoxyCompactList}\small\item\em Gets the target for this command. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_a6cca9f29a32eea2bdd8d0d85cc50d190}{void \hyperlink{struct_picto_1_1_protocol_command_a6cca9f29a32eea2bdd8d0d85cc50d190}{set\-Protocol\-Name} (Q\-String \-\_\-protocol\-Name)}\label{struct_picto_1_1_protocol_command_a6cca9f29a32eea2bdd8d0d85cc50d190}

\begin{DoxyCompactList}\small\item\em Sets the name of the \hyperlink{struct_picto_1_1_protocol}{Protocol} in which this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is defined. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_a5461b44e6341294b70ffeae4bb920ce3}{Q\-String \hyperlink{struct_picto_1_1_protocol_command_a5461b44e6341294b70ffeae4bb920ce3}{get\-Protocol\-Name} ()}\label{struct_picto_1_1_protocol_command_a5461b44e6341294b70ffeae4bb920ce3}

\begin{DoxyCompactList}\small\item\em Gets the name of the \hyperlink{struct_picto_1_1_protocol}{Protocol} in which this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is defined. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_abd2e3a2603f542dde108ee19c0598fba}{void \hyperlink{struct_picto_1_1_protocol_command_abd2e3a2603f542dde108ee19c0598fba}{set\-Protocol\-Version} (Q\-String \-\_\-protocol\-Version)}\label{struct_picto_1_1_protocol_command_abd2e3a2603f542dde108ee19c0598fba}

\begin{DoxyCompactList}\small\item\em Sets the version of the \hyperlink{struct_picto_1_1_protocol}{Protocol} in which this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is defined. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_acb95765354610da75c867b83b706d1d1}{Q\-String \hyperlink{struct_picto_1_1_protocol_command_acb95765354610da75c867b83b706d1d1}{get\-Protocol\-Version} ()}\label{struct_picto_1_1_protocol_command_acb95765354610da75c867b83b706d1d1}

\begin{DoxyCompactList}\small\item\em Gets the version of the \hyperlink{struct_picto_1_1_protocol}{Protocol} in which this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is defined. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_ac64b05348eadbffb42b3d8063895c8e0}{bool \hyperlink{struct_picto_1_1_protocol_command_ac64b05348eadbffb42b3d8063895c8e0}{has\-Field} (Q\-String field)}\label{struct_picto_1_1_protocol_command_ac64b05348eadbffb42b3d8063895c8e0}

\begin{DoxyCompactList}\small\item\em Returns true if this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} includes the input field type. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_abb55d5c9068111e39e367f54d09f7cf1}{Q\-String \hyperlink{struct_picto_1_1_protocol_command_abb55d5c9068111e39e367f54d09f7cf1}{get\-Field\-Value} (Q\-String field)}\label{struct_picto_1_1_protocol_command_abb55d5c9068111e39e367f54d09f7cf1}

\begin{DoxyCompactList}\small\item\em Returns the value of the input field type. \end{DoxyCompactList}\item 
void \hyperlink{struct_picto_1_1_protocol_command_a5861b74db064cda1640facab025a5c4d}{set\-Field\-Value} (Q\-String field, Q\-String value)
\begin{DoxyCompactList}\small\item\em Sets the input value to the input field type. If this field does not yet exist in the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} it is added. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_a75edefa02f23f8ea9425644637870a3c}{bool \hyperlink{struct_picto_1_1_protocol_command_a75edefa02f23f8ea9425644637870a3c}{is\-Pending\-Content} ()}\label{struct_picto_1_1_protocol_command_a75edefa02f23f8ea9425644637870a3c}

\begin{DoxyCompactList}\small\item\em Returns true if the size of the content payload is smaller than the stored size in the \char`\"{}\-Content-\/\-Length\char`\"{} field. \end{DoxyCompactList}\item 
int \hyperlink{struct_picto_1_1_protocol_command_ae1b43ba627c6c89f9ca35084e72eb49e}{set\-Content} (Q\-Byte\-Array \-\_\-content)
\item 
int \hyperlink{struct_picto_1_1_protocol_command_a84e174835f6504315c42269438f87e54}{add\-To\-Content} (Q\-Byte\-Array \-\_\-content)
\item 
Q\-Byte\-Array \hyperlink{struct_picto_1_1_protocol_command_a9b8e81cf4f3675fef7922d3ad3e13456}{get\-Content} ()
\begin{DoxyCompactList}\small\item\em Returns the content of this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}. \end{DoxyCompactList}\item 
bool \hyperlink{struct_picto_1_1_protocol_command_aea9dc20cfbb8a0ee0d846eb5fe8cdd8f}{is\-Well\-Formed} ()
\begin{DoxyCompactList}\small\item\em Returns true if this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is valid. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_protocol_command_ad86a5f2aec553f620cebd5072c8a29d3}{void \hyperlink{struct_picto_1_1_protocol_command_ad86a5f2aec553f620cebd5072c8a29d3}{parse} (Q\-String command\-Text)}\label{struct_picto_1_1_protocol_command_ad86a5f2aec553f620cebd5072c8a29d3}

\begin{DoxyCompactList}\small\item\em Parses the input command\-Text into this object to initialize all of its data values. \end{DoxyCompactList}\item 
int \hyperlink{struct_picto_1_1_protocol_command_aa889e2721083fde57ec986115e86870d}{write} (Q\-Abstract\-Socket $\ast$socket)
\begin{DoxyCompactList}\small\item\em Writes this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} out over the input Q\-Abstract\-Socket. \end{DoxyCompactList}\item 
int \hyperlink{struct_picto_1_1_protocol_command_a0c7bbe0621b85d015c27fd01e842bb87}{read} (Q\-Abstract\-Socket $\ast$socket, int timeout\-Ms=0)
\begin{DoxyCompactList}\small\item\em Reads a command from the socket, and returns the bytes of content (frequently 0) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Represents a command in either the P\-I\-C\-T\-O or H\-T\-T\-P protocols. 

The \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} object is used to parse and execute commands received via the P\-I\-C\-T\-O protocol. Since the P\-I\-C\-T\-O protocol shares the same semantics as the H\-T\-T\-P protocol, a \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} object can be used for both purposes. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 25 of file Protocol\-Command.\-h.



\subsection{Member Function Documentation}
\hypertarget{struct_picto_1_1_protocol_command_a84e174835f6504315c42269438f87e54}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!add\-To\-Content@{add\-To\-Content}}
\index{add\-To\-Content@{add\-To\-Content}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{add\-To\-Content}]{\setlength{\rightskip}{0pt plus 5cm}int Picto\-::\-Protocol\-Command\-::add\-To\-Content (
\begin{DoxyParamCaption}
\item[{Q\-Byte\-Array}]{\-\_\-content}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_a84e174835f6504315c42269438f87e54}
Appends the provided {\itshape \-\_\-content} to the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}'s existing payload, if any. No Content-\/\-Length field is added to the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}'s fields, nor is an existing Content-\/\-Length field modified by this method. 
\begin{DoxyParams}{Parameters}
{\em \-\_\-content} & a Q\-Byte\-Array containing the content to be added to the payload \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an integer containing the remaining content length needed for a well formed command If no Content-\/\-Length field is present, this function will return std\-::numeric\-\_\-limits$<$int$>$\-::min() If the added content causes the stored content to exceed the value specified by the Content-\/\-Length field, then this function will return a negative value 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
remaining\-Content\-Length(), \hyperlink{struct_picto_1_1_protocol_command_ae1b43ba627c6c89f9ca35084e72eb49e}{set\-Content()} 
\end{DoxySeeAlso}


Definition at line 90 of file Protocol\-Command.\-cpp.

\hypertarget{struct_picto_1_1_protocol_command_a9b8e81cf4f3675fef7922d3ad3e13456}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!get\-Content@{get\-Content}}
\index{get\-Content@{get\-Content}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{get\-Content}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Byte\-Array Picto\-::\-Protocol\-Command\-::get\-Content (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{struct_picto_1_1_protocol_command_a9b8e81cf4f3675fef7922d3ad3e13456}


Returns the content of this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{struct_picto_1_1_protocol_command_ae1b43ba627c6c89f9ca35084e72eb49e}{set\-Content()}, add\-To\-Contents() 
\end{DoxySeeAlso}


Definition at line 71 of file Protocol\-Command.\-h.

\hypertarget{struct_picto_1_1_protocol_command_a0c277e402e007a6b6aa0dcbbe2ccce17}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!get\-Method@{get\-Method}}
\index{get\-Method@{get\-Method}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{get\-Method}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String Picto\-::\-Protocol\-Command\-::get\-Method (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{struct_picto_1_1_protocol_command_a0c277e402e007a6b6aa0dcbbe2ccce17}


Returns the method for this command. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{struct_picto_1_1_protocol_command_a0487b798662b4139c888332884bf2490}{set\-Method()} 
\end{DoxySeeAlso}


Definition at line 37 of file Protocol\-Command.\-h.

\hypertarget{struct_picto_1_1_protocol_command_aea9dc20cfbb8a0ee0d846eb5fe8cdd8f}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!is\-Well\-Formed@{is\-Well\-Formed}}
\index{is\-Well\-Formed@{is\-Well\-Formed}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{is\-Well\-Formed}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-Protocol\-Command\-::is\-Well\-Formed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_aea9dc20cfbb8a0ee0d846eb5fe8cdd8f}


Returns true if this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is valid. 

Validity is defined as including no parse errors, having a target, method and version, and having a \char`\"{}\-Content-\/\-Length\char`\"{} field that matches the size of the content payload. 

Definition at line 145 of file Protocol\-Command.\-cpp.

\hypertarget{struct_picto_1_1_protocol_command_a0c7bbe0621b85d015c27fd01e842bb87}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!read@{read}}
\index{read@{read}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}int Picto\-::\-Protocol\-Command\-::read (
\begin{DoxyParamCaption}
\item[{Q\-Abstract\-Socket $\ast$}]{socket, }
\item[{int}]{timeout\-Ms = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_a0c7bbe0621b85d015c27fd01e842bb87}


Reads a command from the socket, and returns the bytes of content (frequently 0) 

Reads a \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} in over the input socket, waiting a maximum of timeout\-Ms for it to arrive. Initializes all of this Protocol\-Commands data based on the input text.

If this function returns a positive value, it is the size of the content payload read in from the socket. If the return value is negative, some error occured.
\begin{DoxyItemize}
\item -\/1\-: No data came in over the socket
\item -\/2\-: The first line of the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} data was misformed
\item -\/4\-: A field\-:value pairs was misformed.
\item Another negative value\-: The size of the content payload read in times -\/1. This is reported when the content payload size didn't match the \char`\"{}\-Content-\/\-Length\char`\"{} field. 
\end{DoxyItemize}

Definition at line 219 of file Protocol\-Command.\-cpp.

\hypertarget{struct_picto_1_1_protocol_command_ae1b43ba627c6c89f9ca35084e72eb49e}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!set\-Content@{set\-Content}}
\index{set\-Content@{set\-Content}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{set\-Content}]{\setlength{\rightskip}{0pt plus 5cm}int Picto\-::\-Protocol\-Command\-::set\-Content (
\begin{DoxyParamCaption}
\item[{Q\-Byte\-Array}]{\-\_\-content}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_ae1b43ba627c6c89f9ca35084e72eb49e}
Sets the provided {\itshape \-\_\-content} as the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}'s payload. No Content-\/\-Length field is added to the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command}'s fields, nor is an existing Content-\/\-Length field modified by this method. 
\begin{DoxyParams}{Parameters}
{\em \-\_\-content} & a Q\-Byte\-Array containing the content to be set as the payload \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an integer containing the remaining content length needed for a well formed command If no Content-\/\-Length field is present, this function will return std\-::numeric\-\_\-limits$<$int$>$\-::min() If the set content length exceeds the value specified by the Content-\/\-Length field, then this function will return a negative value 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
remaining\-Content\-Length(), \hyperlink{struct_picto_1_1_protocol_command_a84e174835f6504315c42269438f87e54}{add\-To\-Content()} 
\end{DoxySeeAlso}


Definition at line 107 of file Protocol\-Command.\-cpp.

\hypertarget{struct_picto_1_1_protocol_command_a5861b74db064cda1640facab025a5c4d}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!set\-Field\-Value@{set\-Field\-Value}}
\index{set\-Field\-Value@{set\-Field\-Value}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{set\-Field\-Value}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Protocol\-Command\-::set\-Field\-Value (
\begin{DoxyParamCaption}
\item[{Q\-String}]{field, }
\item[{Q\-String}]{value}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_a5861b74db064cda1640facab025a5c4d}


Sets the input value to the input field type. If this field does not yet exist in the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} it is added. 

Modifies the headers so that the field {\itshape field} contains the value {\itshape value}. 
\begin{DoxyParams}{Parameters}
{\em field} & a Q\-String containing the field name \\
\hline
{\em value} & a Q\-String containing the value which should be assigned to the field {\itshape field} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}


Definition at line 129 of file Protocol\-Command.\-cpp.

\hypertarget{struct_picto_1_1_protocol_command_aa889e2721083fde57ec986115e86870d}{\index{Picto\-::\-Protocol\-Command@{Picto\-::\-Protocol\-Command}!write@{write}}
\index{write@{write}!Picto::ProtocolCommand@{Picto\-::\-Protocol\-Command}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}int Picto\-::\-Protocol\-Command\-::write (
\begin{DoxyParamCaption}
\item[{Q\-Abstract\-Socket $\ast$}]{socket}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_protocol_command_aa889e2721083fde57ec986115e86870d}


Writes this \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} out over the input Q\-Abstract\-Socket. 

This function returns the number of bytes written to the socket if it is succesful. If the function fails (ie. the \hyperlink{struct_picto_1_1_protocol_command}{Protocol\-Command} is not well\-Formed, the socket is not connected, etc) the function returns -\/1. 

Definition at line 170 of file Protocol\-Command.\-cpp.



The documentation for this struct was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/protocol/Protocol\-Command.\-h\item 
source/common/protocol/Protocol\-Command.\-cpp\end{DoxyCompactItemize}
