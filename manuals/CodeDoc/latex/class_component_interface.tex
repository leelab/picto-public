\hypertarget{class_component_interface}{\section{Component\-Interface Class Reference}
\label{class_component_interface}\index{Component\-Interface@{Component\-Interface}}
}


A base class for high level components that take orders from the \hyperlink{namespace_picto}{Picto} server and provide it with session data.  




{\ttfamily \#include $<$Component\-Interface.\-h$>$}

Inheritance diagram for Component\-Interface\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_component_interface}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_component_interface_a06eb2098a6ca2ed4ce36d6ddc03627fd}{Component\-Interface} (Q\-String type)
\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{class_component_interface}{Component\-Interface} with the input type name (ie. \char`\"{}\-Director\char`\"{}) \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_a9e0bf6312b07c414d29694740ca63817}{virtual \hyperlink{class_component_interface_a9e0bf6312b07c414d29694740ca63817}{$\sim$\-Component\-Interface} ()}\label{class_component_interface_a9e0bf6312b07c414d29694740ca63817}

\begin{DoxyCompactList}\small\item\em Closes this \hyperlink{class_component_interface}{Component\-Interface} object's config database before this object is destroyed. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_a3c9e4eb4ca4cbcda4bc6299c8931c893}{Q\-String \hyperlink{class_component_interface_a3c9e4eb4ca4cbcda4bc6299c8931c893}{component\-Type} ()}\label{class_component_interface_a3c9e4eb4ca4cbcda4bc6299c8931c893}

\begin{DoxyCompactList}\small\item\em Returns a string describing this type of \hyperlink{class_component_interface}{Component\-Interface} (it was passed into the constructor). \end{DoxyCompactList}\item 
virtual int \hyperlink{class_component_interface_aa5114fa432d4102e697b808c986a59bd}{activate} ()
\begin{DoxyCompactList}\small\item\em Called to activate this component and run this component. \end{DoxyCompactList}\item 
virtual int \hyperlink{class_component_interface_a5d5df5e3c0fddfdf2997467dfef8e94e}{de\-Activate} ()
\begin{DoxyCompactList}\small\item\em Deactivates the component interface to prepare it for closing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_component_interface_a8eacf83b45782b8393551de38d26de8f}{virtual Q\-String \hyperlink{class_component_interface_a8eacf83b45782b8393551de38d26de8f}{name} ()=0}\label{class_component_interface_a8eacf83b45782b8393551de38d26de8f}

\begin{DoxyCompactList}\small\item\em Returns the name of this \hyperlink{class_component_interface}{Component\-Interface}. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_a93b77c54abbcd8ea42afb9fd204049bd}{virtual int \hyperlink{class_component_interface_a93b77c54abbcd8ea42afb9fd204049bd}{open\-Device} ()}\label{class_component_interface_a93b77c54abbcd8ea42afb9fd204049bd}

\begin{DoxyCompactList}\small\item\em Initialize any devices and objects used by the component. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_ab4433362fe7d1e5c09dc556e7105f775}{virtual int \hyperlink{class_component_interface_ab4433362fe7d1e5c09dc556e7105f775}{close\-Device} ()}\label{class_component_interface_ab4433362fe7d1e5c09dc556e7105f775}

\begin{DoxyCompactList}\small\item\em Deinitialize any devices and objects used by the component. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_component_interface_aadc9171c9dae8415d5663f69ce17378c}{Q\-Shared\-Pointer\\*
$<$ \hyperlink{class_picto_1_1_command_channel}{Picto\-::\-Command\-Channel} $>$ \hyperlink{class_component_interface_aadc9171c9dae8415d5663f69ce17378c}{data\-Command\-Channel\-\_\-}}\label{class_component_interface_aadc9171c9dae8415d5663f69ce17378c}

\begin{DoxyCompactList}\small\item\em The command channel used to send data to the server and recieve responses. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_acbc401183b1e3ad78397944628bf8e74}{Q\-Shared\-Pointer\\*
$<$ \hyperlink{class_component_status_manager}{Component\-Status\-Manager} $>$ \hyperlink{class_component_interface_acbc401183b1e3ad78397944628bf8e74}{status\-Manager\-\_\-}}\label{class_component_interface_acbc401183b1e3ad78397944628bf8e74}

\begin{DoxyCompactList}\small\item\em Tracks the status of the session, handles periodic updates to the \hyperlink{class_server}{Server} and generally just keeps the \hyperlink{class_component_interface}{Component\-Interface} -\/ \hyperlink{class_server}{Server} connection alive. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_a56beae2f457b7e5b735f0344db1d6b82}{Q\-Uuid \hyperlink{class_component_interface_a56beae2f457b7e5b735f0344db1d6b82}{component\-Id\-\_\-}}\label{class_component_interface_a56beae2f457b7e5b735f0344db1d6b82}

\begin{DoxyCompactList}\small\item\em The unique I\-D of this \hyperlink{class_component_interface}{Component\-Interface}. \end{DoxyCompactList}\item 
\hypertarget{class_component_interface_a51568b32bb6fc35706054b57bc5725a3}{Q\-String \hyperlink{class_component_interface_a51568b32bb6fc35706054b57bc5725a3}{component\-Type\-\_\-}}\label{class_component_interface_a51568b32bb6fc35706054b57bc5725a3}

\begin{DoxyCompactList}\small\item\em A string describing the type of this \hyperlink{class_component_interface}{Component\-Interface}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A base class for high level components that take orders from the \hyperlink{namespace_picto}{Picto} server and provide it with session data. 

Currently, the \hyperlink{namespace_picto}{Picto} \hyperlink{class_director}{Director} and Proxy are the two \hyperlink{class_component_interface}{Component\-Interface} users types. Originally these two functioned very differently, with the \hyperlink{class_director}{Director} pushing data to the \hyperlink{class_server}{Server} and the server polling the Proxy for data whenever it was ready for it. This seemed silly since the Proxy is always gathering at least lfp data and certainly wants to offload it to the server, whereas the server pretty much just always wants whatever data is available and never needs to poll the same data twice, so we decided to create one system that could be reused in both cases, and the \hyperlink{class_component_interface}{Component\-Interface} is that system. It is a fairly simple class. Component\-Interfaces can be activated and deactivated and they should include functionality for opening and closing underlying devices in implementations of \hyperlink{class_component_interface_a93b77c54abbcd8ea42afb9fd204049bd}{open\-Device()} and \hyperlink{class_component_interface_ab4433362fe7d1e5c09dc556e7105f775}{close\-Device()}. Component\-Interfaces always include an underlying Command\-Channel which sends data to the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server}, they have a unique I\-D to identify them and include a type name to identify the role of their data in an overall session. They also include a \hyperlink{class_component_status_manager}{Component\-Status\-Manager} which tracks the status of the session and handles periodic updates to the \hyperlink{class_server}{Server} informing it of the current \hyperlink{class_component_interface}{Component\-Interface} status and generally just keeping the connection alive. \begin{DoxyNote}{Note}
As discussed at length in the Command\-Channel documentation (particularly Command\-Channel\-::process\-Responses()), \hyperlink{class_component_interface}{Component\-Interface} design suffers considerably from the design restriction of not using the Qt Event Loop. That restriction was imposed when we used to think the Qt Event Loop would slow things down to an extent that we might miss stimulus frames during expeiriment runs in the \hyperlink{namespace_picto}{Picto} \hyperlink{class_director}{Director}. We should make it a priority to remove this restriction now that computer speeds are not as restrictive as they were when that decision was made. We should refactor this class, along with the entire experimental run paradigm to work within the Qt Event Loop. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See Also}
\hyperlink{class_component_status_manager}{Component\-Status\-Manager}, Command\-Channel, Command\-Channel\-::process\-Responses() 
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 33 of file Component\-Interface.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_component_interface_a06eb2098a6ca2ed4ce36d6ddc03627fd}{\index{Component\-Interface@{Component\-Interface}!Component\-Interface@{Component\-Interface}}
\index{Component\-Interface@{Component\-Interface}!ComponentInterface@{Component\-Interface}}
\subsubsection[{Component\-Interface}]{\setlength{\rightskip}{0pt plus 5cm}Component\-Interface\-::\-Component\-Interface (
\begin{DoxyParamCaption}
\item[{Q\-String}]{type}
\end{DoxyParamCaption}
)}}\label{class_component_interface_a06eb2098a6ca2ed4ce36d6ddc03627fd}


Creates a new \hyperlink{class_component_interface}{Component\-Interface} with the input type name (ie. \char`\"{}\-Director\char`\"{}) 

This constructor also automatically creates a config file in the config directory according to the type string and stores this \hyperlink{class_component_interface}{Component\-Interface} objects Component\-I\-D (a unique I\-D identifying this component device) inside. 

Definition at line 29 of file Component\-Interface.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_component_interface_aa5114fa432d4102e697b808c986a59bd}{\index{Component\-Interface@{Component\-Interface}!activate@{activate}}
\index{activate@{activate}!ComponentInterface@{Component\-Interface}}
\subsubsection[{activate}]{\setlength{\rightskip}{0pt plus 5cm}int Component\-Interface\-::activate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_component_interface_aa5114fa432d4102e697b808c986a59bd}


Called to activate this component and run this component. 

Calls \hyperlink{class_component_interface_a93b77c54abbcd8ea42afb9fd204049bd}{open\-Device()} to initialize and devices and objects used by this component interface. Adds default Protocol\-Response\-Handler objects to this object's data Command\-Channel to handle responding to standard Protocol\-Response types that may come in from the server. Runs the \hyperlink{class_component_interface}{Component\-Interface} by calling Command\-Channel\-::process\-Responses() with input of -\/1. This is essentially the application's event loop. It causes the Command\-Channel to loop endlessly listening for commands within \hyperlink{class_server}{Server} responses, handle those responses, and periodically call update on the status\-Manager\-\_\-. The function only returns when the escape key is pressed. See Command\-Channel\-::process\-Responses() for more detail. \begin{DoxySeeAlso}{See Also}
Command\-Channel\-::process\-Responses() 
\end{DoxySeeAlso}


Definition at line 82 of file Component\-Interface.\-cpp.

\hypertarget{class_component_interface_a5d5df5e3c0fddfdf2997467dfef8e94e}{\index{Component\-Interface@{Component\-Interface}!de\-Activate@{de\-Activate}}
\index{de\-Activate@{de\-Activate}!ComponentInterface@{Component\-Interface}}
\subsubsection[{de\-Activate}]{\setlength{\rightskip}{0pt plus 5cm}int Component\-Interface\-::de\-Activate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_component_interface_a5d5df5e3c0fddfdf2997467dfef8e94e}


Deactivates the component interface to prepare it for closing. 

Calls \hyperlink{class_component_interface_ab4433362fe7d1e5c09dc556e7105f775}{close\-Device()} to deinitialize any devices and objects used by the component and sets the \hyperlink{class_component_status_manager}{Component\-Status\-Manager} status to idle. 

Definition at line 110 of file Component\-Interface.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/network/Component\-Interface.\-h\item 
source/common/network/Component\-Interface.\-cpp\end{DoxyCompactItemize}
