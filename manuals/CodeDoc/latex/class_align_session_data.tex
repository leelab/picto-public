\hypertarget{class_align_session_data}{\section{Align\-Session\-Data Class Reference}
\label{class_align_session_data}\index{Align\-Session\-Data@{Align\-Session\-Data}}
}


Stores Alignment event data for use in the \hyperlink{class_server}{Server}'s timestamp alignment system.  




{\ttfamily \#include $<$Align\-Session\-Data.\-h$>$}

Inheritance diagram for Align\-Session\-Data\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_align_session_data}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_align_session_data_ac77eec1a0456a1c24b21d10a6db0d905}{Align\-Session\-Data} (int data\-Type, int matched\-Column)
\begin{DoxyCompactList}\small\item\em Constructs an \hyperlink{class_align_session_data}{Align\-Session\-Data} object. \end{DoxyCompactList}\item 
void \hyperlink{class_align_session_data_a5b407864f3c2439050f5541407bfd645}{insert\-Data} (int data\-Id, Q\-Variant\-List data)
\begin{DoxyCompactList}\small\item\em Adds information about a single alignment entry to this object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_align_session_data_ab2e598eae6d62d0fb26dae4ba8fbcb74}{write\-Data} (int data\-Type, Q\-Variant\-List data)
\begin{DoxyCompactList}\small\item\em Imlements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data\-::write\-Data()} to write the input data to this object under the input data\-Type. \end{DoxyCompactList}\item 
\hypertarget{class_align_session_data_a06d69e9ddd59ad7503a1294677f1663c}{Q\-List$<$ int $>$ \hyperlink{class_align_session_data_a06d69e9ddd59ad7503a1294677f1663c}{read\-Data\-Types} ()}\label{class_align_session_data_a06d69e9ddd59ad7503a1294677f1663c}

\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_session_data_a4b879f10ecfbfcaa12c2dbbc1b15bdff}{Session\-Data\-::read\-Data\-Types()} to return only the single data type that was entered when this object was constructed. Only it is allowed to be used with this object. \end{DoxyCompactList}\item 
virtual Q\-List$<$ Q\-Variant\-List $>$ \hyperlink{class_align_session_data_a88815e5e509175a5a7c1851a9a012c88}{read\-Data} (int data\-Type, Q\-Variant condition, bool cut=false)
\begin{DoxyCompactList}\small\item\em Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data\-::read\-Data()} to read all data from this object. When cut is true only alignment entries that have already been matched are removed. \end{DoxyCompactList}\item 
\hypertarget{class_align_session_data_af7128f57df567bd85c3982d4a847cefe}{virtual void {\bfseries erase\-Everything} ()}\label{class_align_session_data_af7128f57df567bd85c3982d4a847cefe}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_align_session_data_a2a90bcb0469c0621b1b14e7eb01af9b2}{Q\-Map$<$ int, Q\-Variant\-List $>$ \hyperlink{class_align_session_data_a2a90bcb0469c0621b1b14e7eb01af9b2}{data\-Map\-\_\-}}\label{class_align_session_data_a2a90bcb0469c0621b1b14e7eb01af9b2}

\begin{DoxyCompactList}\small\item\em The data structure that holds this objects data. The map is indexed by data\-Id and includes Analysis event entries. \end{DoxyCompactList}\item 
\hypertarget{class_align_session_data_a0ba990a6ecab63b663c51958a36c17d5}{int \hyperlink{class_align_session_data_a0ba990a6ecab63b663c51958a36c17d5}{data\-Type\-\_\-}}\label{class_align_session_data_a0ba990a6ecab63b663c51958a36c17d5}

\begin{DoxyCompactList}\small\item\em The single data type that may be used with this object. It is the one entered into the constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Stores Alignment event data for use in the \hyperlink{class_server}{Server}'s timestamp alignment system. 

The alignment system frequently goes through the latest alignment events to have arrived from the \hyperlink{class_director}{Director} and Proxy and attemps to match them up. When they are matched, the alignment events are marked as such. This object stores these alignment events for the \hyperlink{class_director}{Director} and Proxy. It only actually cares about the alignment event's data\-Id and matched values. These values are tracked throughout internal logic to make sure that a previously written analysis event that has already been matched is not overwritten with an unmatched value due to things like a \hyperlink{class_director}{Director} resending the event. The matched column is also tracked to make sure that that values are never cut from this object during a \hyperlink{class_align_session_data_a88815e5e509175a5a7c1851a9a012c88}{read\-Data()} call until they are matched. \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 21 of file Align\-Session\-Data.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_align_session_data_ac77eec1a0456a1c24b21d10a6db0d905}{\index{Align\-Session\-Data@{Align\-Session\-Data}!Align\-Session\-Data@{Align\-Session\-Data}}
\index{Align\-Session\-Data@{Align\-Session\-Data}!AlignSessionData@{Align\-Session\-Data}}
\subsubsection[{Align\-Session\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Align\-Session\-Data\-::\-Align\-Session\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{int}]{matched\-Column}
\end{DoxyParamCaption}
)}}\label{class_align_session_data_ac77eec1a0456a1c24b21d10a6db0d905}


Constructs an \hyperlink{class_align_session_data}{Align\-Session\-Data} object. 


\begin{DoxyParams}{Parameters}
{\em data\-Type} & The type of data handled by this \hyperlink{class_align_session_data}{Align\-Session\-Data} object (B\-E\-H\-A\-V\-I\-O\-R\-A\-L\-\_\-\-A\-L\-I\-G\-N\-\_\-\-E\-V\-E\-N\-T\-S\-\_\-\-T\-Y\-P\-E or N\-E\-U\-R\-A\-L\-\_\-\-A\-L\-I\-G\-N\-\_\-\-E\-V\-E\-N\-T\-S\-\_\-\-T\-Y\-P\-E from \hyperlink{class_session_info}{Session\-Info}). \\
\hline
{\em matched\-Column} & The index of the value in each entry's Q\-Variant\-List that indicates whether the current Alignment event has been matched yet by its counterpart from the other system to be aligned. \\
\hline
\end{DoxyParams}


Definition at line 11 of file Align\-Session\-Data.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_align_session_data_a5b407864f3c2439050f5541407bfd645}{\index{Align\-Session\-Data@{Align\-Session\-Data}!insert\-Data@{insert\-Data}}
\index{insert\-Data@{insert\-Data}!AlignSessionData@{Align\-Session\-Data}}
\subsubsection[{insert\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void Align\-Session\-Data\-::insert\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Id, }
\item[{Q\-Variant\-List}]{data}
\end{DoxyParamCaption}
)}}\label{class_align_session_data_a5b407864f3c2439050f5541407bfd645}


Adds information about a single alignment entry to this object. 


\begin{DoxyParams}{Parameters}
{\em data\-Id} & The data\-Id of this alignment data entry \\
\hline
{\em data} & The alignment data as a Q\-Variant\-List where the \char`\"{}\-Matched\char`\"{} value must appear at the list index indicated in this object's constructor. \\
\hline
\end{DoxyParams}


Definition at line 27 of file Align\-Session\-Data.\-cpp.

\hypertarget{class_align_session_data_a88815e5e509175a5a7c1851a9a012c88}{\index{Align\-Session\-Data@{Align\-Session\-Data}!read\-Data@{read\-Data}}
\index{read\-Data@{read\-Data}!AlignSessionData@{Align\-Session\-Data}}
\subsubsection[{read\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ Q\-Variant\-List $>$ Align\-Session\-Data\-::read\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{Q\-Variant}]{condition, }
\item[{bool}]{cut = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_align_session_data_a88815e5e509175a5a7c1851a9a012c88}


Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data\-::read\-Data()} to read all data from this object. When cut is true only alignment entries that have already been matched are removed. 

\begin{DoxyNote}{Note}
Only the data\-Type used to construct this object may be used. If another type is used the returned list will be empty. 
\end{DoxyNote}


Implements \hyperlink{class_session_data_a81f4eb49b8a23eb9c1a1575abc2fad4c}{Session\-Data}.



Definition at line 67 of file Align\-Session\-Data.\-cpp.

\hypertarget{class_align_session_data_ab2e598eae6d62d0fb26dae4ba8fbcb74}{\index{Align\-Session\-Data@{Align\-Session\-Data}!write\-Data@{write\-Data}}
\index{write\-Data@{write\-Data}!AlignSessionData@{Align\-Session\-Data}}
\subsubsection[{write\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void Align\-Session\-Data\-::write\-Data (
\begin{DoxyParamCaption}
\item[{int}]{data\-Type, }
\item[{Q\-Variant\-List}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_align_session_data_ab2e598eae6d62d0fb26dae4ba8fbcb74}


Imlements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data\-::write\-Data()} to write the input data to this object under the input data\-Type. 

Since no one ever copies or moves data to \hyperlink{class_align_session_data}{Align\-Session\-Data} objects, we know that any data coming in here is coming from \hyperlink{class_align_session_data_a5b407864f3c2439050f5541407bfd645}{insert\-Data()}. That means that the first entry is always a Data\-Id. In this function, we make sure to write each Alignment event to this object's data map once and not write it again unless the Matched value is 1. This way Alignment data that was resent by the \hyperlink{class_director}{Director}, for example, can't overwrite an already matched Alignment entry. The Data\-Id value is used to identify if a particular value has been written before. 

Implements \hyperlink{class_session_data_ad05a594d8410d638f1a066bfa5a10ba3}{Session\-Data}.



Definition at line 44 of file Align\-Session\-Data.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/server/connections/Align\-Session\-Data.\-h\item 
source/server/connections/Align\-Session\-Data.\-cpp\end{DoxyCompactItemize}
