\hypertarget{struct_picto_1_1_server_discoverer}{\section{Picto\-:\-:Server\-Discoverer Struct Reference}
\label{struct_picto_1_1_server_discoverer}\index{Picto\-::\-Server\-Discoverer@{Picto\-::\-Server\-Discoverer}}
}


Used to find the \hyperlink{namespace_picto}{Picto} server instance on the local network.  




{\ttfamily \#include $<$Server\-Discoverer.\-h$>$}

Inheritance diagram for Picto\-:\-:Server\-Discoverer\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{struct_picto_1_1_server_discoverer}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}{discover} (int timeout=5000)
\begin{DoxyCompactList}\small\item\em Begins the server disocver process. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{struct_picto_1_1_server_discoverer_a8ed031367a6678de3d6bb828f4523c6c}{found\-Server} (Q\-Host\-Address picto\-Server\-Address, quint16 picto\-Server\-Port)
\begin{DoxyCompactList}\small\item\em Emitted when a server has been discovered. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_server_discoverer_ab1d51863b7e5ae6592385212e71df9b2}{void \hyperlink{struct_picto_1_1_server_discoverer_ab1d51863b7e5ae6592385212e71df9b2}{discover\-Failed} ()}\label{struct_picto_1_1_server_discoverer_ab1d51863b7e5ae6592385212e71df9b2}

\begin{DoxyCompactList}\small\item\em Emitted when server discovery fails within the timeout entered in a call to \hyperlink{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}{discover()}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{struct_picto_1_1_server_discoverer_a10fd33867ea3ef09055dd9f0d6cd2bd3}{{\bfseries Server\-Discoverer} (Q\-Object $\ast$parent=0)}\label{struct_picto_1_1_server_discoverer_a10fd33867ea3ef09055dd9f0d6cd2bd3}

\item 
bool \hyperlink{struct_picto_1_1_server_discoverer_a3835900b0377f135c09fdf5673c74a73}{wait\-For\-Discovered} (int timeout=30000)
\begin{DoxyCompactList}\small\item\em If this object is not running within a Qt Event Loop, this function may be used to create an event loop internally and allow this server discoverer to operate. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_server_discoverer_a014a51f2e39975b13b793d7d64699eda}{Q\-Host\-Address \hyperlink{struct_picto_1_1_server_discoverer_a014a51f2e39975b13b793d7d64699eda}{get\-Address} ()}\label{struct_picto_1_1_server_discoverer_a014a51f2e39975b13b793d7d64699eda}

\begin{DoxyCompactList}\small\item\em Returns the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server}'s I\-P Address, if it has been discovered or an empty Q\-Host\-Address otherwise. \end{DoxyCompactList}\item 
\hypertarget{struct_picto_1_1_server_discoverer_a855ffdc379615648f27fda19322d162b}{quint16 \hyperlink{struct_picto_1_1_server_discoverer_a855ffdc379615648f27fda19322d162b}{get\-Port} ()}\label{struct_picto_1_1_server_discoverer_a855ffdc379615648f27fda19322d162b}

\begin{DoxyCompactList}\small\item\em Returns the port on which communication to the \hyperlink{namespace_picto}{Picto} \hyperlink{class_server}{Server} should occur, or zero otherwise. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Used to find the \hyperlink{namespace_picto}{Picto} server instance on the local network. 

All \hyperlink{namespace_picto}{Picto} apps (except for \hyperlink{class_server}{Server}) communicate with the server. For this to occur, they need the I\-P address of the server and a communication port value. This is something that we could require the user to enter, but it is much more user-\/friendly to automate the process. The server discoverer object sends out a U\-D\-P broadcast, and then waits for a response from a server on the network with the requested information.

This object was not designed for use on a network with multiple servers, so its behavior in such a scenario is undefined. (If it still functions correctly, it will find {\itshape a} server, but which one will be a function of the server load and network conditions.)

\begin{DoxyNote}{Note}
Much of the work of discovering the server has been moved into the \hyperlink{class_picto_1_1_command_channel}{Command\-Channel} and happens automatically. This still appears to be used by some sections of the \hyperlink{namespace_picto}{Picto} code though. 
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 34 of file Server\-Discoverer.\-h.



\subsection{Member Function Documentation}
\hypertarget{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}{\index{Picto\-::\-Server\-Discoverer@{Picto\-::\-Server\-Discoverer}!discover@{discover}}
\index{discover@{discover}!Picto::ServerDiscoverer@{Picto\-::\-Server\-Discoverer}}
\subsubsection[{discover}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Server\-Discoverer\-::discover (
\begin{DoxyParamCaption}
\item[{int}]{timeout = {\ttfamily 5000}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}


Begins the server disocver process. 

This function will return right away and requires the Qt event loop to be functioning to operate or for \hyperlink{struct_picto_1_1_server_discoverer_a3835900b0377f135c09fdf5673c74a73}{wait\-For\-Discovered()} to be called (which creates an event loop internally).

If the server is discovered within the input timeout (in milliseconds), the \hyperlink{struct_picto_1_1_server_discoverer_a8ed031367a6678de3d6bb828f4523c6c}{found\-Server()} signal will be emitted. If the server is not discovered in time, \hyperlink{struct_picto_1_1_server_discoverer_ab1d51863b7e5ae6592385212e71df9b2}{discover\-Failed()} will be emitted. 

Definition at line 62 of file Server\-Discoverer.\-cpp.

\hypertarget{struct_picto_1_1_server_discoverer_a8ed031367a6678de3d6bb828f4523c6c}{\index{Picto\-::\-Server\-Discoverer@{Picto\-::\-Server\-Discoverer}!found\-Server@{found\-Server}}
\index{found\-Server@{found\-Server}!Picto::ServerDiscoverer@{Picto\-::\-Server\-Discoverer}}
\subsubsection[{found\-Server}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Server\-Discoverer\-::found\-Server (
\begin{DoxyParamCaption}
\item[{Q\-Host\-Address}]{picto\-Server\-Address, }
\item[{quint16}]{picto\-Server\-Port}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{struct_picto_1_1_server_discoverer_a8ed031367a6678de3d6bb828f4523c6c}


Emitted when a server has been discovered. 

picto\-Server\-Address is the server I\-P Address, picto\-Server\-Port is the port on which communication should occur. \hypertarget{struct_picto_1_1_server_discoverer_a3835900b0377f135c09fdf5673c74a73}{\index{Picto\-::\-Server\-Discoverer@{Picto\-::\-Server\-Discoverer}!wait\-For\-Discovered@{wait\-For\-Discovered}}
\index{wait\-For\-Discovered@{wait\-For\-Discovered}!Picto::ServerDiscoverer@{Picto\-::\-Server\-Discoverer}}
\subsubsection[{wait\-For\-Discovered}]{\setlength{\rightskip}{0pt plus 5cm}bool Picto\-::\-Server\-Discoverer\-::wait\-For\-Discovered (
\begin{DoxyParamCaption}
\item[{int}]{timeout = {\ttfamily 30000}}
\end{DoxyParamCaption}
)}}\label{struct_picto_1_1_server_discoverer_a3835900b0377f135c09fdf5673c74a73}


If this object is not running within a Qt Event Loop, this function may be used to create an event loop internally and allow this server discoverer to operate. 

The input timeout is time that will pass in this function before it exits. If used with the \hyperlink{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}{discover()} function, the procedure would be to connect to the \hyperlink{struct_picto_1_1_server_discoverer_a8ed031367a6678de3d6bb828f4523c6c}{found\-Server()} and \hyperlink{struct_picto_1_1_server_discoverer_ab1d51863b7e5ae6592385212e71df9b2}{discover\-Failed()} signals, then call \hyperlink{struct_picto_1_1_server_discoverer_afdbfa7e1d36d540892d1fae30505ca42}{discover()} with a timeout input, then call \hyperlink{struct_picto_1_1_server_discoverer_a3835900b0377f135c09fdf5673c74a73}{wait\-For\-Discovered()} with the same timeout input or higher. 

Definition at line 147 of file Server\-Discoverer.\-cpp.



The documentation for this struct was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/network/Server\-Discoverer.\-h\item 
source/common/network/Server\-Discoverer.\-cpp\end{DoxyCompactItemize}
