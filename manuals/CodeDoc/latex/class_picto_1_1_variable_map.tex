\hypertarget{class_picto_1_1_variable_map}{\section{Picto\-:\-:Variable\-Map Class Reference}
\label{class_picto_1_1_variable_map}\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}}
}


A variable map that is used for storing values in a lookup table.  




{\ttfamily \#include $<$Variable\-Map.\-h$>$}

Inheritance diagram for Picto\-:\-:Variable\-Map\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7.000000cm]{class_picto_1_1_variable_map}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_variable_map_a073b5f475010e7cf3dada48e206220fc}{int \hyperlink{class_picto_1_1_variable_map_a073b5f475010e7cf3dada48e206220fc}{length} ()}\label{class_picto_1_1_variable_map_a073b5f475010e7cf3dada48e206220fc}

\begin{DoxyCompactList}\small\item\em Returns the number of values in this map. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a1c2bb196fce684d37622708ed4906b61}{void \hyperlink{class_picto_1_1_variable_map_a1c2bb196fce684d37622708ed4906b61}{set\-Value} (Q\-Variant key, Q\-Variant value)}\label{class_picto_1_1_variable_map_a1c2bb196fce684d37622708ed4906b61}

\begin{DoxyCompactList}\small\item\em Sets the value under the input key to the input value. If the key is already in the map, its value is replaced. \end{DoxyCompactList}\item 
void \hyperlink{class_picto_1_1_variable_map_afba834998d686c7b287b171f5992f642}{from\-Assoc\-Array} (Q\-Variant\-Map assoc\-Array)
\begin{DoxyCompactList}\small\item\em Resets the map from the input Variant map. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a5348b609c797f5919068755db0b86338}{double \hyperlink{class_picto_1_1_variable_map_a5348b609c797f5919068755db0b86338}{get\-Value\-As\-Num} (Q\-Variant key)}\label{class_picto_1_1_variable_map_a5348b609c797f5919068755db0b86338}

\begin{DoxyCompactList}\small\item\em Returns the value under the input key as a double. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a87750afd17a6e9107da462c148ab6ed4}{Q\-String \hyperlink{class_picto_1_1_variable_map_a87750afd17a6e9107da462c148ab6ed4}{get\-Value\-As\-String} (Q\-Variant key)}\label{class_picto_1_1_variable_map_a87750afd17a6e9107da462c148ab6ed4}

\begin{DoxyCompactList}\small\item\em Returns the value under the input key as a string. \end{DoxyCompactList}\item 
Q\-Variant\-List \hyperlink{class_picto_1_1_variable_map_abe328194917c8bda235ba52deb94abdb}{get\-Keys} ()
\begin{DoxyCompactList}\small\item\em Returns a variant list of keys defined in the map. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a410e591a616c96be82aff5109d8bf742}{double \hyperlink{class_picto_1_1_variable_map_a410e591a616c96be82aff5109d8bf742}{take\-At\-As\-Num} (Q\-Variant key)}\label{class_picto_1_1_variable_map_a410e591a616c96be82aff5109d8bf742}

\begin{DoxyCompactList}\small\item\em Returns the value under the input key as a double and removes it. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_ae2600c4149fb57cbaa2f1fea756228c9}{Q\-String \hyperlink{class_picto_1_1_variable_map_ae2600c4149fb57cbaa2f1fea756228c9}{take\-At\-As\-String} (Q\-Variant key)}\label{class_picto_1_1_variable_map_ae2600c4149fb57cbaa2f1fea756228c9}

\begin{DoxyCompactList}\small\item\em Returns the value under the input key as a string and removes it. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a2b11150c5e09b79d76a87e4cbcca08a5}{void \hyperlink{class_picto_1_1_variable_map_a2b11150c5e09b79d76a87e4cbcca08a5}{remove\-At} (Q\-Variant key)}\label{class_picto_1_1_variable_map_a2b11150c5e09b79d76a87e4cbcca08a5}

\begin{DoxyCompactList}\small\item\em Removes the input key and its value from the map. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_a80f995d73789085574d49dffdafb7ef8}{void \hyperlink{class_picto_1_1_variable_map_a80f995d73789085574d49dffdafb7ef8}{clear} ()}\label{class_picto_1_1_variable_map_a80f995d73789085574d49dffdafb7ef8}

\begin{DoxyCompactList}\small\item\em Clears the map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_picto_1_1_variable_map_ac315aa0dfcb6df14d419d70c5970489a}{Variable\-Map} ()
\begin{DoxyCompactList}\small\item\em Constructs an \hyperlink{class_picto_1_1_variable_map}{Variable\-Map}. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_ad0266cc8bf4ee3cffffdd6b9a4d4f477}{virtual Q\-String \hyperlink{class_picto_1_1_variable_map_ad0266cc8bf4ee3cffffdd6b9a4d4f477}{get\-U\-I\-Template} ()}\label{class_picto_1_1_variable_map_ad0266cc8bf4ee3cffffdd6b9a4d4f477}

\begin{DoxyCompactList}\small\item\em Returns the name of a user interface template that should be used to represent this element in a U\-I. \end{DoxyCompactList}\item 
virtual Q\-String \hyperlink{class_picto_1_1_variable_map_a56de651ffd82d88346309a4bfee6bd85}{friendly\-Type\-Name} ()
\begin{DoxyCompactList}\small\item\em Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_picto_1_1_variable_map_a5adc5441f5700fbd778fff6bf380dc08}{static Q\-Shared\-Pointer$<$ \hyperlink{class_picto_1_1_asset}{Asset} $>$ \hyperlink{class_picto_1_1_variable_map_a5adc5441f5700fbd778fff6bf380dc08}{Create} ()}\label{class_picto_1_1_variable_map_a5adc5441f5700fbd778fff6bf380dc08}

\begin{DoxyCompactList}\small\item\em Creates a new Q\-Variant\-Map and returns a shared \hyperlink{class_picto_1_1_asset}{Asset} pointer to it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{class_picto_1_1_variable_map_a8f40e1a04708e7632fa51b25e4eb4850}{post\-Deserialize} ()
\begin{DoxyCompactList}\small\item\em This function is called in \hyperlink{class_picto_1_1_asset_a8bed4da09ecb1c07ce0dab313a9aba67}{from\-Xml()} after successful deserialization and is used to initialize the \hyperlink{class_picto_1_1_asset}{Asset} based on values that were loaded in during deserialization. \end{DoxyCompactList}\item 
\hypertarget{class_picto_1_1_variable_map_ac8284493461722d9d51f459de6e387e3}{virtual bool \hyperlink{class_picto_1_1_variable_map_ac8284493461722d9d51f459de6e387e3}{validate\-Object} (Q\-Shared\-Pointer$<$ Q\-Xml\-Stream\-Reader $>$ xml\-Stream\-Reader)}\label{class_picto_1_1_variable_map_ac8284493461722d9d51f459de6e387e3}

\begin{DoxyCompactList}\small\item\em Verifies that, if the element has scripting elements, its name is valid for use in a script environment. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A variable map that is used for storing values in a lookup table. 

Objects of this class offer functions for adding and retrieving values as well as initialization of the map from a javascript associative array (\hyperlink{class_picto_1_1_variable_map_afba834998d686c7b287b171f5992f642}{from\-Assoc\-Array()}). Get functions can be used to retrieve items cast either as numbers or strings.

Internally, for transferring the map data over the network from the master \hyperlink{class_picto_1_1_experiment}{Experiment} to the Picto\-Server, data is stored in a Q\-Variant\-Map \hyperlink{class_picto_1_1_property}{Property} that converts the data into a \char`\"{}\-::\char`\"{} separated list of pairs of stringified values. A regular C++ Q\-Variant\-Map is maintained as well to keep \char`\"{}get\char`\"{} operations efficient. Internal code synchronizes the \hyperlink{class_picto_1_1_property}{Property} and C++ map whenever a \char`\"{}set\char`\"{} operation occurs both within a single object and over the network (ie. Slave object updated from changes in an object from the Master Expeirment). \begin{DoxyAuthor}{Author}
Joey Schnurr, Mark Hammond, Matt Gay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2009-\/2013 
\end{DoxyDate}


Definition at line 27 of file Variable\-Map.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_picto_1_1_variable_map_ac315aa0dfcb6df14d419d70c5970489a}{\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}!Variable\-Map@{Variable\-Map}}
\index{Variable\-Map@{Variable\-Map}!Picto::VariableMap@{Picto\-::\-Variable\-Map}}
\subsubsection[{Variable\-Map}]{\setlength{\rightskip}{0pt plus 5cm}Picto\-::\-Variable\-Map\-::\-Variable\-Map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_picto_1_1_variable_map_ac315aa0dfcb6df14d419d70c5970489a}


Constructs an \hyperlink{class_picto_1_1_variable_map}{Variable\-Map}. 

Adds a \char`\"{}\-Value\char`\"{} property to hold the map data. 

Definition at line 9 of file Variable\-Map.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{class_picto_1_1_variable_map_a56de651ffd82d88346309a4bfee6bd85}{\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}!friendly\-Type\-Name@{friendly\-Type\-Name}}
\index{friendly\-Type\-Name@{friendly\-Type\-Name}!Picto::VariableMap@{Picto\-::\-Variable\-Map}}
\subsubsection[{friendly\-Type\-Name}]{\setlength{\rightskip}{0pt plus 5cm}virtual Q\-String Picto\-::\-Variable\-Map\-::friendly\-Type\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_variable_map_a56de651ffd82d88346309a4bfee6bd85}


Returns a friendly string identifying this type of \hyperlink{class_picto_1_1_asset}{Asset}. 

This is a string that users will see, so check the spelling... we've had problems with that in the past (ie. \hyperlink{class_picto_1_1_target_controller}{Target\-Controller}, \char`\"{}\-Total Time Excceeded\char`\"{} result). 

Reimplemented from \hyperlink{class_picto_1_1_variable_abf83dc0e4cfbfe89c43720eca1c49664}{Picto\-::\-Variable}.



Definition at line 39 of file Variable\-Map.\-h.

\hypertarget{class_picto_1_1_variable_map_afba834998d686c7b287b171f5992f642}{\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}!from\-Assoc\-Array@{from\-Assoc\-Array}}
\index{from\-Assoc\-Array@{from\-Assoc\-Array}!Picto::VariableMap@{Picto\-::\-Variable\-Map}}
\subsubsection[{from\-Assoc\-Array}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Variable\-Map\-::from\-Assoc\-Array (
\begin{DoxyParamCaption}
\item[{Q\-Variant\-Map}]{assoc\-Array}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{class_picto_1_1_variable_map_afba834998d686c7b287b171f5992f642}


Resets the map from the input Variant map. 

When used in javascript, this object is reset from the input javascript Associative Array object. \begin{DoxyNote}{Note}
This cannot be used with to\-Assoc\-Array as a way of storing Javascript objects since function components of the object are not usable after the transfer. 
\end{DoxyNote}


Definition at line 41 of file Variable\-Map.\-cpp.

\hypertarget{class_picto_1_1_variable_map_abe328194917c8bda235ba52deb94abdb}{\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}!get\-Keys@{get\-Keys}}
\index{get\-Keys@{get\-Keys}!Picto::VariableMap@{Picto\-::\-Variable\-Map}}
\subsubsection[{get\-Keys}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant\-List Picto\-::\-Variable\-Map\-::get\-Keys (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{class_picto_1_1_variable_map_abe328194917c8bda235ba52deb94abdb}


Returns a variant list of keys defined in the map. 

If called from javascript, returns a javascript array containing the keys. 

Definition at line 51 of file Variable\-Map.\-cpp.

\hypertarget{class_picto_1_1_variable_map_a8f40e1a04708e7632fa51b25e4eb4850}{\index{Picto\-::\-Variable\-Map@{Picto\-::\-Variable\-Map}!post\-Deserialize@{post\-Deserialize}}
\index{post\-Deserialize@{post\-Deserialize}!Picto::VariableMap@{Picto\-::\-Variable\-Map}}
\subsubsection[{post\-Deserialize}]{\setlength{\rightskip}{0pt plus 5cm}void Picto\-::\-Variable\-Map\-::post\-Deserialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{class_picto_1_1_variable_map_a8f40e1a04708e7632fa51b25e4eb4850}


This function is called in \hyperlink{class_picto_1_1_asset_a8bed4da09ecb1c07ce0dab313a9aba67}{from\-Xml()} after successful deserialization and is used to initialize the \hyperlink{class_picto_1_1_asset}{Asset} based on values that were loaded in during deserialization. 

In the case of the \hyperlink{class_picto_1_1_asset}{Asset} class, during post\-Deserialize we tell the \hyperlink{class_picto_1_1_design_config}{Design\-Config} that if we have reached the stage of loading where \hyperlink{class_picto_1_1_asset}{Asset} I\-Ds must be unique, it should make sure that our \hyperlink{class_picto_1_1_asset}{Asset} I\-D is different from all others in this design. \begin{DoxySeeAlso}{See Also}
\hyperlink{class_picto_1_1_design_config_ab57e0738b97e4358ab09530cd6815fc0}{Design\-Config\-::fix\-Duplicated\-Asset\-Ids()} 
\end{DoxySeeAlso}


Reimplemented from \hyperlink{class_picto_1_1_variable_a447e12ef138cdd99ae9ba870ed3b5174}{Picto\-::\-Variable}.



Definition at line 76 of file Variable\-Map.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
source/common/variable/Variable\-Map.\-h\item 
source/common/variable/Variable\-Map.\-cpp\end{DoxyCompactItemize}
