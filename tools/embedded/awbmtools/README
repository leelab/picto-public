AWBMTools - a pair of utilities for creating full-screen BIOS Boot logos.
Copyright (c) 2002 by Alastair M. Robinson
Email: blackfive@fakenhamweb.co.uk


Legal:
~~~~~~
These programs (AWBM2TIFF and TIFF2AWBM) are free software; you can
redistribute them and/or modify them under the terms of the
GNU General Public License as published by the Free Software Foundation;
either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

*PLEASE NOTE* Flashing the BIOS on your computer is risky at the best of
times - flashing the BIOS with a modified BIOS image is *VERY DANGEROUS*
and may well result in a non-working motherboard that is very difficult,
if not impossible, to resurrect.  You use these programs, and their results
entirely at your own risk.


Background:
~~~~~~~~~~~
The VIA EPIA motherboard, with recent BIOS versions, has the ability to
display a fullscreen boot logo when booting, instead of the usual POST
screen.  The logo itself is embedded in the BIOS image, and although its
'filename' has the extension .BMP, it is *not* a BMP file - it's an odd
but simplistic format referred to herein as AWBM.

The boot logos created by this program have only been tested so far with
my VIA EPIA motherboard.  They may work with other boards with similar BIOS
capabilities, they may not.


What does it do?
~~~~~~~~~~~~~~~~
AWBM2TIFF and TIFF2AWBM convert images between 8-bit (256-colour) TIFF and
the custom AWBM format used by the EPIA BIOS.

This second release has better support for greyscale images, and no longer chokes
if an alpha channel is encountered.


What doesn't it do?
~~~~~~~~~~~~~~~~~~~
These programs *CANNOT* modify a BIOS image, or extract logos from a BIOS
image.  For that you need a program like CBROM (version 2.xx recommended,
Windows only, unfortunately).
These programs are only intended for use with full-screen logos - they
*CANNOT* be used to create EPA (Enery Star) logos.


How do I customise my Boot Logo?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
First create your logo in a graphics package.  For the EPIA you need to
make a 640x480 image with 256 colours.  Once you've done that, save it as
a TIFF file, and use:
  TIFF2AWBM logo.tiff logo.bmp
to convert to AWBM format.  (The original logo in the EPIA BIOS has the
filename VPSD.BMP, though it's most definitely *not* a BMP file...)
Now use CBROM to insert this logo into the BIOS image, by typing:
  CBROM EPIA0205.BIN /logo logo.bmp

If this succeeds, you can now flash your machine with the modified BIOS
image.

Note - if your logo is very elaborate, CBROM may complain that there isn't
enough room in the BIOS file.  The EPIA0205.BIN BIOS has about 18k of free
space for the logo - but a 640x480x256 image takes about 300k uncompressed.
The BIOS image is a basically a catalogue of lha files, so you can use lha
to guage how much space your logo will take when it's compressed:
lha a test.lha logo.bmp

*HINT* If you're having trouble keeping your logos small enough, try to
avoid dithering, and make sure any gradients are vertical (i.e. horizontal
scanlines have constant colour); this will help maximise the compression
that can be achieved.

*UPDATE*
If you're desparate for more BIOS space for your logo, it may be possible
to remove certain parts of the BIOS to make room.  On the EPIA 5000/800 BIOS
version 0207, you can safely remove the pxe.lom network boot rom, and the
EPA logo, with:

    CBROM EPIA0207.BIN /pci release
    CBROM EPIA0207.BIN /epa release

Obviously, doing this results in a machine that can no longer boot over a
network, but the free space for the boot logo is increased to around 45k.
If you still need network boot functionality, it may also be possible to
replace the pxe.lom boot rom with via-rhine etherboot rom, which supposedly
works, but is considerably smaller.  Please note, though, that I haven't
tried this...

*WARNING*
While I am currently using a pxe-less BIOS on my EPIA-5000, and it's working
nicely, it's quite possible that attempting the same thing on other
machines / BIOS revisions will result in a system that won't boot.
You proceed at your own risk!


Library information:
~~~~~~~~~~~~~~~~~~~~
These programs link against libtiff, which is:
Copyright (c) 1988-1997 Sam Leffler
Copyright (c) 1991-1997 Silicon Graphics, Inc.

Permission to use, copy, modify, distribute, and sell this software and
its documentation for any purpose is hereby granted without fee, provided
that (i) the above copyright notices and this permission notice appear in
all copies of the software and related documentation, and (ii) the names of
Sam Leffler and Silicon Graphics may not be used in any advertising or
publicity relating to the software without the specific, prior written
permission of Sam Leffler and Silicon Graphics.

THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,
EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY
WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF
LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
OF THIS SOFTWARE.

libtiff links against libjpeg6b (so is based in part on the work of
the Independent JPEG Group) and libz (which is (C) 1995-1998
Jean-loup Gailly and Mark Adler).
